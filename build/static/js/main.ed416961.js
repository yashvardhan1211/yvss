/*! For license information please see main.ed416961.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case k:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=M[F],M[F]=null,F--)}function B(e,t){F++,M[F]=e.current,e.current=t}var V=U(null),q=U(null),H=U(null),W=U(null);function K(e,t){switch(B(H,t),B(q,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sd(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(V),B(V,e)}function G(){z(V),z(q),z(H)}function Q(e){null!==e.memoizedState&&B(W,e);var t=V.current,n=sd(t,e.type);t!==n&&(B(q,e),B(V,n))}function J(e){q.current===e&&(z(V),z(q)),W.current===e&&(z(W),Qd._currentValue=L)}var Y=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,oe=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=ye(r):0!==(o&=a)?i=ye(o):n||0!==(n=a&~e)&&(i=ye(n)):0!==(a=r&~s)?i=ye(a):0!==o?i=ye(o):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ie,Re="__reactProps$"+Ie,Oe="__reactContainer$"+Ie,De="__reactEvents$"+Ie,Le="__reactListeners$"+Ie,Me="__reactHandles$"+Ie,Fe="__reactResources$"+Ie,Ue="__reactMarker$"+Ie;function ze(e){delete e[Pe],delete e[Re],delete e[De],delete e[Le],delete e[Me]}function Be(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Pe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Pe]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Ue]=!0}var Ke=new Set,Ge={};function Qe(e,t){Je(e,t),Je(e+"Capture",t)}function Je(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,$e,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Y.call(et,i)||!Y.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",$e=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+$e}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ct(t)):null!=n?yt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function vt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(R(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&_t(e,s,t[s])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Rt=null;function Ot(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Re]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Lt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Pt||null!==Rt)&&(Bc(),Pt&&(t=Pt,e=Rt,Rt=Pt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Rh){Ut=!1}var Bt=null,Vt=null,qt=null;function Ht(){if(qt)return qt;var e,t,n=Vt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Yt,$t,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Jt=e.screenX-$t.screenX,Yt=e.screenY-$t.screenY):Yt=Jt=0,$t=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Qt(nn),sn=Qt(h({},nn,{dataTransfer:0})),on=Qt(h({},en,{relatedTarget:0})),an=Qt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Qt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Qt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Qt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Qt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Qt(h({},Xt,{newState:0,oldState:0})),xn=[9,13,27,32],Sn=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var _n=Ft&&"TextEvent"in window&&!kn,En=Ft&&(!Sn||kn&&8<kn&&11>=kn),Nn=String.fromCharCode(32),Cn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Rt?Rt.push(r):Rt=[r]:Pt=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Ln(e){Lu(e,0)}function Mn(e){if(ht(qe(e)))return e}function Fn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var zn;if(Ft){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"===typeof Vn.oninput}zn=Bn}else zn=!1;Un=zn&&(!document.documentMode||9<document.documentMode)}function qn(){On&&(On.detachEvent("onpropertychange",Hn),Dn=On=null)}function Hn(e){if("value"===e.propertyName&&Mn(Dn)){var t=[];Rn(t,Dn,e,It(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?(qn(),Dn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(Dn)}function Gn(e,t){if("click"===e)return Mn(t)}function Qn(e,t){if("input"===e||"change"===e)return Mn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Y.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,or=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Yn(sr,r)||(sr=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Qe(t,[e])}xr.push("scrollEnd");var kr=new WeakMap;function _r(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Nr=0,Cr=0;function Tr(){for(var e=Nr,t=Cr=Nr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function Ar(e,t,n,r){Er[Nr++]=e,Er[Nr++]=t,Er[Nr++]=n,Er[Nr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Ar(e,t,n,r),Rr(e)}function Ir(e,t){return Ar(e,null,null,t),Rr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Rr(e){if(50<Pc)throw Pc=0,Rc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Dr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Mr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Lr(31,n,t,i)).elementType=C,e.lanes=s,e;case g:return Br(n.children,i,s,t);case v:a=8,i|=24;break;case y:return(e=Lr(12,n,t,2|i)).elementType=y,e.lanes=s,e;case k:return(e=Lr(13,n,t,i)).elementType=k,e.lanes=s,e;case _:return(e=Lr(19,n,t,i)).elementType=_,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:a=10;break e;case w:a=9;break e;case S:a=11;break e;case E:a=14;break e;case N:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Br(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Gr=0,Qr=[],Jr=0,Yr=null,$r=1,Xr="";function Zr(e,t){Hr[Wr++]=Gr,Hr[Wr++]=Kr,Kr=e,Gr=t}function ei(e,t,n){Qr[Jr++]=$r,Qr[Jr++]=Xr,Qr[Jr++]=Yr,Yr=e;var r=$r;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-fe(t)+i|n<<i|r,Xr=s+e}else $r=1<<s|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Gr=Hr[--Wr],Hr[Wr]=null;for(;e===Yr;)Yr=Qr[--Jr],Qr[Jr]=null,Xr=Qr[--Jr],Qr[Jr]=null,$r=Qr[--Jr],Qr[Jr]=null}var ri=null,ii=null,si=!1,oi=null,ai=!1,li=Error(o(519));function ci(e){throw mi(_r(Error(o(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Re]=r,n){case"dialog":Mu("cancel",t),Mu("close",t);break;case"iframe":case"object":case"embed":Mu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Mu(Ou[n],t);break;case"source":Mu("error",t);break;case"img":case"image":case"link":Mu("error",t),Mu("load",t);break;case"details":Mu("toggle",t);break;case"input":Mu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Mu("invalid",t);break;case"textarea":Mu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(Mu("beforetoggle",t),Mu("toggle",t)),null!=r.onScroll&&Mu("scroll",t),null!=r.onScrollEnd&&Mu("scrollend",t),null!=r.onClick&&(t.onclick=$u),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!si)return di(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fd(e.type)?(e=yd,yd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=oi;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),oi=null),e}function mi(e){null===oi?oi=[e]:oi.push(e)}var gi=U(null),vi=null,yi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,z(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xi(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),xi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function ki(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}i=i.return}null!==e&&Si(t,e,n,r),t.flags|=262144}function _i(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return Ti(vi,e)}function Ci(e,t){return null===vi&&Ei(e),Ti(e,t)}function Ti(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(o(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Pi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Ai,data:new Map,refCount:0}}function Oi(e){e.refCount--,0===e.refCount&&ji(Ii,function(){e.controller.abort()})}var Di=null,Li=0,Mi=0,Fi=null;function Ui(){if(0===--Li&&null!==Di){null!==Fi&&(Fi.status="fulfilled");var e=Di;Di=null,Mi=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var zi=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Di){var n=Di=[];Li=0,Mi=Au(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Ui,Ui)}(0,t),null!==zi&&zi(e,t)};var Bi=U(null);function Vi(){var e=Bi.current;return null!==e?e:rc.pooledCache}function qi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Hi(){var e=Vi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Wi=Error(o(460)),Ki=Error(o(474)),Gi=Error(o(542)),Qi={then:function(){}};function Ji(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yi(){}function $i(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yi,Yi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yi,Yi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function Zi(){if(null===Xi)throw Error(o(459));var e=Xi;return Xi=null,e}function es(e){if(e===Wi||e===Gi)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Pr(e,null,n),t}return Ar(e,r,t,n),Rr(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function as(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Fi)throw Fi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Mi&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:ts=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=d}}function ds(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function hs(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ds(n[e],t)}var fs=U(null),ps=U(0);function ms(e,t){B(ps,e=dc),B(fs,t),dc=e|t.baseLanes}function gs(){B(ps,dc),B(fs,fs.current)}function vs(){dc=ps.current,z(fs),z(ps)}var ys=0,bs=null,ws=null,xs=null,Ss=!1,ks=!1,_s=!1,Es=0,Ns=0,Cs=null,Ts=0;function As(){throw Error(o(321))}function js(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Is(e,t,n,r,i,s){return ys=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Ko:Go,_s=!1,s=n(r,i),_s=!1,ks&&(s=Rs(t,n,r,i)),Ps(e),s}function Ps(e){O.H=Wo;var t=null!==ws&&null!==ws.next;if(ys=0,xs=ws=bs=null,Ss=!1,Ns=0,Cs=null,t)throw Error(o(300));null===e||Ca||null!==(e=e.dependencies)&&_i(e)&&(Ca=!0)}function Rs(e,t,n,r){bs=e;var i=0;do{if(ks&&(Cs=null),Ns=0,ks=!1,25<=i)throw Error(o(301));if(i+=1,xs=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=Qo,s=t(n,r)}while(ks);return s}function Os(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?zs(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(bs.flags|=1024),t}function Ds(){var e=0!==Es;return Es=0,e}function Ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ms(e){if(Ss){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ss=!1}ys=0,xs=ws=bs=null,ks=!1,Ns=Es=0,Cs=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xs?bs.memoizedState=xs=e:xs=xs.next=e,xs}function Us(){if(null===ws){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===xs?bs.memoizedState:xs.next;if(null!==t)xs=t,ws=e;else{if(null===e){if(null===bs.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===xs?bs.memoizedState=xs=e:xs=xs.next=e}return xs}function zs(e){var t=Ns;return Ns+=1,null===Cs&&(Cs=[]),e=$i(Cs,e,t),t=bs,null===(null===xs?t.memoizedState:xs.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Ko:Go),e}function Bs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return zs(e);if(e.$$typeof===x)return Ni(e)}throw Error(o(438,String(e)))}function Vs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function qs(e,t){return"function"===typeof t?t(e):t}function Hs(e){return Ws(Us(),ws,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(sc&h)===h:(ys&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Mi&&(d=!0);else{if((ys&f)===f){u=u.next,f===Mi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=s):c=c.next=h,bs.lanes|=f,fc|=f}h=u.action,_s&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,bs.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Jn(s,e.memoizedState)&&(Ca=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Us(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Jn(s,t.memoizedState)||(Ca=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gs(e,t,n){var r=bs,i=Us(),s=si;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Jn((ws||i).memoizedState,n);if(a&&(i.memoizedState=n,Ca=!0),i=i.queue,vo(2048,8,Ys.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==xs&&1&xs.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Js.bind(null,r,i,n,t),null),null===rc)throw Error(o(349));s||0!==(124&ys)||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Js(e,t,n,r){t.value=n,t.getSnapshot=r,$s(t)&&Xs(e)}function Ys(e,t,n){return n(function(){$s(t)&&Xs(e)})}function $s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Xs(e){var t=Ir(e,2);null!==t&&Lc(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var n=e;if(e=n(),_s){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Ws(e,ws,"function"===typeof r?r:qs)}function to(e,t,n,r,i){if(Vo(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=n(i,r),l=O.S;null!==l&&l(o,a),ro(e,t,a)}catch(c){so(e,t,c)}finally{O.T=s}}else try{ro(e,t,s=n(i,r))}catch(u){so(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){io(e,t,n)},function(n){return so(e,t,n)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function lo(e,t){if(si){var n=rc.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=ai;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=r,n=Uo.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Bo.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=i,n=to.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Us(),ws,e)}function uo(e,t,n){if(t=Ws(e,t,ao)[0],e=Hs(qs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=zs(t)}catch(o){if(o===Wi)throw Gi;throw o}else r=t;var i=(t=Us()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,i,n),null)),[r,s,e]}function ho(e,t){e.action=t}function fo(e){var t=Us(),n=ws;if(null!==n)return uo(t,n,e);Us(),t=t.memoizedState;var r=(n=Us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Us().memoizedState}function go(e,t,n,r){var i=Fs();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function vo(e,t,n,r){var i=Us();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ws&&null!==r&&js(r,ws.memoizedState.deps)?i.memoizedState=po(t,s,n,r):(bs.flags|=e,i.memoizedState=po(1|t,s,n,r))}function yo(e,t){go(8390656,8,e,t)}function bo(e,t){vo(2048,8,e,t)}function wo(e,t){return vo(4,2,e,t)}function xo(e,t){return vo(4,4,e,t)}function So(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,4,So.bind(null,t,e),n)}function _o(){}function Eo(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&js(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&js(t,r[1]))return r[0];if(r=e(),_s){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Co(e,t,n){return void 0===n||0!==(1073741824&ys)?e.memoizedState=t:(e.memoizedState=n,e=Dc(),bs.lanes|=e,fc|=e,n)}function To(e,t,n,r){return Jn(n,t)?n:null!==fs.current?(e=Co(e,n,r),Jn(e,t)||(Ca=!0),e):0===(42&ys)?(Ca=!0,e.memoizedState=n):(e=Dc(),bs.lanes|=e,fc|=e,t)}function Ao(e,t,n,r,i){var s=D.p;D.p=0!==s&&8>s?s:8;var o=O.T,a={};O.T=a,Bo(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Oc());else zo(e,t,r,Oc())}catch(u){zo(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{D.p=s,O.T=o}}function jo(){}function Io(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Po(e).queue;Ao(e,i,t,L,null===n?jo:function(){return Ro(e),n(r)})}function Po(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ro(e){zo(e,Po(e).next.queue,{},Oc())}function Oo(){return Ni(Qd)}function Do(){return Us().memoizedState}function Lo(){return Us().memoizedState}function Mo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=ss(t,e=is(n),n);return null!==r&&(Lc(r,t,n),os(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function Fo(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vo(e)?qo(t,n):null!==(n=jr(e,t,n,r))&&(Lc(n,e,r),Ho(n,t,r))}function Uo(e,t,n){zo(e,t,n,Oc())}function zo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o))return Ar(e,t,i,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=jr(e,t,i,r)))return Lc(n,e,r),Ho(n,t,r),!0}return!1}function Bo(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(t)throw Error(o(479))}else null!==(t=jr(e,n,r,2))&&Lc(t,e,2)}function Vo(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function qo(e,t){ks=Ss=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Wo={readContext:Ni,use:Bs,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Ko={readContext:Ni,use:Bs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:yo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(_s){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var i=n(t);if(_s){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fo.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Uo.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_o,useDeferredValue:function(e,t){return Co(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ao.bind(null,bs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Fs();if(si){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&sc)||Qs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,yo(Ys.bind(null,r,s,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Js.bind(null,r,s,n,t),null),n},useId:function(){var e=Fs(),t=rc.identifierPrefix;if(si){var n=Xr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ts++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bo.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vs,useCacheRefresh:function(){return Fs().memoizedState=Mo.bind(null,bs)}},Go={readContext:Ni,use:Bs,useCallback:Eo,useContext:Ni,useEffect:bo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:No,useReducer:Hs,useRef:mo,useState:function(){return Hs(qs)},useDebugValue:_o,useDeferredValue:function(e,t){return To(Us(),ws.memoizedState,e,t)},useTransition:function(){var e=Hs(qs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Gs,useId:Do,useHostTransitionStatus:Oo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Us(),0,e,t)},useMemoCache:Vs,useCacheRefresh:Lo},Qo={readContext:Ni,use:Bs,useCallback:Eo,useContext:Ni,useEffect:bo,useImperativeHandle:ko,useInsertionEffect:wo,useLayoutEffect:xo,useMemo:No,useReducer:Ks,useRef:mo,useState:function(){return Ks(qs)},useDebugValue:_o,useDeferredValue:function(e,t){var n=Us();return null===ws?Co(n,e,t):To(n,ws.memoizedState,e,t)},useTransition:function(){var e=Ks(qs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:zs(e),t]},useSyncExternalStore:Gs,useId:Do,useHostTransitionStatus:Oo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Us();return null!==ws?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vs,useCacheRefresh:Lo},Jo=null,Yo=0;function $o(e){var t=Yo;return Yo+=1,null===Jo&&(Jo=[]),$i(Jo,e,t)}function Xo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&ea(s)===t.type)?(Xo(t=i(t,n.props),n),t.return=e,t):(Xo(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Br(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xo(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(R(t)||j(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,$o(t),n);if(t.$$typeof===x)return h(e,Ci(e,t),n);Zo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||j(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,$o(n),r);if(n.$$typeof===x)return f(e,t,Ci(e,n),r);Zo(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||j(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,$o(r),i);if(r.$$typeof===x)return v(e,t,n,Ci(t,r),i);Zo(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&ea(b)===c.type){n(l,c.sibling),Xo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xo(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return a(l);case N:return y(l,c,u=(b=u._init)(u._payload),d)}if(R(u))return function(i,o,a,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<a.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,a[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=s(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===a.length)return n(i,d),si&&Zr(i,p),c;if(null===d){for(;p<a.length;p++)null!==(d=h(i,a[p],l))&&(o=s(d,o,p),null===u?c=d:u.sibling=d,u=d);return si&&Zr(i,p),c}for(d=r(d);p<a.length;p++)null!==(m=v(d,i,p,a[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=s(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,d);if(j(u)){if("function"!==typeof(b=j(u)))throw Error(o(150));return function(i,a,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=a,m=a=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),a=s(b,a,m),null===d?u=b:d.sibling=b,d=b,p=g}if(y.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return si&&Zr(i,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,i,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,$o(u),d);if(u.$$typeof===x)return y(l,c,Ci(l,u),d);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{Yo=0;var i=y(e,t,n,r);return Jo=null,i}catch(o){if(o===Wi||o===Gi)throw o;var s=Lr(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var na=ta(!0),ra=ta(!1),ia=U(null),sa=null;function oa(e){var t=e.alternate;B(ua,1&ua.current),B(ia,e),null===sa&&(null===t||null!==fs.current||null!==t.memoizedState)&&(sa=e)}function aa(e){if(22===e.tag){if(B(ua,ua.current),B(ia,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else la()}function la(){B(ua,ua.current),B(ia,ia.current)}function ca(e){z(ia),sa===e&&(sa=null),z(ua)}var ua=U(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Lc(t,e,n),os(t,e,n))}};function pa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(i,s))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var va="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ya(e){va(e)}function ba(e){console.error(e)}function wa(e){va(e)}function xa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ka(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){xa(e,t)},n}function _a(e){return(e=is(e)).tag=3,e}function Ea(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Sa(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Sa(t,n,r),"function"!==typeof i&&(null===_c?_c=new Set([this]):_c.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Na=Error(o(461)),Ca=!1;function Ta(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ei(t),r=Is(e,t,n,o,s,i),a=Ds(),null===e||Ca?(si&&a&&ti(t),t.flags|=1,Ta(e,t,r,i),t.child):(Ls(e,t,i),Ja(e,t,i))}function ja(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,!Ya(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(o,r)&&e.ref===t.ref)return Ja(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Yn(s,r)&&e.ref===t.ref){if(Ca=!1,t.pendingProps=r=s,!Ya(e,i))return t.lanes=e.lanes,Ja(e,t,i);0!==(131072&e.flags)&&(Ca=!0)}}return Da(e,t,n,r,i)}function Pa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ra(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ra(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),aa(t)}else null!==s?(qi(0,s.cachePool),ms(t,s),la(),t.memoizedState=null):(null!==e&&qi(0,null),gs(),la());return Ta(e,t,i,n),t.child}function Ra(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),gs(),aa(t),null!==e&&ki(e,t,r,!0),null}function Oa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Da(e,t,n,r,i){return Ei(t),n=Is(e,t,n,r,void 0,i),r=Ds(),null===e||Ca?(si&&r&&ti(t),t.flags|=1,Ta(e,t,n,i),t.child):(Ls(e,t,i),Ja(e,t,i))}function La(e,t,n,r,i,s){return Ei(t),t.updateQueue=null,n=Rs(t,r,n,i),Ps(e),r=Ds(),null===e||Ca?(si&&r&&ti(t),t.flags|=1,Ta(e,t,n,s),t.child):(Ls(e,t,s),Ja(e,t,s))}function Ma(e,t,n,r,i){if(Ei(t),null===t.stateNode){var s=Or,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ni(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ni(o):Or,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ha(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&fa.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=ga(n,a);s.props=l;var c=s.context,u=n.contextType;o=Or,"object"===typeof u&&null!==u&&(o=Ni(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&ma(t,s,r,o),ts=!1;var h=t.memoizedState;s.state=h,us(t,r,s,i),cs(),c=t.memoizedState,a||h!==c||ts?("function"===typeof d&&(ha(t,n,d,r),c=t.memoizedState),(l=ts||pa(t,n,l,r,h,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=ga(n,o=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Or,"object"===typeof c&&null!==c&&(l=Ni(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&ma(t,s,r,l),ts=!1,h=t.memoizedState,s.state=h,us(t,r,s,i),cs();var f=t.memoizedState;o!==d||h!==f||ts||null!==e&&null!==e.dependencies&&_i(e.dependencies)?("function"===typeof a&&(ha(t,n,a,r),f=t.memoizedState),(u=ts||pa(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&_i(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Oa(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Ta(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ja(e,t,i),e}function Fa(e,t,n,r){return fi(),t.flags|=256,Ta(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function za(e){return{baseLanes:e,cachePool:Hi()}}function Ba(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Va(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?oa(t):la(),si){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:$r,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,s?(la(),c=Ha({mode:"hidden",children:c},s=t.mode),i=Br(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=za(n),s.childLanes=Ba(e,r,n),t.memoizedState=Ua,i):(oa(t),qa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(oa(t),t.flags&=-257,t=Wa(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),s=i.fallback,c=t.mode,i=Ha({mode:"visible",children:i.children},c),(s=Br(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=za(n),i.childLanes=Ba(e,r,n),t.memoizedState=Ua,t=s);else if(oa(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Wa(e,t,n)}else if(Ca||ki(e,t,n,!1),r=0!==(n&e.childLanes),Ca||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Te(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ir(e,i),Lc(r,e,i),Na;"$?"===c.data||Gc(),t=Wa(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,si=!0,oi=null,ai=!1,null!==e&&(Qr[Jr++]=$r,Qr[Jr++]=Xr,Qr[Jr++]=Yr,$r=e.id,Xr=e.overflow,Yr=t),(t=qa(t,i.children)).flags|=4096);return t}return s?(la(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fr(u,s):(s=Br(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=za(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Ba(e,r,n),t.memoizedState=Ua,i):(oa(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Ha({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ha(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wa(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Ga(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ga(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ga(t,!0,n,null,s);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_i(e))}function $a(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ca=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return Ca=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),fi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(oa(t),null!==(e=Ja(e,t,n))?e.sibling:null);oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Pa(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Ja(e,t,n)}(e,t,n);Ca=0!==(131072&e.flags)}else Ca=!1,si&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=Aa(null,t,r,e,n);break e}if(i===E){t.tag=14,t=ja(null,t,r,e,n);break e}}throw t=P(r)||r,Error(o(306,t,""))}Mr(r)?(e=ga(r,e),t.tag=1,t=Ma(null,t,r,e,n)):(t.tag=0,t=Da(null,t,r,e,n))}return t;case 0:return Da(e,t,t.type,t.pendingProps,n);case 1:return Ma(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(0,Pi,r),r!==s.cache&&Si(t,[Pi],n,!0),cs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fa(e,t,r,n);break e}if(r!==i){mi(i=_r(Error(o(424)),t)),t=Fa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,si=!0,oi=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Ja(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 26:return Oa(e,t),null===e?(n=Td(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Pe]=t,r[Re]=e,ed(r,n,e),We(r),t.stateNode=r):t.memoizedState=Td(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&si&&(r=t.stateNode=wd(t.type,t.pendingProps,H.current),ri=t,ai=!0,i=ii,fd(t.type)?(yd=i,ii=vd(r.firstChild)):ii=i),Ta(e,t,t.pendingProps.children,n),Oa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=vd(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),Q(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,od(i,s)?r=null:null!==a&&od(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Is(e,t,Os,null,null,n),Qd._currentValue=i),Oa(e,t),Ta(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Va(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return Aa(e,t,t.type,t.pendingProps,n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Ta(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ei(t),r=r(i=Ni(i)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return ja(e,t,t.type,t.pendingProps,n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 19:return Qa(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ha(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Pa(e,t,n);case 24:return Ei(t),r=Ni(Pi),null===e?(null===(i=Vi())&&(i=rc,s=Ri(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=s.cache,bi(0,Pi,r),r!==i.cache&&Si(t,[Pi],n,!0))),Ta(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xa(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ia.current)&&((4194048&sc)===sc?null!==sa:(62914560&sc)!==sc&&0===(536870912&sc)||t!==sa))throw Xi=Qi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Pi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xa(t),nl(t),t.flags&=-16777217),null;case 27:J(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=V.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Xa(t))}return nl(t),null;case 5:if(J(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=V.current,hi(t))ui(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Re]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Pe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&zu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(z(ua),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=da(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return B(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Sc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=da(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,B(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Pi),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Pi),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(ua),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),vs(),null!==e&&z(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Pi),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:wi(Pi),G();break;case 26:case 27:case 5:J(t);break;case 4:G();break;case 13:ca(t);break;case 19:z(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),vs(),null!==e&&z(Bi);break;case 24:wi(Pi)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hs(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Xu(e,t,f,p,r,h)}}return void gt(e,a,l,c,u,d,s,i);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Xu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&Xu(e,t,i,s,r,c)}return t=l,n=a,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&Xu(e,t,a,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Nt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Xu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Xu(e,t,h,f,r,p)}(r,e.type,n,t),r[Re]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$u));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Pe]=e,t[Re]=n}catch(s){uu(e,e.return,s)}}var bl=!1,wl=!1,xl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,kl=null;function _l(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&ol(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hs(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&jl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var s=wl;bl=r,(wl=t)&&!s?Ul(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),bl=i,wl=s}break;case 30:break;default:Ml(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,Cl=!1;function Tl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:wl||dl(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Nl,i=Cl;fd(n.type)&&(Nl=n.stateNode,Cl=!1),Tl(e,t,n),xd(n.stateNode),Nl=r,Cl=i;break;case 5:wl||dl(n,t);case 6:if(r=Nl,i=Cl,Nl=null,Tl(e,t,n),Cl=i,null!==(Nl=r))if(Cl)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Nl.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Nl&&(Cl?(pd(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Nl,n.stateNode));break;case 4:r=Nl,i=Cl,Nl=n.stateNode.containerInfo,Cl=!0,Tl(e,t,n),Nl=r,Cl=i;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),Tl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Tl(e,t,n),wl=r;break;default:Tl(e,t,n)}}function jl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){uu(t,t.return,n)}}function Il(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Nl=l.stateNode,Cl=!1;break e}break;case 5:Nl=l.stateNode,Cl=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Nl)throw Error(o(160));Al(s,a,i),Nl=null,Cl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Rl=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Dl(e),4&r&&(al(3,e,e.return),ol(3,e),al(5,e,e.return));break;case 1:Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ue]||s[Pe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),ed(s,r,n),s[Pe]=e,We(s),r=s;break e;case"link":var a=Ud("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Pe]=e,We(s),r=s}e.stateNode=r}else zd(i,e.type,e.stateNode);else e.stateNode=Od(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?zd(i,e.type,e.stateNode):Od(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Dl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Pl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fd=null,i=Rl,Rl=_d(t.containerInfo),Pl(t,e),Rl=i,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){uu(e,e.return,p)}xl&&(xl=!1,Ll(e));break;case 4:r=Rl,Rl=_d(e.stateNode.containerInfo),Pl(t,e),Dl(e),Rl=r;break;case 12:default:Pl(t,e),Dl(e);break;case 13:Pl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Pl(t,e),wl=d,bl=u,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Il(e,n))));break;case 19:Pl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),vl(e,ml(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)_l(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(i,s,n),ol(4,s);break;case 1:if(Ul(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ds(l[i],a)}catch(c){uu(r,r.return,c)}}n&&64&o&&ll(s),ul(s,s.return);break;case 27:yl(s);case 26:case 5:Ul(i,s,n),n&&null===r&&4&o&&hl(s),ul(s,s.return);break;case 12:Ul(i,s,n);break;case 13:Ul(i,s,n),n&&4&o&&jl(i,s);break;case 22:null===s.memoizedState&&Ul(i,s,n),ul(s,s.return);break;case 30:break;default:Ul(i,s,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oi(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oi(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Vl(e,t,n,r):Wl(e,t):2&s._visibility?Vl(e,t,n,r):(s._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&zl(o,t);break;case 24:Vl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(s,o,a,l,i),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Hl(s,o,a,l,i):Wl(s,o):(u._visibility|=2,Hl(s,o,a,l,i)),i&&2048&c&&zl(o.alternate,o);break;case 24:Hl(s,o,a,l,i),i&&2048&c&&Bl(o.alternate,o);break;default:Hl(s,o,a,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&zl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Bl(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(o(475));var r=Vd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ad(n.href),s=e.querySelector(jd(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Id(n),(i=Sd.get(i))&&Ld(n,i),We(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Rl;Rl=_d(e.stateNode.containerInfo),Gl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,s=r.return;if(El(r),r===n){kl=null;break e}if(null!==i){i.return=s,kl=i;break e}kl=s}}}var ec={getCacheForType:function(e){var t=Ni(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,oc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,bc=null,wc=!1,xc=0,Sc=1/0,kc=null,_c=null,Ec=0,Nc=null,Cc=null,Tc=0,Ac=0,jc=null,Ic=null,Pc=0,Rc=null;function Oc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==O.T){return 0!==Mi?Mi:Au()}return je()}function Dc(){0===gc&&(gc=0===(536870912&sc)||si?Se():536870912);var e=ia.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(qc(e,0),zc(e,sc,gc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===hc&&zc(e,sc,gc,!1)),Su(e))}function Mc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=Kc();rc!==e||sc!==t?(kc=null,Sc=te()+500,qc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var s=ac;t:switch(oc){case 1:oc=0,ac=null,Zc(e,t,s,1);break;case 2:case 9:if(Ji(s)){oc=0,ac=null,Xc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),Su(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ji(s)?(oc=0,ac=null,Xc(t)):(oc=0,ac=null,Zc(e,t,s,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||Bd(a)){oc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}oc=0,ac=null,Zc(e,t,s,5);break;case 6:oc=0,ac=null,Zc(e,t,s,6);break;case 8:Vc(),hc=6;break e;default:throw Error(o(462))}}Yc();break}catch(d){Hc(e,d)}return yi=vi=null,O.H=r,O.A=i,nc=n,null!==ic?0:(rc=null,sc=0,Tr(),hc)}(e,t):Qc(e,t,!0),s=r;;){if(0===i){cc&&!r&&zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Uc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,a).flags|=256),2!==(a=Qc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,i=4;break e}s=bc,bc=i,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){qc(e,0),zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:zc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(zc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fc.bind(null,r,n,bc,kc,wc,t,gc,pc,vc,lc,s,2,-0,0),i)}else Fc(r,n,bc,kc,wc,t,gc,pc,vc,lc,s,0,-0,0)}break}i=Qc(e,t,!1),s=!1}Su(e)}function Fc(e,t,n,r,i,s,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Vd={stylesheets:null,count:0,unsuspend:qd},Ql(t),null!==(h=function(){if(null===Vd)throw Error(o(475));var e=Vd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,s,n,r,i,a,l,c,d,1,f,p)),void zc(e,s,a,!u);nu(e,t,s,n,r,i,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Ne(e,n,t)}function Bc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Vc(){if(null!==ic){if(0===oc)var e=ic.return;else yi=vi=null,Ms(e=ic),Jo=null,Yo=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=Fr(e.current,null),sc=t,oc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,vc=gc=mc=pc=fc=hc=0,bc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return dc=t,Tr(),n}function Hc(e,t){bs=null,O.H=Wo,t===Wi||t===Gi?(t=Zi(),oc=3):t===Ki?(t=Zi(),oc=4):oc=t===Na?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===ic&&(hc=1,xa(e,_r(t,e.current)))}function Wc(){var e=O.H;return O.H=Wo,null===e?Wo:e}function Kc(){var e=O.A;return O.A=ec,e}function Gc(){hc=4,lc||(4194048&sc)!==sc&&null!==ia.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||zc(rc,sc,gc,!1)}function Qc(e,t,n){var r=nc;nc|=2;var i=Wc(),s=Kc();rc===e&&sc===t||(kc=null,qc(e,t)),t=!1;var o=hc;e:for(;;)try{if(0!==oc&&null!==ic){var a=ic,l=ac;switch(oc){case 8:Vc(),o=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=oc;if(oc=0,ac=null,Zc(e,a,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,ac=null,Zc(e,a,l,c)}}Jc(),o=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,O.H=i,O.A=s,null===ic&&(rc=null,sc=0,Tr()),o}function Jc(){for(;null!==ic;)$c(ic)}function Yc(){for(;null!==ic&&!Z();)$c(ic)}function $c(e){var t=$a(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=La(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=La(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ms(t);default:sl(n,t),t=$a(n,t=ic=Ur(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){yi=vi=null,Ms(t),Jo=null,Yo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===sa?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(o(435,n.tag))}return du(e,r,i),Gc(),!1}if(si)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(_r(e=Error(o(422),{cause:r}),n))):(r!==li&&mi(_r(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=_r(r,n),as(e,i=ka(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var s=Error(o(520),{cause:r});if(s=_r(s,n),null===yc?yc=[s]:yc.push(s),4!==hc&&(hc=2),null===t)return!0;r=_r(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,as(n,e=ka(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===_c||!_c.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ea(i=_a(i),e,n,r),as(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return hc=1,xa(e,_r(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return hc=1,xa(e,_r(n,e.current)),void(ic=null)}32768&t.flags?(si||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,s,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=Cr,a,l,c),e===rc&&(ic=rc=null,sc=0),Cc=t,Nc=e,Tc=n,Ac=s,jc=i,Ic=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=D.p,D.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=a,D.p=i,O.T=r}}Ec=1,ru(),iu(),su()}}function ru(){if(1===Ec){Ec=0;var e=Nc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{Ol(t,e);var s=nd,o=er(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var v=Xn(a,m),y=Xn(a,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,D.p=r,O.T=n}}e.current=t,Ec=2}}function iu(){if(2===Ec){Ec=0;var e=Nc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var i=nc;nc|=4;try{_l(e,t.alternate,t)}finally{nc=i,D.p=r,O.T=n}}Ec=3}}function su(){if(4===Ec||3===Ec){Ec=0,ee();var e=Nc,t=Cc,n=Tc,r=Ic;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Cc=Nc=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(_c=null),Ae(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=D.p,D.p=2,O.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{O.T=t,D.p=i}}0!==(3&Tc)&&au(),Su(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Pc++:(Pc=0,Rc=e):Pc=0,ku(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oi(t)))}function au(e){return ru(),iu(),su(),lu()}function lu(){if(5!==Ec)return!1;var e=Nc,t=Ac;Ac=0;var n=Ae(Tc),r=O.T,i=D.p;try{D.p=32>n?32:n,O.T=null,n=jc,jc=null;var s=Nc,a=Tc;if(Ec=0,Cc=Nc=null,Tc=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,$l(s.current),ql(s,s.current,a,n),nc=l,ku(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{D.p=i,O.T=r,ou(e,t)}}function cu(e,t,n){t=_r(n,t),null!==(e=ss(e,t=ka(e.stateNode,t,2),2))&&(Ee(e,2),Su(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_c||!_c.has(r))){e=_r(n,e),null!==(r=ss(t,n=_a(2),2))&&(Ea(n,r,t,e),Ee(r,2),Su(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===hc||3===hc&&(62914560&sc)===sc&&300>te()-xc?0===(2&nc)&&qc(e,0):mc|=n,vc===sc&&(vc=0)),Su(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Ir(e,t))&&(Ee(e,t),Su(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,wu=!1,xu=0;function Su(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?$(re,_u):Eu()}))}function ku(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Tu(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,s)||(n=!0,Tu(r,s));r=r.next}}while(n);wu=!1}}function _u(){Eu()}function Eu(){bu=yu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,s=Nu(r,t);0===s?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=i}ku(e,!1)}function Nu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=xe(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=ae}return r=Cu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Nu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Tu(e,t){if(au())return null;Mc(e,t,!0)}function Au(){return 0===xu&&(xu=Se()),xu}function ju(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<xr.length;Pu++){var Ru=xr[Pu];Sr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(vr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Du=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){va(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){va(u)}i.currentTarget=null,s=l}}}}function Mu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Du.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,Fu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=Be(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Lt(function(){var r=s,i=It(n),o=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=an;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==a?a+"Capture":null:a;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push(qu(m,g,p)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,i),o.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===jt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Oe])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?a:qe(c),p=null==u?a:qe(u),(a=new d(g,m+"leave",c,n,i)).target=h,a.relatedTarget=p,g=null,Be(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)d=Wu(d),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(o,a,c,d,!1),null!==u&&null!==h&&Ku(o,h,u,d,!0)}if("select"===(c=(a=r?qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var v=Fn;else if(Pn(a))if(Un)v=Qn;else{v=Kn;var y=Wn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Nt(r.elementType)&&(v=Fn):v=Gn;switch(v&&(v=v(e,r))?Rn(o,v,n,i):(y&&y(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&yt(a,"number",a.value)),y=r?qe(r):window,e){case"focusin":(Pn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,ar(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(o,n,i)}var b;if(Sn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else jn?Tn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(En&&"ko"!==n.locale&&(jn||"onCompositionStart"!==w?"onCompositionEnd"===w&&jn&&(b=Ht()):(Vt="value"in(Bt=i)?Bt.value:Bt.textContent,jn=!0)),0<(y=Hu(r,w)).length&&(w=new cn(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=An(n))&&(w.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Cn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Sn&&Tn(e,t)?(e=Ht(),qt=Vt=Bt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=ju((i[Re]||null).action),o=r.submitter;o&&null!==(t=(t=o[Re]||null)?ju(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=o?Iu(i,o):new FormData(i);Io(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Iu(i,o):new FormData(i),Io(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Lu(o,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Mt(e,n))&&r.unshift(qu(e,i,s)),null!=(i=Mt(e,t))&&r.push(qu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Mt(n,s))&&o.unshift(qu(n,c,l)):i||null!=(c=Mt(n,s))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Qu,"")}function Yu(e,t){return t=Ju(t),Ju(e)===t}function $u(){}function Xu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$u);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Mu("beforetoggle",e),Mu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,i,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Mu("scroll",e);break;case"onScrollEnd":null!=r&&Mu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Re]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mu("error",e),Mu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,r,a,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Mu("invalid",e);var l=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Xu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,a,s,!1),void dt(e);case"select":for(s in Mu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Xu(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(a in Mu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Xu(e,t,a,l,n,null)}return xt(e,i,s,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Mu("beforetoggle",e),Mu("toggle",e),Mu("cancel",e),Mu("close",e);break;case"iframe":case"object":Mu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Mu(Ou[i],e);break;case"image":Mu("error",e),Mu("load",e);break;case"details":Mu("toggle",e);break;case"embed":case"source":case"link":Mu("error",e),Mu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&xd(o.documentElement),2&n&&xd(o.body),4&n)for(xd(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===i)return e.removeChild(s),void Ch(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Sd=new Map,kd=new Set;function _d(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ro(t):Ed.r(e)},D:function(e){Ed.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Nd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Ad(e);break;case"script":s=Pd(e)}Sd.has(s)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(jd(s))||"script"===t&&r.querySelector(Rd(s))||(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Nd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Pd(e)}if(!Sd.has(s)&&(e=h({rel:"modulepreload",href:e},t),Sd.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(s)))return}ed(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Nd;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Rd(i)))||(e=h({src:e,async:!0},t),(t=Sd.get(i))&&Md(e,t),We(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Ed.S(e,t,n);var r=Nd;if(r&&e){var i=He(r).hoistableStyles,s=Ad(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(jd(s)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(s))&&Ld(e,n);var l=o=r.createElement("link");We(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Dd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Ed.M(e,t);var n=Nd;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Rd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=Sd.get(i))&&Md(e,t),We(s=n.createElement("script")),ed(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Nd="undefined"===typeof document?null:document;function Cd(e,t,n){var r=Nd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kd.has(i)||(kd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Td(e,t,n,r){var i,s,a,l,c=(c=H.current)?_d(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(jd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(i=c,s=e,a=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ed(s,"link",a),We(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function jd(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ad(n.href);var s=e.querySelector(jd(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;r=Id(n),(i=Sd.get(i))&&Ld(r,i),We(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(s,"link",r),t.state.loading|=4,Dd(s,n.precedence,e),t.instance=s;case"script":return s=Pd(n.src),(i=e.querySelector(Rd(s)))?(t.instance=i,We(i),i):(r=n,(i=Sd.get(s))&&Md(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ud(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ue]||s[Pe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vd=null;function qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Jd(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,r,i,s,o,a,l,c,u,d){return e=new Jd(e,t,n,o,a,l,c,d),t=1,!0===s&&(t|=24),s=Lr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function $d(e){return e?e=Or:Or}function Xd(e,t,n,r,i,s){i=$d(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Lc(n,0,t),os(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Lc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=2,sh(e,t,n,r)}finally{D.p=s,O.T=i}}function ih(e,t,n,r){var i=O.T;O.T=null;var s=D.p;try{D.p=8,sh(e,t,n,r)}finally{D.p=s,O.T=i}}function sh(e,t,n,r){if(nh){var i=oh(r);if(null===i)Vu(e,t,r,ah,n),yh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return fh=bh(fh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ph.set(s,bh(ph.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mh.set(s,bh(mh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var s=Ve(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ye(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-fe(o);a.entanglements[1]|=l,o&=~l}Su(s),0===(6&nc)&&(Sc=te()+500,ku(0,!1))}}break;case 13:null!==(a=Ir(s,2))&&Lc(a,0,2),Bc(),eh(s,2)}if(null===(s=oh(r))&&Vu(e,t,r,ah,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function oh(e){return lh(e=It(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Te(e);var t=Ir(n,e);null!==t&&Lc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function Sh(e,t,n){xh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==fh&&xh(fh)&&(fh=null),ph.forEach(Sh),mh.forEach(Sh)}function _h(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Eh=null;function Nh(e){Eh!==e&&(Eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var s=Ve(n);null!==s&&(e.splice(t,3),t-=3,Io(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ch(e){function t(t){return _h(t,e)}null!==dh&&_h(dh,e),null!==hh&&_h(hh,e),null!==fh&&_h(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Re]||null;if("function"===typeof s)o||Nh(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Re]||null)a=o.formAction;else if(null!==lh(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Nh(n)}}}function Th(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xd(t.current,Oc(),e,t,null,null)},Ah.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Bc(),t[Oe]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var jh=i.version;if("19.1.1"!==jh)throw Error(o(527,jh,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ih),de=Ph}catch(Oh){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=ya,s=ba,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,i,s,l,0,null),e[Oe]=t.current,zu(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=ya,l=ba,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,r,i,s,l,c,0,u)).context=$d(null),n=t.current,(i=is(r=Te(r=Oc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ee(t,n),Su(t),e[Oe]=t.current,zu(e),new Ah(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},96:(e,t,n)=>{n.d(t,{ex:()=>i,testRazorpayPayment:()=>s});n(555),n(667),n(420);var r=n(339);const i=async e=>{try{console.log("\ud83d\udd04 Starting Razorpay payment process..."),console.log("Booking data:",e),console.log("Razorpay Key:","rzp_test_1DP5mmOlF5G5ag"),console.log("\ud83d\udce6 Loading Razorpay script...");if(!await new Promise((e,t)=>{if(window.Razorpay)return console.log("\u2705 Razorpay already loaded"),void e(!0);const n=document.querySelector('script[src*="razorpay"]');if(n)return console.log("\ud83d\udd04 Razorpay script already loading..."),n.onload=()=>e(!0),void(n.onerror=()=>e(!1));console.log("\ud83d\udce6 Loading Razorpay script from CDN...");const r=document.createElement("script");r.src="https://checkout.razorpay.com/v1/checkout.js",r.async=!0,r.onload=()=>{console.log("\u2705 Razorpay script loaded successfully"),setTimeout(()=>{window.Razorpay?e(!0):(console.error("\u274c Razorpay not available after script load"),e(!1))},100)},r.onerror=t=>{console.error("\u274c Failed to load Razorpay script:",t),e(!1)},document.head.appendChild(r),setTimeout(()=>{window.Razorpay||(console.error("\u274c Razorpay script load timeout"),e(!1))},1e4)}))throw console.error("\u274c Failed to load Razorpay script"),r.Ay.error("Failed to load payment gateway"),new Error("Failed to load Razorpay script");if(console.log("\u2705 Razorpay script loaded successfully"),!window.Razorpay)throw console.error("\u274c Razorpay not available on window object"),r.Ay.error("Payment gateway not available"),new Error("Razorpay not available");console.log("Creating Razorpay order...");const t=await(async e=>{try{var t;if(console.log("Creating order for booking:",e),!e.totalAmount||e.totalAmount<=0)throw new Error("Invalid booking amount");const n={amount:Math.round(100*e.totalAmount),currency:"INR",receipt:"booking_".concat(e.id,"_").concat(Date.now()),notes:{bookingId:e.id,salonId:e.salonId,customerName:e.customerName,services:(null===(t=e.selectedServices)||void 0===t?void 0:t.map(e=>e.name).join(", "))||"Salon Services"}};return console.log("\u2705 Order data created:",n),n}catch(n){throw console.error("\u274c Error creating Razorpay order:",n),r.Ay.error("Failed to initialize payment"),n}})(e);return console.log("\u2705 Order created:",t),new Promise((n,i)=>{const s={key:"rzp_test_1DP5mmOlF5G5ag",amount:t.amount,currency:t.currency,name:"Salon Finder",description:"Booking at ".concat(e.salonName),image:"https://cdn-icons-png.flaticon.com/512/2990/2990003.png",handler:async function(e){try{console.log("\u2705 Payment successful:",e),console.log("\ud83d\udcbe Skipping Firebase recording for demo..."),r.Ay.success("Payment successful! \ud83c\udf89"),n({success:!0,paymentData:e})}catch(t){console.error("\u274c Error in payment handler:",t),r.Ay.error("Payment completed but failed to save booking"),i(t)}},prefill:{name:e.customerName,email:e.customerEmail,contact:e.customerPhone},notes:{booking_id:e.id,salon_name:e.salonName},theme:{color:"#E74C3C"},modal:{ondismiss:function(){console.log("\u26a0\ufe0f Payment cancelled by user"),r.Ay.error("Payment cancelled"),i(new Error("Payment cancelled by user"))}}};console.log("Opening Razorpay checkout with options:",s);try{const e=new window.Razorpay(s);e.on("payment.failed",function(e){console.error("\u274c Payment failed:",e.error),r.Ay.error("Payment failed: ".concat(e.error.description)),i(new Error(e.error.description))}),e.open()}catch(o){console.error("\u274c Error opening Razorpay:",o),r.Ay.error("Failed to open payment gateway"),i(o)}})}catch(t){throw console.error("\u274c Error processing Razorpay payment:",t),r.Ay.error("Payment processing failed: ".concat(t.message)),t}},s=async()=>{try{console.log("\ud83e\uddea Testing Razorpay integration...");const e={id:"test_"+Date.now(),salonName:"Test Salon",customerName:"Test Customer",customerEmail:"test@example.com",customerPhone:"9999999999",totalAmount:100,selectedServices:[{name:"Test Service"}]},t=await i(e);return console.log("\u2705 Test payment result:",t),t}catch(e){throw console.error("\u274c Test payment failed:",e),e}}},150:(e,t,n)=>{n.d(t,{KO:()=>Z,MF:()=>Y,Sx:()=>X,Wp:()=>$,j6:()=>W,om:()=>H,xZ:()=>K});var r=n(555),i=n(606),s=n(965),o=n(776),a=n(180);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.1",d=new s.Vy("@firebase/app"),h="@firebase/app-compat",f="@firebase/analytics-compat",p="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",w="@firebase/data-connect",x="@firebase/database-compat",S="@firebase/functions",k="@firebase/functions-compat",_="@firebase/installations",E="@firebase/installations-compat",N="@firebase/messaging",C="@firebase/messaging-compat",T="@firebase/performance",A="@firebase/performance-compat",j="@firebase/remote-config",I="@firebase/remote-config-compat",P="@firebase/storage",R="@firebase/storage-compat",O="@firebase/firestore",D="@firebase/ai",L="@firebase/firestore-compat",M="firebase",F="[DEFAULT]",U={[c]:"fire-core",[h]:"fire-core-compat",[p]:"fire-analytics",[f]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[w]:"fire-data-connect",[x]:"fire-rtdb-compat",[S]:"fire-fn",[k]:"fire-fn-compat",[_]:"fire-iid",[E]:"fire-iid-compat",[N]:"fire-fcm",[C]:"fire-fcm-compat",[T]:"fire-perf",[A]:"fire-perf-compat",[j]:"fire-rc",[I]:"fire-rc-compat",[P]:"fire-gcs",[R]:"fire-gcs-compat",[O]:"fire-fst",[L]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[M]:"fire-js-all"},z=new Map,B=new Map,V=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function H(e){const t=e.name;if(V.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;V.set(t,e);for(const n of z.values())q(n,e);for(const n of B.values())q(n,e);return!0}function W(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function K(e){return null!==e&&void 0!==e&&void 0!==e.settings}const G={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Q=new o.FA("app","Firebase",G);class J{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const Y="12.1.0";function $(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=(0,r.A)({name:F,automaticDataCollectionEnabled:!0},t),a=s.name;if("string"!==typeof a||!a)throw Q.create("bad-app-name",{appName:String(a)});if(n||(n=(0,o.T9)()),!n)throw Q.create("no-options");const l=z.get(a);if(l){if((0,o.bD)(n,l.options)&&(0,o.bD)(s,l.config))return l;throw Q.create("duplicate-app",{appName:a})}const c=new i.h1(a);for(const r of V.values())c.addComponent(r);const u=new J(n,s,c);return z.set(a,u),u}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=z.get(e);if(!t&&e===F&&(0,o.T9)())return $();if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let s=null!==(r=U[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}H(new i.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,a.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw Q.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,ie(e)),await n.done}catch(n){if(n instanceof o.g)d.warn(n.message);else{const e=Q.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function ie(e){return"".concat(e.name,"!").concat(e.options.appId)}class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oe();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return d.warn(t),""}}}function oe(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(ie(e));return await t.done,n}catch(t){if(t instanceof o.g)d.warn(t.message);else{const e=Q.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",H(new i.uA("platform-logger",e=>new l(e),"PRIVATE")),H(new i.uA("heartbeat",e=>new se(e),"PRIVATE")),Z(c,u,ce),Z(c,u,"esm2020"),Z("fire-js","")},180:(e,t,n)=>{n.d(t,{MR:()=>y,P2:()=>v});var r=n(555);const i=(e,t)=>t.some(t=>e instanceof t);let s,o;const a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),m(a.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(g(this),t,...r);return c.set(s,t.sort?t.sort():[t]),m(s)}}function p(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});l.set(e,t)}(e),i(e,s||(s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(m(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&a.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=m(o);return r&&o.addEventListener("upgradeneeded",e=>{r(m(o.result),e.oldVersion,e.newVersion,m(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function y(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),m(n).then(()=>{})}const b=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function S(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return x.set(t,s),s}h=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>S(t,n)||e.get(t,n,r),has:(t,n)=>!!S(t,n)||e.has(t,n)}))(h)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function _(e,t,r,i,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(){}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+C(e,0):s,x(o)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(E(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+u,o=_(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===s?".":s+":";if(x(e))for(var m=0;m<e.length;m++)u+=A(s=e[m],t,i,a=p+C(s,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,a=p+C(s,m++),o);else if("object"===a){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return _(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return _(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,P)}catch(s){P(s)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},339:(e,t,n)=>{function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{l$:()=>be,Ay:()=>we});var i=n(555),s=n(43);let o={data:""},a=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||o,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c=/\/\*[^]*?\*\/|  +/g,u=/\n+/g,d=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?d(o,s):s+"{"+d(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=d(o,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=d.p?d.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},h={},f=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+f(e[n]);return t}return e},p=(e,t,n,r,i)=>{let s=f(e),o=h[s]||(h[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!h[o]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=l.exec(e.replace(c,""));)t[4]?r.shift():t[3]?(n=t[3].replace(u," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(u," ").trim();return r[0]})(e);h[o]=d(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&h.g?h.g:null;return n&&(h.g=h[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(h[o],t,r,a),o};function m(e){let t=this||{},n=e.call?e(t.p):e;return p(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":d(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,a(t.target),t.g,t.o,t.k)}m.bind({g:1});let g,v,y,b=m.bind({k:1});function w(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:v&&v()},a),n.o=/ *go\d+/.test(l),a.className=m.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),y&&c[0]&&y(a),g(c,a)}return t?t(i):i}}var x,S,k,_,E,N,C,T,A,j,I,P,R,O,D,L,M=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,F=(()=>{let e=0;return()=>(++e).toString()})(),U=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),z="default",B=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return(0,i.A)((0,i.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return(0,i.A)((0,i.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,i.A)((0,i.A)({},e),t.toast):e)});case 2:let{toast:r}=t;return B(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return(0,i.A)((0,i.A)({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?(0,i.A)((0,i.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,i.A)((0,i.A)({},e),{},{toasts:[]}):(0,i.A)((0,i.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,i.A)((0,i.A)({},e),{},{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return(0,i.A)((0,i.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,i.A)((0,i.A)({},e),{},{pauseDuration:e.pauseDuration+o}))})}},V=[],q={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},H={},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;H[t]=B(H[t]||q,e),V.forEach(e=>{let[n,r]=e;n===t&&r(H[t])})},K=e=>Object.keys(H).forEach(t=>W(e,t)),G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return t=>{W(t,e)}},Q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},J=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,i.A)((0,i.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||F()})}(t,e,n);return G(r.toasterId||(e=>Object.keys(H).find(t=>H[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Y=(e,t)=>J("blank")(e,t);Y.error=J("error"),Y.success=J("success"),Y.loading=J("loading"),Y.custom=J("custom"),Y.dismiss=(e,t)=>{let n={type:3,toastId:e};t?G(t)(n):K(n)},Y.dismissAll=e=>Y.dismiss(void 0,e),Y.remove=(e,t)=>{let n={type:4,toastId:e};t?G(t)(n):K(n)},Y.removeAll=e=>Y.remove(void 0,e),Y.promise=(e,t,n)=>{let r=Y.loading(t.loading,(0,i.A)((0,i.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?M(t.success,e):void 0;return s?Y.success(s,(0,i.A)((0,i.A)({id:r},n),null==n?void 0:n.success)):Y.dismiss(r),e}).catch(e=>{let s=t.error?M(t.error,e):void 0;s?Y.error(s,(0,i.A)((0,i.A)({id:r},n),null==n?void 0:n.error)):Y.dismiss(r)}),e};var $=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,[n,r]=(0,s.useState)(H[t]||q),o=(0,s.useRef)(H[t]);(0,s.useEffect)(()=>(o.current!==H[t]&&r(H[t]),V.push([t,r]),()=>{let e=V.findIndex(e=>{let[n]=e;return n===t});e>-1&&V.splice(e,1)}),[t]);let a=n.toasts.map(t=>{var n,r,s;return(0,i.A)((0,i.A)((0,i.A)((0,i.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Q[t.type],style:(0,i.A)((0,i.A)((0,i.A)({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return(0,i.A)((0,i.A)({},n),{},{toasts:a})}(e,t),o=(0,s.useRef)(new Map).current,a=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(o.has(e))return;let n=setTimeout(()=>{o.delete(e),l({type:4,toastId:e})},t);o.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),i=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Y.dismiss(n.id,t),r);n.visible&&Y.dismiss(n.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let l=(0,s.useCallback)(G(t),[t]),c=(0,s.useCallback)(()=>{l({type:5,time:Date.now()})},[l]),u=(0,s.useCallback)((e,t)=>{l({type:1,toast:{id:e,height:t}})},[l]),d=(0,s.useCallback)(()=>{r&&l({type:6,time:Date.now()})},[r,l]),h=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=t||{},o=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),a=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<a&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)a(e.id,e.removeDelay);else{let t=o.get(e.id);t&&(clearTimeout(t),o.delete(e.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:c,endPause:d,calculateOffset:h}}},X=b(x||(x=r(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Z=b(S||(S=r(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ee=b(k||(k=r(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),te=w("div")(_||(_=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",X,Z,e=>e.secondary||"#fff",ee),ne=b(E||(E=r(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),re=w("div")(N||(N=r(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ne),ie=b(C||(C=r(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),se=b(T||(T=r(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),oe=w("div")(A||(A=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",ie,se,e=>e.secondary||"#fff"),ae=w("div")(j||(j=r(["\n  position: absolute;\n"]))),le=w("div")(I||(I=r(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),ce=b(P||(P=r(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ue=w("div")(R||(R=r(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),ce),de=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?s.createElement(ue,null,n):n:"blank"===r?null:s.createElement(le,null,s.createElement(re,(0,i.A)({},o)),"loading"!==r&&s.createElement(ae,null,"error"===r?s.createElement(te,(0,i.A)({},o)):s.createElement(oe,(0,i.A)({},o))))},he=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),fe=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),pe=w("div")(O||(O=r(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),me=w("div")(D||(D=r(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),ge=s.memo(e=>{let{toast:t,position:n,style:r,children:o}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=U()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[he(n),fe(n)];return{animation:t?"".concat(b(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(b(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},l=s.createElement(de,{toast:t}),c=s.createElement(me,(0,i.A)({},t.ariaProps),M(t.message,t));return s.createElement(pe,{className:t.className,style:(0,i.A)((0,i.A)((0,i.A)({},a),r),t.style)},"function"==typeof o?o({icon:l,message:c}):s.createElement(s.Fragment,null,l,c))});!function(e,t,n,r){d.p=t,g=e,v=n,y=r}(s.createElement);var ve=e=>{let{id:t,className:n,style:r,onHeightUpdate:i,children:o}=e,a=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return s.createElement("div",{ref:a,className:n,style:r},o)},ye=m(L||(L=r(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),be=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:a,toasterId:l,containerStyle:c,containerClassName:u}=e,{toasts:d,handlers:h}=$(r,l);return s.createElement("div",{"data-rht-toaster":l||"",style:(0,i.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},c),className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(e=>{let r=e.position||n,l=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,i.A)((0,i.A)({left:0,right:0,display:"flex",position:"absolute",transition:U()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),s)})(r,h.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return s.createElement(ve,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?ye:"",style:l},"custom"===e.type?M(e.message,e):a?a(e):s.createElement(ge,{toast:e,position:r}))}))},we=Y},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},420:(e,t,n)=>{n.d(t,{db:()=>Ii});var r=n(150);(0,r.KO)("firebase","12.1.0","app");var i=n(667),s=n(986),o=n(555),a=n(776),l=n(965),c=n(606);const u=["providerId"],d=["uid","auth","stsTokenManager"],h=["providerId","signInMethod"];function f(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p=f,m=new a.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),g=new l.Vy("@firebase/auth");function v(e){if(g.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw S(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return S(e,...n)}function w(e,t,n){const r=(0,o.A)((0,o.A)({},p()),{},{[t]:n});return new a.FA("auth","Firebase",r).create(t,{appName:e.name})}function x(e){return w(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m.create(e,...n)}function k(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw S(t,...r)}}function _(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function E(e,t){e||_(t)}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,E(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,a.jZ)()||(0,a.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,a.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function j(e,t){E(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class I{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O=new A(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?(0,o.A)((0,o.A)({},t),{},{tenantId:e.tenantId}):t}async function L(e,t,n,r){return M(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const l=(0,a.Am)((0,o.A)({key:e.config.apiKey},s)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=(0,o.A)({method:t,headers:c},i);return(0,a.c1)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(u.credentials="include"),I.fetch()(await U(e,e.config.apiHost,n,l),u)})}async function M(e,t,n){e._canInitEmulator=!1;const r=(0,o.A)((0,o.A)({},P),t);try{const t=new B(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw V(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw V(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw w(e,a,o);y(e,a)}}catch(i){if(i instanceof a.g)throw i;y(e,"network-request-failed",{message:String(i)})}}async function F(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await L(e,t,n,r,i);return"mfaPendingCredential"in s&&y(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function U(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),s=e,o=s.config.emulator?j(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(R.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function z(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),O.get())})}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(e,t,r);return i.customData._tokenResponse=n,i}function q(e){return void 0!==e&&void 0!==e.enterprise}class H{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return z(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W(e,t){return L(e,"GET","/v2/recaptchaConfig",D(e,t))}async function K(e,t){return L(e,"POST","/v1/accounts:lookup",t)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Q(e){return 1e3*Number(e)}function J(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,a.u)(n);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(i){return v("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Y(e){const t=J(e);return k(t,"internal-error"),k("undefined"!==typeof t.exp,"internal-error"),k("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function $(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof a.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class X{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ee(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $(e,K(n,{idToken:r}));k(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?te(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Z(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function te(e){return e.map(e=>{let{providerId:t}=e,n=(0,s.A)(e,u);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k("undefined"!==typeof e.idToken,"internal-error"),k("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Y(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){k(0!==e.length,"internal-error");const t=Y(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await M(e,{},async()=>{const n=(0,a.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await U(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&(0,a.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),I.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ne;return n&&(k("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(k("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(k("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return _("not implemented")}}function re(e,t){k("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ie{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=(0,s.A)(e,d);this.providerId="firebase",this.proactiveRefresh=new X(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Z(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $(this,this.stsTokenManager.getToken(this.auth,e));return k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,a.Ku)(e),r=await n.getIdToken(t),i=J(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:G(Q(i.auth_time)),issuedAtTime:G(Q(i.iat)),expirationTime:G(Q(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,a.Ku)(e);await ee(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,o.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ie((0,o.A)((0,o.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ee(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(x(this.auth));const e=await this.getIdToken();return await $(this,async function(e,t){return L(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,o.A)((0,o.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,o.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:_}=t;k(b&&_,e,"internal-error");const E=ne.fromJSON(this.name,_);k("string"===typeof b,e,"internal-error"),re(d,e.name),re(h,e.name),k("boolean"===typeof w,e,"internal-error"),k("boolean"===typeof x,e,"internal-error"),re(f,e.name),re(p,e.name),re(m,e.name),re(g,e.name),re(v,e.name),re(y,e.name);const N=new ie({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(N.providerData=S.map(e=>(0,o.A)({},e))),g&&(N._redirectEventId=g),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ne;r.updateFromServerResponse(t);const i=new ie({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ee(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];k(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?te(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new ne;o.updateFromIdToken(n);const a=new ie({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Z(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const se=new Map;function oe(e){E(e instanceof Function,"Expected a class definition");let t=se.get(e);return t?(E(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,se.set(e,t),t)}class ae{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ae.type="NONE";const le=ae;function ce(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ue{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ce(this.userKey,r.apiKey,i),this.fullPersistenceKey=ce("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await K(this.auth,{idToken:e}).catch(()=>{});return t?ie._fromGetAccountInfoResponse(this.auth,t,e):null}return ie._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ue(oe(le),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||oe(le);const s=ce(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await K(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ie._fromGetAccountInfoResponse(e,r,t)}else n=ie._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(t){}})),new ue(i,e,n)):new ue(i,e,n)}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(me(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(he(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ve(t))return"Blackberry";if(ye(t))return"Webos";if(fe(t))return"Safari";if((t.includes("chrome/")||pe(t))&&!t.includes("edge/"))return"Chrome";if(ge(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/firefox\//i.test(e)}function fe(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/crios\//i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iemobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/android/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/blackberry/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/webos/i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)();return be(e)||ge(e)||ye(e)||ve(e)||/windows phone/i.test(e)||me(e)}function xe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=de((0,a.ZQ)());break;case"Worker":t="".concat(de((0,a.ZQ)()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(i)}class Se{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ke{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class _e{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new Se(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oe(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ue.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await K(this,{idToken:e}),n=await ie._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){var s,o;await this.getOrInitRedirectPersistenceManager();const t=null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId,r=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==r||null===a||void 0===a||!a.user||(n=a.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ee(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(x(this));const t=e?(0,a.Ku)(e):null;return t&&k(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(x(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(x(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oe(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return L(e,"GET","/v2/passwordPolicy",D(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ke(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new a.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return L(e,"POST","/v2/accounts:revokeToken",D(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oe(e)||this._popupRedirectResolver;k(t,this,"argument-error"),this.redirectPersistenceManager=await ue.create(this,[oe(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(g.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ee(e){return(0,a.Ku)(e)}class Ne{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,a.tD)(e=>this.observer=e)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Te(e){return Ce.loadJS(e)}function Ae(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class je{constructor(){this.enterprise=new Ie}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ie{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Pe="NO_RECAPTCHA";class Re{constructor(e){this.type="recaptcha-enterprise",this.auth=Ee(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;q(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Pe)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new je).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{W(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new H(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&q(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Te(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Oe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Re(e);let a;if(i)a=Pe;else try{a=await s.verify(n)}catch(c){a=await s.verify(n,!0)}const l=(0,o.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function De(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Oe(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Oe(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await Oe(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Oe(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Oe(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Le(e){const t=Ee(e),n=await W(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new H(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Re(t).verify()}}function Me(e,t,n){const r=Ee(e);k(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),s=Fe(t),{host:o,port:l}=function(e){const t=Fe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ue(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ue(t)}}}(t),c=null===l?"":":".concat(l),u={url:"".concat(s,"//").concat(o).concat(c,"/")},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return k(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void k((0,a.bD)(u,r.config.emulator)&&(0,a.bD)(d,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,(0,a.zJ)(o)?((0,a.gE)("".concat(s,"//").concat(o).concat(c)),(0,a.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ue(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ze{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}async function Be(e,t){return L(e,"POST","/v1/accounts:signUp",t)}async function Ve(e,t){return F(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}class qe extends ze{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qe(e,t,"password")}static _fromEmailAndCode(e,t){return new qe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return De(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ve,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return De(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Be,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return F(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function He(e,t){return F(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}class We extends ze{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new We(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,s.A)(t,h);if(!n||!r)return null;const o=new We(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return He(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,He(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,He(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,a.Am)(t)}return e}}async function Ke(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}const Ge={USER_NOT_FOUND:"user-not-found"};class Qe extends ze{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await F(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n}(e,(0,o.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return F(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,(0,o.A)((0,o.A)({},t),{},{operation:"REAUTH"})),Ge)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Je{constructor(e){var t,n,r,i,s,o;const l=(0,a.I9)((0,a.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=l.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,a.I9)((0,a.hp)(e)).link,n=t?(0,a.I9)((0,a.hp)(t)).deep_link_id:null,r=(0,a.I9)((0,a.hp)(e)).deep_link_id;return(r?(0,a.I9)((0,a.hp)(r)).link:null)||r||n||t||e}(e);try{return new Je(t)}catch(n){return null}}}class Ye{constructor(){this.providerId=Ye.PROVIDER_ID}static credential(e,t){return qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Je.parseLink(t);return k(n,"argument-error"),qe._fromEmailAndCode(e,n.code,n.tenantId)}}Ye.PROVIDER_ID="password",Ye.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ye.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $e{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xe extends $e{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ze extends Xe{constructor(){super("facebook.com")}static credential(e){return We._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ze.credential(t.oauthAccessToken)}catch(n){return null}}}Ze.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ze.PROVIDER_ID="facebook.com";class et extends Xe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return We._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return et.credential(n,r)}catch(i){return null}}}et.GOOGLE_SIGN_IN_METHOD="google.com",et.PROVIDER_ID="google.com";class tt extends Xe{constructor(){super("github.com")}static credential(e){return We._fromParams({providerId:tt.PROVIDER_ID,signInMethod:tt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tt.credentialFromTaggedObject(e)}static credentialFromError(e){return tt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return tt.credential(t.oauthAccessToken)}catch(n){return null}}}tt.GITHUB_SIGN_IN_METHOD="github.com",tt.PROVIDER_ID="github.com";class nt extends Xe{constructor(){super("twitter.com")}static credential(e,t){return We._fromParams({providerId:nt.PROVIDER_ID,signInMethod:nt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nt.credentialFromTaggedObject(e)}static credentialFromError(e){return nt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return nt.credential(n,r)}catch(i){return null}}}nt.TWITTER_SIGN_IN_METHOD="twitter.com",nt.PROVIDER_ID="twitter.com";class rt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ie._fromIdTokenResponse(e,n,r),s=it(n);return new rt({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=it(n);return new rt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function it(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class st extends a.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,st.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new st(e,t,n,r)}}function ot(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw st._fromErrorAndOperation(e,n,t,r);throw n})}async function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rt._forOperation(e,"link",r)}async function lt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(x(i));const s="reauthenticate";try{const r=await $(e,ot(i,s,t,e),n);k(r.idToken,i,"internal-error");const o=J(r.idToken);k(o,i,"internal-error");const{sub:a}=o;return k(e.uid===a,i,"user-mismatch"),rt._forOperation(e,s,r)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&y(i,"user-mismatch"),o}}async function ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(x(e));const i="signIn",s=await ot(e,i,t),o=await rt._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(o.user),o}function ut(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}new WeakMap;const dt="__sak";class ht{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dt,"1"),this.storage.removeItem(dt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ft extends ht{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,a.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ft.type="LOCAL";const pt=ft;function mt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function gt(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class vt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=gt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return mt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=gt(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=gt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=mt(n);const i=setInterval(()=>{const e=mt(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}vt.type="COOKIE";class yt extends ht{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yt.type="SESSION";const bt=yt;class wt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new wt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wt.receivers=[];class St{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=xt("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function kt(){return window}function _t(){return"undefined"!==typeof kt().WorkerGlobalScope&&"function"===typeof kt().importScripts}const Et="firebaseLocalStorageDb",Nt="firebaseLocalStorage",Ct="fbase_key";class Tt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function At(e,t){return e.transaction([Nt],t?"readwrite":"readonly").objectStore(Nt)}function jt(){const e=indexedDB.open(Et,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Nt,{keyPath:Ct})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Nt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Et);return new Tt(e).toPromise()}(),t(await jt()))})})}async function It(e,t,n){const r=At(e,!0).put({[Ct]:t,value:n});return new Tt(r).toPromise()}function Pt(e,t){const n=At(e,!0).delete(t);return new Tt(n).toPromise()}class Rt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await jt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _t()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wt._getInstance(_t()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new St(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jt();return await It(e,dt,"1"),await Pt(e,dt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>It(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=At(e,!1).get(t),r=await new Tt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=At(e,!1).getAll();return new Tt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Rt.type="LOCAL";const Ot=Rt;function Dt(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}Ae("rcb"),new A(3e4,6e4);const Lt="recaptcha";async function Mt(e,t,n){if(!e._getRecaptchaConfig())try{await Le(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){k("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=De(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Pe){k((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return ut(e,await Ft(e,t,n))}return ut(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;k("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;k(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=De(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Pe){k((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return Dt(e,await Ft(e,t,n))}return Dt(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=De(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Pe){k((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return Ke(e,await Ft(e,t,n))}return Ke(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ft(e,t,n){k(n.type===Lt,e,"argument-error");const r=await n.verify();k("string"===typeof r,e,"argument-error");const i=(0,o.A)({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ut{constructor(e){this.providerId=Ut.PROVIDER_ID,this.auth=Ee(e)}verifyPhoneNumber(e,t){return Mt(this.auth,e,(0,a.Ku)(t))}static credential(e,t){return Qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ut.credentialFromTaggedObject(t)}static credentialFromError(e){return Ut.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Qe._fromTokenResponse(n,r):null}}function zt(e,t){return t?oe(t):(k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ut.PROVIDER_ID="phone",Ut.PHONE_SIGN_IN_METHOD="phone";class Bt extends ze{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return He(e,this._buildIdpRequest())}_linkToIdToken(e,t){return He(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return He(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vt(e){return ct(e.auth,new Bt(e),e.bypassAuthState)}function qt(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),lt(n,new Bt(e),e.bypassAuthState)}async function Ht(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),at(n,new Bt(e),e.bypassAuthState)}class Wt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vt;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return qt;default:y(this.auth,"internal-error")}}resolve(e){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kt=new A(2e3,1e4);class Gt extends Wt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Gt.currentPopupAction&&Gt.currentPopupAction.cancel(),Gt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){E(1===this.filter.length,"Popup operations only handle one event");const e=xt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Kt.get())};e()}}Gt.currentPopupAction=null;const Qt=new Map;class Jt extends Wt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Qt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xt(t),r=$t(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Qt.set(this.auth._key(),e)}return this.bypassAuthState||Qt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yt(e,t){Qt.set(e._key(),t)}function $t(e){return oe(e._redirectPersistence)}function Xt(e){return ce("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(x(e));const i=Ee(e),s=zt(i,t),o=new Jt(i,s,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class en{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nn(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tn(e))}saveEventToCache(e){this.cachedEventUids.add(tn(e)),this.lastProcessedEventTime=Date.now()}}function tn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const rn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sn=/^https?/;async function on(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return L(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(an(r))return}catch(n){}y(e,"unauthorized-domain")}function an(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sn.test(n))return!1;if(rn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ln=new A(3e4,6e4);function cn(){const e=kt().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function un(e){return new Promise((t,n)=>{var r,i;function s(){cn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cn(),n(b(e,"network-request-failed"))},timeout:ln.get()})}if(null!==(r=kt().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=kt().gapi)||void 0===i||!i.load){const t=Ae("iframefcb");return kt()[t]=()=>{gapi.load?s():n(b(e,"network-request-failed"))},Te("".concat(Ce.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw dn=null,e})}let dn=null;const hn=new A(5e3,15e3),fn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mn(e){const t=e.config;k(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?j(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:r.MF},s=pn.get(e.config.apiHost);s&&(i.eid=s);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),"".concat(n,"?").concat((0,a.Am)(i).slice(1))}async function gn(e){const t=await function(e){return dn=dn||un(e),dn}(e),n=kt().gapi;return k(n,e,"internal-error"),t.open({where:document.body,url:mn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b(e,"network-request-failed"),s=kt().setTimeout(()=>{r(i)},hn.get());function o(){kt().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const vn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function bn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=(0,o.A)((0,o.A)({},vn),{},{width:r.toString(),height:i.toString(),top:s,left:l}),d=(0,a.ZQ)().toLowerCase();n&&(c=pe(d)?"_blank":n),he(d)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return be(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(d)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new yn(null);const f=window.open(t||"",c,h);k(f,e,"popup-blocked");try{f.focus()}catch(p){}return new yn(f)}const wn="__/auth/handler",xn="emulator/auth/handler",Sn=encodeURIComponent("fac");async function kn(e,t,n,i,s,o){k(e.config.authDomain,e,"auth-domain-config-required"),k(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:r.MF,eventId:s};if(t instanceof $e){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,a.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof Xe){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?"#".concat(Sn,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(wn);return j(t,xn)}(e),"?").concat((0,a.Am)(c).slice(1)).concat(d)}const _n="webStorageSupport";const En=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bt,this._completeRedirectFn=Zt,this._overrideRedirectResult=Yt}async _openPopup(e,t,n,r){var i;E(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return bn(e,await kn(e,t,n,N(),r),xt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){kt().location.href=e}(await kn(e,t,n,N(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(E(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await gn(e),n=new en(e);return t.register("authEvent",t=>{k(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_n,{type:_n},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[_n];void 0!==i&&t(!!i),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=on(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return we()||fe()||be()}};var Nn="@firebase/auth",Cn="1.11.0";class Tn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const An=(0,a.XA)("authIdTokenMaxAge")||300;let jn=null;var In,Pn;In={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ce=In,Pn="Browser",(0,r.om)(new c.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Pn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(Pn)},c=new _e(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oe);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new c.uA("auth-internal",e=>(e=>new Tn(e))(Ee(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Nn,Cn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Pn)),(0,r.KO)(Nn,Cn,"esm2020");var Rn=n(180);const On="@firebase/installations",Dn="0.6.19",Ln=1e4,Mn="w:".concat(Dn),Fn="FIS_v2",Un=36e5,zn={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bn=new a.FA("installations","Installations",zn);function Vn(e){return e instanceof a.g&&e.code.includes("request-failed")}function qn(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Hn(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Wn(e,t){const n=(await t.json()).error;return Bn.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Kn(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Gn(e,t){let{refreshToken:n}=t;const r=Kn(e);return r.append("Authorization",function(e){return"".concat(Fn," ").concat(e)}(n)),r}async function Qn(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Jn(e){return new Promise(t=>{setTimeout(t,e)})}const Yn=/^[cdef][\w-]{21}$/;function $n(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Yn.test(t)?t:""}catch(e){return""}}function Xn(e){return"".concat(e.appName,"!").concat(e.appId)}const Zn=new Map;function er(e,t){const n=Xn(e);tr(n,t),function(e,t){const n=rr();n&&n.postMessage({key:e,fid:t});ir()}(n,t)}function tr(e,t){const n=Zn.get(e);if(n)for(const r of n)r(t)}let nr=null;function rr(){return!nr&&"BroadcastChannel"in self&&(nr=new BroadcastChannel("[Firebase] FID Change"),nr.onmessage=e=>{tr(e.data.key,e.data.fid)}),nr}function ir(){0===Zn.size&&nr&&(nr.close(),nr=null)}const sr="firebase-installations-store";let or=null;function ar(){return or||(or=(0,Rn.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(sr)}})),or}async function lr(e,t){const n=Xn(e),r=(await ar()).transaction(sr,"readwrite"),i=r.objectStore(sr),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||er(e,t.fid),t}async function cr(e){const t=Xn(e),n=(await ar()).transaction(sr,"readwrite");await n.objectStore(sr).delete(t),await n.done}async function ur(e,t){const n=Xn(e),r=(await ar()).transaction(sr,"readwrite"),i=r.objectStore(sr),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||er(e,o.fid),o}async function dr(e){let t;const n=await ur(e.appConfig,n=>{const r=function(e){const t=e||{fid:$n(),registrationStatus:0};return pr(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Bn.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=qn(n),o=Kn(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Fn,appId:n.appId,sdkVersion:Mn},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Qn(()=>fetch(s,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Hn(e.authToken)}}throw await Wn("Create Installation",u)}(e,t);return lr(e.appConfig,n)}catch(n){throw Vn(n)&&409===n.customData.serverCode?await cr(e.appConfig):await lr(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:hr(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function hr(e){let t=await fr(e.appConfig);for(;1===t.registrationStatus;)await Jn(100),t=await fr(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await dr(e);return n||t}return t}function fr(e){return ur(e,e=>{if(!e)throw Bn.create("installation-not-found");return pr(e)})}function pr(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ln<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function mr(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(qn(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Gn(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:Mn,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await Qn(()=>fetch(i,l));if(c.ok){return Hn(await c.json())}throw await Wn("Generate Auth Token",c)}async function gr(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ur(e.appConfig,r=>{if(!yr(r))throw Bn.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Un}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await vr(e.appConfig);for(;1===n.authToken.requestStatus;)await Jn(100),n=await vr(e.appConfig);const r=n.authToken;return 0===r.requestStatus?gr(e,t):r}(e,n),r;{if(!navigator.onLine)throw Bn.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,o.A)((0,o.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await mr(e,t),r=(0,o.A)((0,o.A)({},t),{},{authToken:n});return await lr(e.appConfig,r),n}catch(n){if(!Vn(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=(0,o.A)((0,o.A)({},t),{},{authToken:{requestStatus:0}});await lr(e.appConfig,n)}else await cr(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function vr(e){return ur(e,e=>{if(!yr(e))throw Bn.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ln<Date.now()?(0,o.A)((0,o.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function yr(e){return void 0!==e&&2===e.registrationStatus}async function br(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await dr(e);t&&await t}(n);return(await gr(n,t)).token}function wr(e){return Bn.create("missing-app-config-values",{valueName:e})}const xr="installations",Sr=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw wr("App Configuration");if(!e.name)throw wr("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw wr(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,r.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},kr=e=>{const t=e.getProvider("app").getImmediate(),n=(0,r.j6)(t,xr).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await dr(t);return r?r.catch(console.error):gr(t).catch(console.error),n.fid}(n),getToken:e=>br(n,e)}};(0,r.om)(new c.uA(xr,Sr,"PUBLIC")),(0,r.om)(new c.uA("installations-internal",kr,"PRIVATE")),(0,r.KO)(On,Dn),(0,r.KO)(On,Dn,"esm2020");const _r="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Er="google.c.a.c_id",Nr=1e4;var Cr,Tr;function Ar(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jr(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Cr||(Cr={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Tr||(Tr={}));const Ir="fcm_token_details_db",Pr="fcm_token_object_Store";const Rr="firebase-messaging-store";let Or=null;function Dr(){return Or||(Or=(0,Rn.P2)("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Rr)}})),Or}async function Lr(e){const t=Fr(e),n=await Dr(),r=await n.transaction(Rr).objectStore(Rr).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(Ir))return null}let t=null;const n=await(0,Rn.P2)(Ir,5,{upgrade:async(n,r,i,s)=>{if(r<2)return;if(!n.objectStoreNames.contains(Pr))return;const o=s.objectStore(Pr),a=await o.index("fcmSenderId").get(e);if(await o.clear(),a)if(2===r){var l;const e=a;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(l=e.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:Ar(e.vapidKey)}}}else if(3===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ar(e.auth),p256dh:Ar(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ar(e.vapidKey)}}}else if(4===r){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ar(e.auth),p256dh:Ar(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ar(e.vapidKey)}}}}});return n.close(),await(0,Rn.MR)(Ir),await(0,Rn.MR)("fcm_vapid_details_db"),await(0,Rn.MR)("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await Mr(e,t),t}}async function Mr(e,t){const n=Fr(e),r=(await Dr()).transaction(Rr,"readwrite");return await r.objectStore(Rr).put(t,n),await r.done,t}function Fr(e){let{appConfig:t}=e;return t.appId}const Ur={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},zr=new a.FA("messaging","Messaging",Ur);async function Br(e,t){const n={method:"DELETE",headers:await qr(e)};try{const r=await fetch("".concat(Vr(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw zr.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw zr.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function Vr(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function qr(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function Hr(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const s={web:{endpoint:r,auth:n,p256dh:t}};return i!==_r&&(s.web.applicationPubKey=i),s}async function Wr(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jr(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ar(t.getKey("auth")),p256dh:Ar(t.getKey("p256dh"))},r=await Lr(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await qr(e),r=Hr(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch("".concat(Vr(e.appConfig),"/").concat(t.token),i);s=await n.json()}catch(o){throw zr.create("token-update-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw zr.create("token-update-failed",{errorInfo:e})}if(!s.token)throw zr.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),r=(0,o.A)((0,o.A)({},t),{},{token:n,createTime:Date.now()});return await Mr(e.firebaseDependencies,r),n}catch(n){throw n}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Br(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Kr(e.firebaseDependencies,n)}return Kr(e.firebaseDependencies,n)}async function Kr(e,t){const n=await async function(e,t){const n=await qr(e),r=Hr(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=await fetch(Vr(e.appConfig),i);s=await t.json()}catch(o){throw zr.create("token-subscribe-failed",{errorInfo:null===o||void 0===o?void 0:o.toString()})}if(s.error){const e=s.error.message;throw zr.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw zr.create("token-subscribe-no-token");return s.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await Mr(e,r),r.token}function Gr(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&(null===(n=t.notification)||void 0===n||!n.click_action))return;e.fcmOptions={};const a=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Qr(e){return zr.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jr{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Qr("App Configuration Object");if(!e.name)throw Qr("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Qr(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Yr(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after ".concat(Nr," ms"))),Nr),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(t){throw zr.create("failed-service-worker-registration",{browserErrorMessage:null===t||void 0===t?void 0:t.message})}}async function $r(e,t){if(!navigator)throw zr.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw zr.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=_r)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Yr(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw zr.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Wr(e)}async function Xr(e,t,n){const r=function(e){switch(e){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Er],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function Zr(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Tr.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(Gr(n)):e.onMessageHandler.next(Gr(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&Er in e})(r)&&"1"===r["google.c.a.e"]&&await Xr(e,n.messageType,r)}const ei="@firebase/messaging",ti="0.12.23",ni=e=>{const t=new Jr(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>Zr(t,e)),t},ri=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>$r(t,e)}};(0,r.om)(new c.uA("messaging",ni,"PUBLIC")),(0,r.om)(new c.uA("messaging-internal",ri,"PRIVATE")),(0,r.KO)(ei,ti),(0,r.KO)(ei,ti,"esm2020");const ii="firebasestorage.googleapis.com",si="storageBucket";class oi extends a.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(ci(e),"Firebase Storage: ".concat(t," (").concat(ci(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ci(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ai,li;function ci(e){return"storage/"+e}function ui(){return new oi(ai.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function di(){return new oi(ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hi(){return new oi(ai.CANCELED,"User canceled the upload/download.")}function fi(e){return new oi(ai.INVALID_ARGUMENT,e)}function pi(){return new oi(ai.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ai||(ai={}));class mi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=mi.makeFromUrl(e,t)}catch(i){return new mi(e,"")}if(""===n.path)return n;throw r=e,new oi(ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===ii?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new mi(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new oi(ai.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class gi{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function vi(e,t,n,r){if(r<t)throw fi("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw fi("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function yi(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function bi(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(li||(li={}));class wi{constructor(e,t,n,r,i,s,o,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new xi(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===li.NO_ERROR,i=n.getStatus();if(!t||bi(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===li.ABORT;return void e(!1,new xi(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new xi(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=ui();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?pi():hi())}else{r(di())}};this.canceled_?t(0,new xi(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xi{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Si(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class ki{constructor(e,t){this._service=e,this._location=t instanceof mi?t:mi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ki(e,t)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Si(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new mi(this._location.bucket,e);return new ki(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new oi(ai.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function _i(e,t){const n=null===t||void 0===t?void 0:t[si];return null==n?null:mi.makeFromBucketSpec(n,e)}class Ei{constructor(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=ii,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?mi.makeFromBucketSpec(r,this._host):_i(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=_i(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vi("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vi("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ki(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new gi(pi());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=yi(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new wi(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Ni="@firebase/storage",Ci="0.14.0",Ti="storage";function Ai(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Ei(i,s,o,n,r.MF)}(0,r.om)(new c.uA(Ti,Ai,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(Ni,Ci,""),(0,r.KO)(Ni,Ci,"esm2020");const ji=(0,r.Wp)({apiKey:"AIzaSyDzLcPwg1QoOLGQaZW2Ya_b0tGUINazJ8Y",authDomain:"salon-finder-874b7.firebaseapp.com",projectId:"salon-finder-874b7",storageBucket:"salon-finder-874b7.firebasestorage.app",messagingSenderId:"886085095671",appId:"1:886085095671:web:a24cc4d979697ce5bac3f2",measurementId:"G-T1B80V2VSF"}),Ii=(0,i.aU)(ji);(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,a.bD)(r,null!==t&&void 0!==t?t:{}))return e;y(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:En,persistence:[Ot,pt,bt]}),i=(0,a.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>An)return;const i=null===n||void 0===n?void 0:n.token;jn!==i&&(jn=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){(0,a.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,a.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const s=(0,a.Tj)("auth");s&&Me(n,"http://".concat(s))})(ji),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,a.Ku)(e);const n=(0,r.j6)(e,Ti).getImmediate({identifier:t}),i=(0,a.yU)("storage");i&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=(0,a.zJ)(t);i&&((0,a.gE)("https://".concat(e.host,"/b")),(0,a.P1)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"===typeof s?s:(0,a.Fy)(s,e.app.options.projectId))}(e,t,n,r)}(n,...i)}(ji);let Pi=null;if("undefined"!==typeof window&&"serviceWorker"in navigator)try{Pi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();return async function(){try{await(0,a.eX)()}catch(e){return!1}return"undefined"!==typeof window&&(0,a.zW)()&&(0,a.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(e=>{if(!e)throw zr.create("unsupported-browser")},e=>{throw zr.create("indexed-db-unsupported")}),(0,r.j6)((0,a.Ku)(e),"messaging").getImmediate()}(ji)}catch(Ri){console.log("Firebase messaging not supported:",Ri)}},555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>a})},579:(e,t,n)=>{e.exports=n(799)},606:(e,t,n)=>{n.d(t,{h1:()=>a,uA:()=>i});var r=n(776);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},667:(e,t,n)=>{n.d(t,{gS:()=>da,rJ:()=>bo,H9:()=>wo,aU:()=>Eo,GV:()=>pa,O5:()=>fa,mZ:()=>ua});var r,i=n(555),s=n(150),o=n(606),a=n(965),l=n(776),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new i([0|e],0>e?-1:0)}):new i([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return p(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var l=o(0),c=o(1),d=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function p(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(c)}function m(e,t){return e.add(p(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function y(e,t){if(h(t))throw Error("division by zero");if(h(e))return new v(l,l);if(f(e))return t=y(p(e),t),new v(p(t.g),p(t.h));if(f(t))return t=y(e,p(t)),new v(p(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=b(n),r=b(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!h(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=w(r,1),n=w(n,1)}return t=m(e,i.j(t)),new v(i,t)}for(i=l;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=a(n)).j(t);f(o)||0<o.l(e);)o=(s=a(n-=r)).j(t);h(s)&&(s=c),i=i.add(s),e=m(e,o)}return new v(i,e)}function b(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(e=i.prototype).m=function(){if(f(this))return-p(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(f(this))return"-"+p(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,s=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(h(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=m(this,e))?-1:h(e)?0:1},e.abs=function(){return f(this)?p(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(h(this)||h(e))return l;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(d)&&0>e.l(d))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.i(r)>>>16,c=65535&this.i(r),u=e.i(s)>>>16,m=65535&e.i(s);n[2*r+2*s]+=c*m,g(n,2*r+2*s),n[2*r+2*s+1]+=o*m,g(n,2*r+2*s+1),n[2*r+2*s+1]+=c*u,g(n,2*r+2*s+1),n[2*r+2*s+2]+=o*u,g(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,u.Md5=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=l,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+o),n);8>o?(o=a(Math.pow(n,o)),i=i.j(o).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},r=u.Integer=i}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var d,h,f,p,m,g,v,y,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function S(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function _(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function N(e){return N[" "](e),e}N[" "]=function(){};var C=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function T(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function A(e){const t={};for(const n in e)t[n]=e[n];return t}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<j.length;t++)n=j[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function R(e){i.setTimeout(()=>{throw e},0)}function O(){var e=U;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var D=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L,e=>e.reset());class L{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let M,F=!1,U=new class{constructor(){this.h=this.g=null}add(e,t){const n=D.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},z=()=>{const e=i.Promise.resolve(void 0);M=()=>{e.then(B)}};var B=()=>{for(var e;e=O();){try{e.h.call(e.g)}catch(n){R(n)}var t=D;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}F=!1};function V(){this.s=this.s,this.C=this.C}function q(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},q.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function W(e,t){if(q.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(C){e:{try{N(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:K[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}x(W,q);var K={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),Q=0;function J(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Q,this.da=this.fa=!1}function Y(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Y(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Z(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new J(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);return null}return n=de(n),e&&e[G]?e.K(t,n,o(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new $(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)H||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=de(n),e&&e[G]?e.L(t,n,o(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function se(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)se(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=de(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(s=e.g[t],n,r,i))&&(Y(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&oe(n))}function oe(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):Y(e)}}}function ae(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new W(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&oe(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof $?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){V.call(this),this.i=new $(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new q(t,e);else if(t instanceof q)t.target=t.target||e;else{var i=t;I(t=new q(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=pe(o,r,!0,t)&&i}if(i=pe(o=t.g=e,r,!0,t)&&i,i=pe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=pe(o=t.g=n[s],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&X(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function me(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=me(()=>{e.g=null,e.i&&(e.i=!1,ge(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(he,V),he.prototype[G]=!0,he.prototype.removeEventListener=function(e,t,n,r){se(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Y(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ve extends V{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){V.call(this),this.h=e,this.g={}}x(ye,V);var be=[];function we(e){T(e.g,function(e,t){this.g.hasOwnProperty(t)&&oe(e)},e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),we(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=i.JSON.stringify,Se=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function _e(){}function Ee(e){return e.h||(e.h=e.i())}function Ne(){}_e.prototype.h=null;var Ce={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Te(){q.call(this,"d")}function Ae(){q.call(this,"c")}x(Te,q),x(Ae,q);var je={},Ie=null;function Pe(){return Ie=Ie||new he}function Re(e){q.call(this,je.La,e)}function Oe(e){const t=Pe();fe(t,new Re(t))}function De(e,t){q.call(this,je.STAT_EVENT,e),this.stat=t}function Le(e){const t=Pe();fe(t,new De(t,e))}function Me(e,t){q.call(this,je.Ma,e),this.size=t}function Fe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ue(){this.g=!0}function ze(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xe(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}je.La="serverreachability",x(Re,q),je.STAT_EVENT="statevent",x(De,q),je.Ma="timingevent",x(Me,q),Ue.prototype.xa=function(){this.g=!1},Ue.prototype.info=function(){};var Be,Ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function We(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}x(He,_e),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},Be=new He;var Ge={},Qe={};function Je(e,t,n){e.L=1,e.v=xt(gt(t)),e.m=n,e.P=!0,Ye(e,null)}function Ye(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Dt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ke,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ve(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var s=0;s<i.length;s++){var o=ne(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?A(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Oe(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qe:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?Qe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fe(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||yn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),an(n)}pn(n),Le(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Fe(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&vn(n),!_(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ut(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),o.K){dt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(tt(a),Ze(a)),r.g=o}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):on(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Oe()}catch(u){}}We.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Oe(),tt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=nn(this.g);e="";var s=r.length,o=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Le(12),rt(this),nt(this);break e}ze(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Xe(this,a),e==Qe){4==h&&(this.s=4,Le(14),n=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,Le(15),ze(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}ze(this.i,this.l,e,null),it(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Le(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),mn(d),d.M=!0,Le(11))}}else ze(this.i,this.l,a,"[Invalid Chunked Response]"),rt(this),nt(this)}else ze(this.i,this.l,a,null),it(this,a);4==h&&rt(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=P(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),rt(this),nt(this)}}}catch(h){}},We.prototype.cancel=function(){this.J=!0,rt(this)},We.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Oe(),Le(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var st=class{constructor(e,t){this.g=e,this.map=t}};function ot(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function at(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return S(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}ot.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,vt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,n=new It;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,vt(this,t[1]||"",!0),this.o=St(t[2]||""),this.g=St(t[3]||"",!0),yt(this,t[4]),this.l=St(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=St(t[7]||"")):(this.h=!1,this.i=new It(null,this.h))}function gt(e){return new mt(e)}function vt(e,t,n){e.j=n?St(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof It?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Rt(this,t),Dt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,At)),e.i=new It(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function xt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function St(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,_t),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _t(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Nt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,Nt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?Tt:Ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,jt)),e.join("")};var Et,Nt=/[#\/\?@]/g,Ct=/[#\?:]/g,Tt=/[#\?]/g,At=/[#\?@]/g,jt=/#/g;function It(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Rt(e,t){Pt(e),t=Lt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ot(e,t){return Pt(e),t=Lt(e,t),e.g.has(t)}function Dt(e,t,n){Rt(e,t),0<n.length&&(e.i=null,e.g.set(Lt(e,t),S(n)),e.h+=n.length)}function Lt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Mt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ft(){this.g=new ke}function Ut(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;o(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Bt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function qt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return T(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Kt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Gt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=It.prototype).add=function(e,t){Pt(this),this.i=null,e=Lt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Ot(this,e)&&(t=t.concat(this.g.get(Lt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Ot(this,e=Lt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},x(zt,_e),zt.prototype.g=function(){return new Bt(this.l,this.j)},zt.prototype.i=(Et={},function(){return Et}),x(Bt,he),(e=Bt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qt(this):Ht(this),3==this.readyState&&Vt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,qt(this))},e.Qa=function(e){this.g&&(this.response=e,qt(this))},e.ga=function(){this.g&&qt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Gt,he);var Qt=/^https?$/i,Jt=["POST","PUT"];function Yt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),Zt(e)}function $t(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(pt)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Qt.test(o?o.toLowerCase():"")}n=s}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var a=2<tn(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",$t(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sn(e){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ot(e&&e.concurrentRequestLimit),this.Da=new Ft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),dn(e,n),(t=new We(e,e.j,t)).L=2,t.v=xt(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}xn(e)}function an(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){an(e),e.u&&(i.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!at(e.h)&&!e.s){e.s=!0;var t=e.Ga;M||z(),F||(M(),F=!0),U.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),dn(e,r),e.m&&e.o&&Kt(r,e.m,e.o),n=new We(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Je(n,r,t)}function dn(e,t){e.H&&T(e.H,function(e,n){wt(t,n,e)}),e.l&&ft({},function(e,n){wt(t,n,e)})}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Ut(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;M||z(),F||(M(),F=!0),U.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Fe(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&Kt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=xt(gt(t)),n.m=null,n.P=!0,Ye(n,e)}function vn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){vn(e),mn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,dt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Pe(),new Me(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Fe(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new mt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||vt(r,"https"),xt(r),t?function(e,t){const n=new Ue;if(i.Image){const r=new Image;r.onload=u(Mt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Mt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Mt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Mt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ue;const n=new AbortController,r=setTimeout(()=>{n.abort(),Mt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Mt(0,0,!0,t):Mt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Mt(0,0,!1,t)})}(r.toString(),n)}else Le(2);e.G=0,e.l&&e.l.sa(t),xn(e),ln(e)}function xn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof mt?gt(n):new mt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new mt(null);r&&vt(o,r),t&&(o.g=t),s&&yt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),dn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new zt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function _n(){}function En(){}function Nn(e,t){he.call(this),this.g=new sn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!_(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function Cn(e){Te.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tn(){Ae.call(this),this.status=1}function An(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?Ee(this.o):Ee(Be),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Yt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Jt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Yt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Et){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Et){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Se(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=sn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Le(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new We(this,this.j,e);let s=this.o;if(this.S&&(s?(s=A(s),I(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),dn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&Kt(n,this.m,s)),ut(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,Je(i,n,null)):Je(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||at(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Fe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),an(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,an(this),pn(this),Le(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=_n.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new Nn(e,t)},x(Nn,he),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){on(this.g)},Nn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=xe(e),e=n);t.i.push(new st(t.Ya++,e)),3==t.G&&cn(t)},Nn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Nn.aa.N.call(this)},x(Cn,Te),x(Tn,Ae),x(An,_n),An.prototype.ua=function(){fe(this.g,"a")},An.prototype.ta=function(e){fe(this.g,new Cn(e))},An.prototype.sa=function(e){fe(this.g,new Tn)},An.prototype.ra=function(){fe(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,y=w.createWebChannelTransport=function(){return new En},v=w.getStatEventTarget=function(){return Pe()},g=w.Event=je,m=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,p=w.ErrorCode=Ve,qe.COMPLETE="complete",f=w.EventType=qe,Ne.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=Ne,w.FetchXmlHttpFactory=zt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,d=w.XhrIo=Gt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const x="@firebase/firestore",S="4.9.0";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let _="12.0.0";const E=new a.Vy("@firebase/firestore");function N(){return E.logLevel}function C(e){if(E.logLevel<=a.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);E.debug("Firestore (".concat(_,"): ").concat(e),...i)}}function T(e){if(E.logLevel<=a.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);E.error("Firestore (".concat(_,"): ").concat(e),...i)}}function A(e){if(E.logLevel<=a.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);E.warn("Firestore (".concat(_,"): ").concat(e),...i)}}function j(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function I(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,P(e,r,n)}function P(e,t,n){let r="FIRESTORE (".concat(_,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw T(r),new Error(r)}function R(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||P(t,i,r)}function O(e,t){return e}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class M{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class U{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class B{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){R(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new M;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new M,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new M)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(R("string"==typeof t.accessToken,31837,{l:t}),new F(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class V{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){R(void 0===this.o,3512);const n=e=>{null!=e.error&&C("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,C("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(R("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new H(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class G{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=K(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function J(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return X(n)===X(i)?Q(n,i):X(n)?1:-1}return Q(e.length,t.length)}const Y=55296,$=57343;function X(e){const t=e.charCodeAt(0);return t>=Y&&t<=$}function Z(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&I(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&I(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new L(D.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends te{construct(e,t,n){return new ie(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new ie([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(D.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new L(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ie(t)}static emptyPath(){return new ie([])}}class se{constructor(e){this.path=e}static fromPath(e){return new se(ne.fromString(e))}static fromName(e){return new se(ne.fromString(e).popFirst(5))}static empty(){return new se(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new ne(e.slice()))}}function oe(e,t,n){if(!n)throw new L(D.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ae(e){if(!se.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function le(e){if(se.isDocumentKey(e))throw new L(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ce(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ue(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":I(12329,{type:typeof e})}function de(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ue(e);throw new L(D.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function he(e,t){const n={typeString:e};return t&&(n.value=t),n}function fe(e,t){if(!ce(e))throw new L(D.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==s&&o!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new L(D.INVALID_ARGUMENT,n);return!0}const pe=-62135596800,me=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*me);return new ge(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pe)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/me}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fe(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:he("string",ge._jsonSchemaVersion),seconds:he("number"),nanoseconds:he("number")};class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ge(0,0))}static max(){return new ve(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ye=-1;class be{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}be.UNKNOWN_ID=-1;function we(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(1e9===r?new ge(n+1,0):new ge(n,r));return new Se(i,se.empty(),t)}function xe(e){return new Se(e.readTime,e.key,ye)}class Se{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Se(ve.min(),se.empty(),ye)}static max(){return new Se(ve.max(),se.empty(),ye)}}function ke(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=se.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const _e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ne(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==_e)throw e;C("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&I(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(e){return Ce.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,n)=>{t(e)})}static reject(e){return new Ce((t,n)=>{n(e)})}static waitFor(e){return new Ce((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const n of e)t=t.next(e=>e?Ce.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ce((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ce((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Te(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ae(e){return"IndexedDbTransactionError"===e.name}class je{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}je.ce=-1;const Ie=-1;function Pe(e){return null==e}function Re(e){return 0===e&&1/e==-1/0}function Oe(e){return"number"==typeof e&&Number.isInteger(e)&&!Re(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const De="\x01";function Le(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fe(t)),t=Me(e.get(n),t);return Fe(t)}function Me(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case De:n+="\x01\x11";break;default:n+=t}}return n}function Fe(e){return e+De+"\x01"}const Ue="remoteDocuments",ze="owner",Be="mutationQueues",Ve="mutations";const qe="documentMutations",He="remoteDocumentsV14",We="remoteDocumentGlobal",Ke="targets",Ge="targetDocuments",Qe="targetGlobal",Je="collectionParents",Ye="clientMetadata",$e="bundles",Xe="namedQueries",Ze="indexConfiguration",et="indexState",tt="indexEntries",nt="documentOverlays",rt="globals",it=[Be,Ve,qe,Ue,Ke,ze,Qe,Ge,Ye,We,Je,$e,Xe],st=[Be,Ve,qe,He,Ke,ze,Qe,Ge,Ye,We,Je,$e,Xe,nt],ot=st,at=[...ot,Ze,et,tt];function lt(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ct(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class dt{constructor(e,t){this.comparator=e,this.root=t||ft.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ht(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ht(this.root,e,this.comparator,!1)}getReverseIterator(){return new ht(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ht(this.root,e,this.comparator,!0)}}class ht{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ft.RED,this.left=null!=r?r:ft.EMPTY,this.right=null!=i?i:ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ft(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ft.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw I(43730,{key:this.key,value:this.value});if(this.right.isRed())throw I(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw I(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1,ft.EMPTY=new class{constructor(){this.size=0}get key(){throw I(57766)}get value(){throw I(16141)}get color(){throw I(16727)}get left(){throw I(29726)}get right(){throw I(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mt(this.data.getIterator())}getIteratorFrom(e){return new mt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof pt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pt(this.comparator);return t.data=e,t}}class mt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gt{constructor(e){this.fields=e,e.sort(ie.comparator)}static empty(){return new gt([])}unionWith(e){let t=new pt(ie.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class vt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vt("Invalid base64 string: "+e):e}}(e);return new yt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wt(e){if(R(!!e,39018),"string"==typeof e){let t=0;const n=bt.exec(e);if(R(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:xt(e.seconds),nanos:xt(e.nanos)}}function xt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function St(e){return"string"==typeof e?yt.fromBase64String(e):yt.fromUint8Array(e)}const kt="server_timestamp",_t="__type__",Et="__previous_value__",Nt="__local_write_time__";function Ct(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[_t])||void 0===t?void 0:t.stringValue)===kt}function Tt(e){const t=e.mapValue.fields[Et];return Ct(t)?Tt(t):t}function At(e){const t=wt(e.mapValue.fields[Nt].timestampValue);return new ge(t.seconds,t.nanos)}class jt{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const It="(default)";class Pt{constructor(e,t){this.projectId=e,this.database=t||It}static empty(){return new Pt("","")}get isDefaultDatabase(){return this.database===It}isEqual(e){return e instanceof Pt&&e.projectId===this.projectId&&e.database===this.database}}const Rt="__type__",Ot="__max__",Dt={mapValue:{fields:{__type__:{stringValue:Ot}}}},Lt="__vector__",Mt="value";function Ft(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ct(e)?4:Xt(e)?9007199254740991:Yt(e)?10:11:I(28295,{value:e})}function Ut(e,t){if(e===t)return!0;const n=Ft(e);if(n!==Ft(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return At(e).isEqual(At(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wt(e.timestampValue),r=wt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return St(e.bytesValue).isEqual(St(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xt(e.geoPointValue.latitude)===xt(t.geoPointValue.latitude)&&xt(e.geoPointValue.longitude)===xt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xt(e.integerValue)===xt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=xt(e.doubleValue),r=xt(t.doubleValue);return n===r?Re(n)===Re(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],Ut);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lt(n)!==lt(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ut(n[i],r[i])))return!1;return!0}(e,t);default:return I(52216,{left:e})}}function zt(e,t){return void 0!==(e.values||[]).find(e=>Ut(e,t))}function Bt(e,t){if(e===t)return 0;const n=Ft(e),r=Ft(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=xt(e.integerValue||e.doubleValue),r=xt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vt(e.timestampValue,t.timestampValue);case 4:return Vt(At(e),At(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){const n=St(e),r=St(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(xt(e.latitude),xt(t.latitude));return 0!==n?n:Q(xt(e.longitude),xt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qt(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,s){const o=e.fields||{},a=t.fields||{},l=null===(n=o[Mt])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Mt])||void 0===r?void 0:r.arrayValue,u=Q((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:qt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Dt.mapValue&&t===Dt.mapValue)return 0;if(e===Dt.mapValue)return 1;if(t===Dt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=J(r[o],s[o]);if(0!==e)return e;const t=Bt(n[r[o]],i[s[o]]);if(0!==t)return t}return Q(r.length,s.length)}(e.mapValue,t.mapValue);default:throw I(23264,{he:n})}}function Vt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=wt(e),r=wt(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function qt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bt(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function Ht(e){return Wt(e)}function Wt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return St(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return se.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Wt(e.fields[i]));return n+"}"}(e.mapValue):I(61005,{value:e})}function Kt(e){switch(Ft(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Tt(e);return t?16+Kt(t):16;case 5:return 2*e.stringValue.length;case 6:return St(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Kt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ct(e.fields,(e,n)=>{t+=e.length+Kt(n)}),t}(e.mapValue);default:throw I(13486,{value:e})}}function Gt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Jt(e){return!!e&&"mapValue"in e}function Yt(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Rt])||void 0===t?void 0:t.stringValue)===Lt}function $t(e){if(e.geoPointValue)return{geoPointValue:(0,i.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,i.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ct(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=$t(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$t(e.arrayValue.values[n]);return t}return(0,i.A)({},e)}function Xt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ot}class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Jt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$t(t)}setAll(e){let t=ie.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=$t(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Jt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Jt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ct(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Zt($t(this.value))}}function en(e){const t=[];return ct(e.fields,(e,n)=>{const r=new ie([e]);if(Jt(n)){const e=en(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new gt(t)}class tn{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new tn(e,0,ve.min(),ve.min(),ve.min(),Zt.empty(),0)}static newFoundDocument(e,t,n,r){return new tn(e,1,t,ve.min(),n,r,0)}static newNoDocument(e,t){return new tn(e,2,t,ve.min(),ve.min(),Zt.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,ve.min(),ve.min(),Zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class nn{constructor(e,t){this.position=e,this.inclusive=t}}function rn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?se.comparator(se.fromName(o.referenceValue),n.key):Bt(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ut(e.position[n],t.position[n]))return!1;return!0}class on{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function an(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ln{}class cn extends ln{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vn(e,t,n):"array-contains"===t?new xn(e,n):"in"===t?new Sn(e,n):"not-in"===t?new kn(e,n):"array-contains-any"===t?new _n(e,n):new cn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new yn(e,n):new bn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Bt(t,this.value)):null!==t&&Ft(this.value)===Ft(t)&&this.matchesComparison(Bt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return I(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class un extends ln{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new un(e,t)}matches(e){return dn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dn(e){return"and"===e.op}function hn(e){return fn(e)&&dn(e)}function fn(e){for(const t of e.filters)if(t instanceof un)return!1;return!0}function pn(e){if(e instanceof cn)return e.field.canonicalString()+e.op.toString()+Ht(e.value);if(hn(e))return e.filters.map(e=>pn(e)).join(",");{const t=e.filters.map(e=>pn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function mn(e,t){return e instanceof cn?function(e,t){return t instanceof cn&&e.op===t.op&&e.field.isEqual(t.field)&&Ut(e.value,t.value)}(e,t):e instanceof un?function(e,t){return t instanceof un&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&mn(n,t.filters[r]),!0)}(e,t):void I(19439)}function gn(e){return e instanceof cn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ht(e.value))}(e):e instanceof un?function(e){return e.op.toString()+" {"+e.getFilters().map(gn).join(" ,")+"}"}(e):"Filter"}class vn extends cn{constructor(e,t,n){super(e,t,n),this.key=se.fromName(n.referenceValue)}matches(e){const t=se.comparator(e.key,this.key);return this.matchesComparison(t)}}class yn extends cn{constructor(e,t){super(e,"in",t),this.keys=wn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bn extends cn{constructor(e,t){super(e,"not-in",t),this.keys=wn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>se.fromName(e.referenceValue))}class xn extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&zt(t.arrayValue,this.value)}}class Sn extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zt(this.value.arrayValue,t)}}class kn extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(zt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!zt(this.value.arrayValue,t)}}class _n extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>zt(this.value.arrayValue,e))}}class En{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Nn(e){return new En(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cn(e){const t=O(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>pn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Pe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ht(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ht(e)).join(",")),t.Te=e}return t.Te}function Tn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!an(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sn(e.startAt,t.startAt)&&sn(e.endAt,t.endAt)}class An{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jn(e,t,n,r,i,s,o,a){return new An(e,t,n,r,i,s,o,a)}function In(e){return new An(e)}function Pn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rn(e){return null!==e.collectionGroup}function On(e){const t=O(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new pt(ie.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new on(r,n))}),e.has(ie.keyField().canonicalString())||t.Ie.push(new on(ie.keyField(),n))}return t.Ie}function Dn(e){const t=O(e);return t.Ee||(t.Ee=Ln(t,On(e))),t.Ee}function Ln(e,t){if("F"===e.limitType)return Nn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new on(e.field,t)});const n=e.endAt?new nn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nn(e.startAt.position,e.startAt.inclusive):null;return Nn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Mn(e,t,n){return new An(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fn(e,t){return Tn(Dn(e),Dn(t))&&e.limitType===t.limitType}function Un(e){return"".concat(Cn(Dn(e)),"|lt:").concat(e.limitType)}function zn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>gn(e)).join(", "),"]")),Pe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ht(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ht(e)).join(",")),"Target(".concat(t,")")}(Dn(e)),"; limitType=").concat(e.limitType,")")}function Bn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):se.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of On(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=rn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,On(e),t))&&!(e.endAt&&!function(e,t,n){const r=rn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,On(e),t))}(e,t)}function Vn(e){return(t,n)=>{let r=!1;for(const i of On(e)){const e=qn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function qn(e,t,n){const r=e.field.isKeyField()?se.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bt(r,i):I(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return I(19790,{direction:e.dir})}}class Hn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ct(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ut(this.inner)}size(){return this.innerSize}}const Wn=new dt(se.comparator);function Kn(){return Wn}const Gn=new dt(se.comparator);function Qn(){let e=Gn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Jn(e){let t=Gn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Yn(){return Xn()}function $n(){return Xn()}function Xn(){return new Hn(e=>e.toString(),(e,t)=>e.isEqual(t))}const Zn=new dt(se.comparator),er=new pt(se.comparator);function tr(){let e=er;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const nr=new pt(Q);function rr(){return nr}function ir(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Re(t)?"-0":t}}function sr(e){return{integerValue:""+e}}function or(e,t){return Oe(t)?sr(t):ir(e,t)}class ar{constructor(){this._=void 0}}function lr(e,t,n){return e instanceof dr?function(e,t){const n={fields:{[_t]:{stringValue:kt},[Nt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ct(t)&&(t=Tt(t)),t&&(n.fields[Et]=t),{mapValue:n}}(n,t):e instanceof hr?fr(e,t):e instanceof pr?mr(e,t):function(e,t){const n=ur(e,t),r=vr(n)+vr(e.Ae);return Gt(n)&&Gt(e.Ae)?sr(r):ir(e.serializer,r)}(e,t)}function cr(e,t,n){return e instanceof hr?fr(e,t):e instanceof pr?mr(e,t):n}function ur(e,t){return e instanceof gr?function(e){return Gt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class dr extends ar{}class hr extends ar{constructor(e){super(),this.elements=e}}function fr(e,t){const n=yr(t);for(const r of e.elements)n.some(e=>Ut(e,r))||n.push(r);return{arrayValue:{values:n}}}class pr extends ar{constructor(e){super(),this.elements=e}}function mr(e,t){let n=yr(t);for(const r of e.elements)n=n.filter(e=>!Ut(e,r));return{arrayValue:{values:n}}}class gr extends ar{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vr(e){return xt(e.integerValue||e.doubleValue)}function yr(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class br{constructor(e,t){this.field=e,this.transform=t}}class wr{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class kr{}function _r(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Or(e.key,xr.none()):new Ar(e.key,e.data,xr.none());{const n=e.data,r=Zt.empty();let i=new pt(ie.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new jr(e.key,r,new gt(i.toArray()),xr.none())}}function Er(e,t,n){e instanceof Ar?function(e,t,n){const r=e.value.clone(),i=Pr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jr?function(e,t,n){if(!Sr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Pr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ir(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nr(e,t,n,r){return e instanceof Ar?function(e,t,n,r){if(!Sr(e.precondition,t))return n;const i=e.value.clone(),s=Rr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jr?function(e,t,n,r){if(!Sr(e.precondition,t))return n;const i=Rr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ir(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Sr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Cr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ur(r.transform,e||null);null!=i&&(null===n&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function Tr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hr&&t instanceof hr||e instanceof pr&&t instanceof pr?Z(e.elements,t.elements,Ut):e instanceof gr&&t instanceof gr?Ut(e.Ae,t.Ae):e instanceof dr&&t instanceof dr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ar extends kr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jr extends kr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ir(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Pr(e,t,n){const r=new Map;R(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,cr(o,a,n[i]))}return r}function Rr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,lr(e,s,t))}return r}class Or extends kr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dr extends kr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Er(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Nr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Nr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$n();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=_r(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(e,t)=>Tr(e,t))&&Z(this.baseMutations,e.baseMutations,(e,t)=>Tr(e,t))}}class Mr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){R(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Zn;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Mr(e,t,n,r)}}class Fr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}var Ur,zr;function Br(e){switch(e){case D.OK:return I(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return I(15467,{code:e})}}function Vr(e){if(void 0===e)return T("GRPC error has no .code"),D.UNKNOWN;switch(e){case Ur.OK:return D.OK;case Ur.CANCELLED:return D.CANCELLED;case Ur.UNKNOWN:return D.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return D.INTERNAL;case Ur.UNAVAILABLE:return D.UNAVAILABLE;case Ur.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ur.NOT_FOUND:return D.NOT_FOUND;case Ur.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ur.ABORTED:return D.ABORTED;case Ur.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ur.DATA_LOSS:return D.DATA_LOSS;default:return I(39323,{code:e})}}(zr=Ur||(Ur={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";new r([4294967295,4294967295],0);Error;class qr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wr(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Kr(e,t){return Hr(e,t.toTimestamp())}function Gr(e){return R(!!e,49232),ve.fromTimestamp(function(e){const t=wt(e);return new ge(t.seconds,t.nanos)}(e))}function Qr(e,t){return Jr(e,t).canonicalString()}function Jr(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Yr(e){const t=ne.fromString(e);return R(ai(t),10190,{key:t.toString()}),t}function $r(e,t){return Qr(e.databaseId,t.path)}function Xr(e){const t=Yr(e);return 4===t.length?ne.emptyPath():ei(t)}function Zr(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ei(e){return R(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ti(e,t,n){return{name:$r(e,t),fields:n.value.mapValue.fields}}function ni(e,t){let n;if(t instanceof Ar)n={update:ti(e,t.key,t.value)};else if(t instanceof Or)n={delete:$r(e,t.key)};else if(t instanceof jr)n={update:ti(e,t.key,t.data),updateMask:oi(t.fieldMask)};else{if(!(t instanceof Dr))return I(16599,{Vt:t.type});n={verify:$r(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof dr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gr)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw I(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Kr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:I(27497)}(e,t.precondition)),n}function ri(e){let t=Xr(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){R(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ii(e);return t instanceof un&&hn(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new on(si(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Pe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new nn(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new nn(n,t)}(n.endAt)),jn(t,i,o,s,a,"F",l,c)}function ii(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=si(e.unaryFilter.field);return cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=si(e.unaryFilter.field);return cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=si(e.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=si(e.unaryFilter.field);return cn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return I(61313);default:return I(60726)}}(e):void 0!==e.fieldFilter?function(e){return cn.create(si(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return I(58110);default:return I(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return un.create(e.compositeFilter.filters.map(e=>ii(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return I(1026)}}(e.compositeFilter.op))}(e):I(30097,{filter:e})}function si(e){return ie.fromServerFormat(e.fieldPath)}function oi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ai(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class li{constructor(e){this.yt=e}}function ci(e){const t=ri({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mn(t,t.limit,"L"):t}class ui{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(xt(e.integerValue));else if("doubleValue"in e){const n=xt(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Re(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=wt(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(St(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Xt(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Yt(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):I(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Mt,s=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(xt(s)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),se.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ui.Kt=new ui;class di{constructor(){this.Cn=new hi}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Se.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Se.min())}updateCollectionGroup(e,t,n){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class hi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pt(ne.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new pt(ne.comparator)).toArray()}}new Uint8Array(0);const fi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pi=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(pi,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);class gi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gi(0)}static cr(){return new gi(-1)}}const vi="LruGarbageCollector",yi=1048576;function bi(e,t){let[n,r]=e,[i,s]=t;const o=Q(n,i);return 0===o?Q(r,s):o}class wi{constructor(e){this.Ir=e,this.buffer=new pt(bi),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();bi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xi{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){C(vi,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ae(e)?C(vi,"Ignoring IndexedDB error during garbage collection: ",e):await Ne(e)}await this.Vr(3e5)})}}class Si{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(je.ce);const n=new wi(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(fi)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),fi):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),N()<=a.$b.DEBUG&&C("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(l-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-l)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function ki(e,t){return new Si(e,t)}class _i{constructor(){this.changes=new Hn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ei{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ni{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Nr(n.mutation,e,gt.empty(),ge.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,tr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr();const r=Yn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Qn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Yn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,tr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Kn();const s=Xn(),o=Xn();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof jr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Nr(o.mutation,t,o.mutation.getFieldMask(),ge.now())):s.set(t.key,gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Ei(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Xn();let r=new dt((e,t)=>e-t),i=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||gt.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||tr()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=$n();l.forEach(e=>{if(!i.has(e)){const r=_r(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ce.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ce.resolve(Yn());let o=ye,a=i;return s.next(t=>Ce.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ce.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,tr())).next(e=>({batchId:o,changes:Jn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(e=>{let t=Qn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Qn();return this.indexManager.getCollectionParents(e,i).next(o=>Ce.forEach(o,o=>{const a=function(e,t){return new An(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,tn.newInvalidDocument(r)))});let n=Qn();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Nr(s.mutation,r,gt.empty(),ge.now()),Bn(t,r)&&(n=n.insert(e,r))}),n})}}class Ci{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gr(e.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ci(e.bundledQuery),readTime:Gr(e.readTime)}}(t)),Ce.resolve()}}class Ti{constructor(){this.overlays=new dt(se.comparator),this.qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yn();return Ce.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ce.resolve()}getOverlaysForCollection(e,t,n){const r=Yn(),i=t.length+1,s=new se(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new dt((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Yn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Yn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Ce.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fr(t,n));let i=this.qr.get(t);void 0===i&&(i=tr(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Ai{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}class ji{constructor(){this.Qr=new pt(Ii.$r),this.Ur=new pt(Ii.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Ii(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Ii(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new se(new ne([])),n=new Ii(t,e),r=new Ii(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new se(new ne([])),n=new Ii(t,e),r=new Ii(t,e+1);let i=tr();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Ii(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ii{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return se.comparator(e.key,t.key)||Q(e.Yr,t.Yr)}static Kr(e,t){return Q(e.Yr,t.Yr)||se.comparator(e.key,t.key)}}class Pi{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new pt(Ii.$r)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lr(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new Ii(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ce.resolve(s)}lookupMutationBatch(e,t){return Ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?Ie:this.tr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ii(t,0),r=new Ii(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new pt(Q);return t.forEach(e=>{const t=new Ii(e,0),r=new Ii(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ce.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;se.isDocumentKey(i)||(i=i.child(""));const s=new Ii(new se(i),0);let o=new pt(Q);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),Ce.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){R(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ce.forEach(t.mutations,r=>{const i=new Ii(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Ii(t,0),r=this.Zr.firstAfterOrEqual(n);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ri{constructor(e){this.ri=e,this.docs=new dt(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ce.resolve(n?n.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let n=Kn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():tn.newInvalidDocument(e))}),Ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kn();const s=t.path,o=new se(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ke(xe(o),n)<=0||(r.has(o.key)||Bn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ce.resolve(i)}getAllFromCollectionGroup(e,t,n,r){I(9500)}ii(e,t){return Ce.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Oi(this)}getSize(e){return Ce.resolve(this.size)}}class Oi extends _i{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Di{constructor(e){this.persistence=e,this.si=new Hn(e=>Cn(e),Tn),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new ji,this.targetCount=0,this.ai=gi.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new gi(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Pr(t),Ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Ce.waitFor(i).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ce.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ce.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ce.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ce.resolve(n)}containsKey(e,t){return Ce.resolve(this._i.containsKey(t))}}class Li{constructor(e,t){this.ui={},this.overlays={},this.ci=new je(0),this.li=!1,this.li=!0,this.hi=new Ai,this.referenceDelegate=e(this),this.Pi=new Di(this),this.indexManager=new di,this.remoteDocumentCache=function(e){return new Ri(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new li(t),this.Ii=new Ci(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ti,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Pi(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){C("MemoryPersistence","Starting transaction:",e);const r=new Mi(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ce.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Mi extends Ee{constructor(e){super(),this.currentSequenceNumber=e}}class Fi{constructor(e){this.persistence=e,this.Ri=new ji,this.Vi=null}static mi(e){return new Fi(e)}get fi(){if(this.Vi)return this.Vi;throw I(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ce.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,n=>{const r=se.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ve.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ui{constructor(e,t){this.persistence=e,this.pi=new Hn(e=>Le(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ki(this,t)}static mi(e,t){return new Ui(e,t)}Ei(){}di(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ce.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ce.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ve.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kt(e.data.value)),t}br(e,t,n){return Ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ce.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zi{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=tr(),r=tr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new zi(e,t.fromCache,n,r)}}class Bi{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vi{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,l.nr)()?8:Te((0,l.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Bi;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(N()<=a.$b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",zn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(N()<=a.$b.DEBUG&&C("QueryEngine","Query:",zn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(N()<=a.$b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",zn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(t))):Ce.resolve())}ys(e,t){if(Pn(t))return Ce.resolve(null);let n=Dn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Mn(t,null,"F"),n=Dn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=tr(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Mn(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Pn(t)||r.isEqual(ve.min())?Ce.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?Ce.resolve(null):(N()<=a.$b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zn(t)),this.vs(e,s,t,we(r,ye)).next(e=>e))})}Ds(e,t){let n=new pt(Vn(e));return t.forEach((t,r)=>{Bn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return N()<=a.$b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",zn(t)),this.ps.getDocumentsMatchingQuery(e,t,Se.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const qi="LocalStore";class Hi{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new dt(Q),this.xs=new Hn(e=>Cn(e),Tn),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ni(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Wi(e,t,n,r){return new Hi(e,t,n,r)}async function Ki(e,t){const n=O(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=tr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function Gi(e){const t=O(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Qi(e,t){const n=O(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ie),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}class Ji{constructor(){this.activeTargetIds=rr()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yi{constructor(){this.Mo=new Ji,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ji,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $i{Oo(e){}shutdown(){}}const Xi="ConnectivityMonitor";class Zi{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){C(Xi,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){C(Xi,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let es=null;function ts(){return null===es?es=268435456+Math.round(2147483648*Math.random()):es++,"0x"+es.toString(16)}const ns="RestConnection",rs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class is{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===It?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const s=ts(),o=this.zo(e,t.toUriEncodedString());C(ns,"Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:c}=new URL(o),u=(0,l.zJ)(c);return this.Jo(e,o,a,n,u).then(t=>(C(ns,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw A(ns,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=rs[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class ss{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const os="WebChannelConnection";class as extends is{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=ts();return new Promise((i,o)=>{const a=new d;a.setWithCredentials(!0),a.listenOnce(f.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case p.NO_ERROR:const n=a.getResponseJson();C(os,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),i(n);break;case p.TIMEOUT:C(os,"RPC '".concat(e,"' ").concat(s," timed out")),o(new L(D.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const r=a.getStatus();if(C(os,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(t)>=0?t:D.UNKNOWN}(n.status);o(new L(e,n.message))}else o(new L(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(D.UNAVAILABLE,"Connection failed."));break;default:I(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{C(os,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);C(os,"RPC '".concat(e,"' ").concat(s," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=ts(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y(),o=v(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");C(os,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);this.I_(u);let d=!1,f=!1;const p=new ss({Yo:t=>{f?C(os,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(C(os,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),C(os,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(u,h.EventType.OPEN,()=>{f||(C(os,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),b(u,h.EventType.CLOSE,()=>{f||(f=!0,C(os,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),b(u,h.EventType.ERROR,t=>{f||(f=!0,A(os,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new L(D.UNAVAILABLE,"The operation could not be completed")))}),b(u,h.EventType.MESSAGE,t=>{if(!f){var n;const i=t.data[0];R(!!i,16349);const s=i,o=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){C(os,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Ur[e];if(void 0!==t)return Vr(t)}(t),i=o.message;void 0===n&&(n=D.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,p.a_(new L(n,i)),u.close()}else C(os,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.u_(i)}}),b(o,g.STAT_EVENT,t=>{t.stat===m.PROXY?C(os,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===m.NOPROXY&&C(os,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ls(){return"undefined"!=typeof document?document:null}function cs(e){return new qr(e,!0)}class us{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&C("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ds="PersistentStream";class hs{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new us(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===D.RESOURCE_EXHAUSTED?(T(t.toString()),T("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===D.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new L(D.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return C(ds,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(C(ds,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fs extends hs{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return R(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,R(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){R(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(R(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Gr(e.updateTime):Gr(t);return n.isEqual(ve.min())&&(n=Gr(t)),new wr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Gr(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Zr(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ni(this.serializer,e))};this.q_(t)}}class ps{}class ms extends ps{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.Go(e,Jr(t,n),r,s,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[o,a]=s;return this.connection.Ho(e,Jr(t,n),r,o,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(D.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class gs{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(T(t),this.aa=!1):C("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const vs="RemoteStore";class ys{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{xs(this)&&(C(vs,"Restarting streams for network reachability change."),await async function(e){const t=O(e);t.Ea.add(4),await ws(t),t.Ra.set("Unknown"),t.Ea.delete(4),await bs(t)}(this))})}),this.Ra=new gs(n,r)}}async function bs(e){if(xs(e))for(const t of e.da)await t(!0)}async function ws(e){for(const t of e.da)await t(!1)}function xs(e){return 0===O(e).Ea.size}async function Ss(e,t,n){if(!Ae(t))throw t;e.Ea.add(1),await ws(e),e.Ra.set("Offline"),n||(n=()=>Gi(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{C(vs,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await bs(e)})}function ks(e,t){return t().catch(n=>Ss(e,n,t))}async function _s(e){const t=O(e),n=Ds(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ie;for(;Es(t);)try{const e=await Qi(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ns(t,e)}catch(e){await Ss(t,e)}Cs(t)&&Ts(t)}function Es(e){return xs(e)&&e.Ta.length<10}function Ns(e,t){e.Ta.push(t);const n=Ds(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Cs(e){return xs(e)&&!Ds(e).x_()&&e.Ta.length>0}function Ts(e){Ds(e).start()}async function As(e){Ds(e).ra()}async function js(e){const t=Ds(e);for(const n of e.Ta)t.ea(n.mutations)}async function Is(e,t,n){const r=e.Ta.shift(),i=Mr.from(r,t,n);await ks(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await _s(e)}async function Ps(e,t){t&&Ds(e).X_&&await async function(e,t){if(function(e){return Br(e)&&e!==D.ABORTED}(t.code)){const n=e.Ta.shift();Ds(e).B_(),await ks(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await _s(e)}}(e,t),Cs(e)&&Ts(e)}async function Rs(e,t){const n=O(e);n.asyncQueue.verifyOperationInProgress(),C(vs,"RemoteStore received new credentials");const r=xs(n);n.Ea.add(3),await ws(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await bs(n)}async function Os(e,t){const n=O(e);t?(n.Ea.delete(2),await bs(n)):t||(n.Ea.add(2),await ws(n),n.Ra.set("Unknown"))}function Ds(e){return e.fa||(e.fa=function(e,t,n){const r=O(e);return r.sa(),new fs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:As.bind(null,e),r_:Ps.bind(null,e),ta:js.bind(null,e),na:Is.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await _s(e)):(await e.fa.stop(),e.Ta.length>0&&(C(vs,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Ls{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new M,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Ls(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ms(e,t){if(T("AsyncQueue","".concat(t,": ").concat(e)),Ae(e))return new L(D.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Fs{constructor(){this.queries=Us(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=O(e),r=n.queries;n.queries=Us(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new L(D.ABORTED,"Firestore shutting down"))}}function Us(){return new Hn(e=>Un(e),Fn)}function zs(e){e.Ca.forEach(e=>{e.next()})}var Bs,Vs;(Vs=Bs||(Bs={})).Ma="default",Vs.Cache="cache";const qs="SyncEngine";class Hs{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Hn(e=>Un(e),Fn),this.Iu=new Map,this.Eu=new Set,this.du=new dt(se.comparator),this.Au=new Map,this.Ru=new ji,this.Vu={},this.mu=new Map,this.fu=gi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}function Ws(e,t,n){const r=O(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=O(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&zs(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ks(e,t){const n=O(e),r=t.batch.batchId;try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ce.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);R(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=tr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Js(n,r,null),Qs(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ys(n,e)}catch(e){await Ne(e)}}async function Gs(e,t,n){const r=O(e);try{const e=await function(e,t){const n=O(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(R(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Js(r,t,n),Qs(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ys(r,e)}catch(n){await Ne(n)}}function Qs(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Js(e,t,n){const r=O(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}async function Ys(e,t,n){const r=O(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=zi.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=O(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ce.forEach(t,t=>Ce.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ce.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ae(e))throw e;C(qi,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function $s(e,t){const n=O(e);if(!n.currentUser.isEqual(t)){C(qs,"User change. New user:",t.toKey());const e=await Ki(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new L(D.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ys(n,e.Ls)}}function Xs(e){const t=O(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ks.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gs.bind(null,t),t}class Zs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cs(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Wi(this.persistence,new Vi,e.initialUser,this.serializer)}Cu(e){return new Li(Fi.mi,this.serializer)}Du(e){return new Yi}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zs.provider={build:()=>new Zs};class eo extends Zs{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){R(this.persistence.referenceDelegate instanceof Ui,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new xi(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new Li(e=>Ui.mi(e,t),this.serializer)}}class to{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ws(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=$s.bind(null,this.syncEngine),await Os(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Fs}createDatastore(e){const t=cs(e.databaseInfo.databaseId),n=function(e){return new as(e)}(e.databaseInfo);return function(e,t,n,r){return new ms(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ys(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Ws(this.syncEngine,e,0),Zi.v()?new Zi:new $i)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Hs(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=O(e);C(vs,"RemoteStore shutting down."),t.Ea.add(5),await ws(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}to.provider={build:()=>new to};const no="FirestoreClient";class ro{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{C(no,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(C(no,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new M;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ms(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function io(e,t){e.asyncQueue.verifyOperationInProgress(),C(no,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ki(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function so(e,t){e.asyncQueue.verifyOperationInProgress();const n=await oo(e);C(no,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Rs(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Rs(t.remoteStore,n)),e._onlineComponents=t}async function oo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){C(no,"Using user provided OfflineComponentProvider");try{await io(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;A("Error using user provided cache. Falling back to memory cache: "+n),await io(e,new Zs)}}else C(no,"Using default OfflineComponentProvider"),await io(e,new eo(void 0));return e._offlineComponents}async function ao(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(C(no,"Using user provided OnlineComponentProvider"),await so(e,e._uninitializedComponentsProvider._online)):(C(no,"Using default OnlineComponentProvider"),await so(e,new to))),e._onlineComponents}function lo(e){return ao(e).then(e=>e.syncEngine)}function co(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const uo=new Map,ho="firestore.googleapis.com",fo=!0;class po{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new L(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ho,this.ssl=fo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:fo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=pi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<yi)throw new L(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(D.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=co(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new L(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new L(D.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new po({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new po(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new U;switch(e.type){case"firstParty":return new q(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uo.get(e);t&&(C("ComponentProvider","Removing Datastore"),uo.delete(e),t.terminate())}(this),Promise.resolve()}}class go{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class vo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vo(this.firestore,e,this._key)}toJSON(){return{type:vo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(fe(t,vo._jsonSchema))return new vo(e,n||null,new se(ne.fromString(t.referencePath)))}}vo._jsonSchemaVersion="firestore/documentReference/1.0",vo._jsonSchema={type:he("string",vo._jsonSchemaVersion),referencePath:he("string")};class yo extends go{constructor(e,t,n){super(e,t,In(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vo(this.firestore,null,new se(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function bo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),oe("collection","path",t),e instanceof mo){const n=ne.fromString(t,...r);return le(n),new yo(e,null,n)}{if(!(e instanceof vo||e instanceof yo))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return le(n),new yo(e.firestore,null,n)}}function wo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=G.newId()),oe("doc","path",t),e instanceof mo){const n=ne.fromString(t,...r);return ae(n),new vo(e,null,new se(n))}{if(!(e instanceof vo||e instanceof yo))throw new L(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return ae(n),new vo(e.firestore,e instanceof yo?e.converter:null,new se(n))}}const xo="AsyncQueue";class So{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new us(this,"async_queue_retry"),this._c=()=>{const e=ls();e&&C(xo,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=ls();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ls();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new M;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ae(e))throw e;C(xo,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,T("INTERNAL UNHANDLED ERROR: ",ko(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ls.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&I(47125,{Pc:ko(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ko(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class _o extends mo{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new So,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new So(e),this._firestoreClient=void 0,await e}}}function Eo(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||It,o=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=de(e,mo);const s=(0,l.zJ)(t),o=e._getSettings(),a=(0,i.A)((0,i.A)({},o),{},{emulatorOptions:e._getEmulatorOptions()}),c="".concat(t,":").concat(n);s&&((0,l.gE)("https://".concat(c)),(0,l.P1)("Firestore",!0)),o.host!==ho&&o.host!==c&&A("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,i.A)((0,i.A)({},o),{},{host:c,ssl:s,emulatorOptions:r});if(!(0,l.bD)(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{var d;t=(0,l.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new L(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(i)}e._authCredentials=new z(new F(t,n))}}(o,...e)}return o}function No(e){if(e._terminated)throw new L(D.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Co(e),e._firestoreClient}function Co(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new jt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,co(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ro(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(yt.fromBase64String(e))}catch(e){throw new L(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new To(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:To._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fe(e,To._jsonSchema))return To.fromBase64String(e.bytes)}}To._jsonSchemaVersion="firestore/bytes/1.0",To._jsonSchema={type:he("string",To._jsonSchemaVersion),bytes:he("string")};class Ao{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new L(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jo{constructor(e){this._methodName=e}}class Io{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Io._jsonSchemaVersion}}static fromJSON(e){if(fe(e,Io._jsonSchema))return new Io(e.latitude,e.longitude)}}Io._jsonSchemaVersion="firestore/geoPoint/1.0",Io._jsonSchema={type:he("string",Io._jsonSchemaVersion),latitude:he("number"),longitude:he("number")};class Po{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Po._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fe(e,Po._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Po(e.vectorValues);throw new L(D.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Po._jsonSchemaVersion="firestore/vectorValue/1.0",Po._jsonSchema={type:he("string",Po._jsonSchemaVersion),vectorValues:he("object")};const Ro=/^__.*__$/;class Oo{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new jr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ar(e,this.data,t,this.fieldTransforms)}}class Do{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new jr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lo(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw I(40011,{Ac:e})}}class Mo{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mo((0,i.A)((0,i.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zo(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Lo(this.Ac)&&Ro.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Fo{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||cs(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Mo({Ac:e,methodName:t,Dc:n,path:ie.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uo(e){const t=e._freezeSettings(),n=cs(e._databaseId);return new Fo(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zo(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Jo("Data must be an object, but it was:",o,r);const a=Go(r,o);let l,c;if(s.merge)l=new gt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Yo(t,r,n);if(!o.contains(i))throw new L(D.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ea(e,i)||e.push(i)}l=new gt(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Oo(new Zt(a),l,c)}class Bo extends jo{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bo}}class Vo extends jo{_toFieldTransform(e){return new br(e.path,new dr)}isEqual(e){return e instanceof Vo}}class qo extends jo{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new gr(e.serializer,or(e.serializer,this.Fc));return new br(e.path,t)}isEqual(e){return e instanceof qo&&this.Fc===e.Fc}}function Ho(e,t,n,r){const i=e.Cc(1,t,n);Jo("Data must be an object, but it was:",i,r);const s=[],o=Zt.empty();ct(r,(e,r)=>{const a=Xo(t,e,n);r=(0,l.Ku)(r);const c=i.yc(a);if(r instanceof Bo)s.push(a);else{const e=Ko(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new gt(s);return new Do(o,a,i.fieldTransforms)}function Wo(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[Yo(t,r,n)],c=[i];if(s.length%2!=0)throw new L(D.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let l=0;l<s.length;l+=2)a.push(Yo(t,s[l])),c.push(s[l+1]);const u=[],d=Zt.empty();for(let f=a.length-1;f>=0;--f)if(!ea(u,a[f])){const e=a[f];let t=c[f];t=(0,l.Ku)(t);const n=o.yc(e);if(t instanceof Bo)u.push(e);else{const r=Ko(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new gt(u);return new Do(d,h,o.fieldTransforms)}function Ko(e,t){if(Qo(e=(0,l.Ku)(e)))return Jo("Unsupported field value:",t,e),Go(e,t);if(e instanceof jo)return function(e,t){if(!Lo(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ko(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return or(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ge.fromDate(e);return{timestampValue:Hr(t.serializer,n)}}if(e instanceof ge){const n=new ge(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hr(t.serializer,n)}}if(e instanceof Io)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof To)return{bytesValue:Wr(t.serializer,e._byteString)};if(e instanceof vo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Qr(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Po)return function(e,t){return{mapValue:{fields:{[Rt]:{stringValue:Lt},[Mt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return ir(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ue(e)))}(e,t)}function Go(e,t){const n={};return ut(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ct(e,(e,r)=>{const i=Ko(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Qo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ge||e instanceof Io||e instanceof To||e instanceof vo||e instanceof jo||e instanceof Po)}function Jo(e,t,n){if(!Qo(n)||!ce(n)){const r=ue(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Yo(e,t,n){if((t=(0,l.Ku)(t))instanceof Ao)return t._internalPath;if("string"==typeof t)return Xo(e,t);throw Zo("Field path arguments must be of type string or ",e,!1,void 0,n)}const $o=new RegExp("[~\\*/\\[\\]]");function Xo(e,t,n){if(t.search($o)>=0)throw Zo("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ao(...t.split("."))._internalPath}catch(r){throw Zo("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Zo(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new L(D.INVALID_ARGUMENT,a+e+l)}function ea(e,t){return e.some(e=>e.isEqual(t))}class ta{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new na(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ra("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class na extends ta{data(){return super.data()}}function ra(e,t){return"string"==typeof t?Xo(e,t):t instanceof Ao?t._internalPath:t._delegate._internalPath}function ia(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class sa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends ta{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ra("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:he("string",oa._jsonSchemaVersion),bundleSource:he("string","DocumentSnapshot"),bundleName:he("string"),bundle:he("string")};class aa extends oa{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class la{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sa(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new aa(this._firestore,this._userDataWriter,n.key,n,new sa(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new aa(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sa(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new aa(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sa(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ca(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(D.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=la._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ca(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return I(61501,{type:e})}}la._jsonSchemaVersion="firestore/querySnapshot/1.0",la._jsonSchema={type:he("string",la._jsonSchemaVersion),bundleSource:he("string","QuerySnapshot"),bundleName:he("string"),bundle:he("string")};function ua(e,t,n){e=de(e,vo);const r=de(e.firestore,_o),i=Uo(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=(0,l.Ku)(t))||t instanceof Ao?Wo(i,"updateDoc",e._key,t,n,a):Ho(i,"updateDoc",e._key,t),ha(r,[s.toMutation(e._key,xr.exists(!0))])}function da(e,t){const n=de(e.firestore,_o),r=wo(e),i=ia(e.converter,t);return ha(n,[zo(Uo(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function ha(e,t){return function(e,t){const n=new M;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Xs(e);try{const e=await function(e,t){const n=O(e),r=ge.now(),i=t.reduce((e,t)=>e.add(t.key),tr());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Kn(),l=tr();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Cr(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new jr(e.key,t,en(t.value.mapValue),xr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Jn(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new dt(Q)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ys(r,e.changes),await _s(r.remoteStore)}catch(e){const t=Ms(e,"Failed to persist write");n.reject(t)}}(await lo(e),t,n)),n.promise}(No(e),t)}function fa(){return new Vo("serverTimestamp")}function pa(e){return new qo("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_=e}(s.MF),(0,s.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const o=e.getProvider("app").getImmediate(),a=new _o(new B(e.getProvider("auth-internal")),new W(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pt(e.options.projectId,t)}(o,r),o);return s=(0,i.A)({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(x,S,e),(0,s.KO)(x,S,"esm2020")}()},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},776:(e,t,n)=>{n.d(t,{cY:()=>m,FA:()=>D,g:()=>O,dM:()=>R,u:()=>l,Uj:()=>a,Fy:()=>y,tD:()=>q,bD:()=>F,hp:()=>V,T9:()=>f,Tj:()=>d,yU:()=>h,XA:()=>p,mS:()=>c,Ku:()=>K,ZQ:()=>S,sr:()=>N,zJ:()=>g,c1:()=>E,Im:()=>M,lT:()=>T,zW:()=>I,jZ:()=>k,lV:()=>C,nr:()=>A,Ov:()=>j,gE:()=>v,Am:()=>z,I9:()=>B,P1:()=>x,eX:()=>P});var r=n(555);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyB-whEHfL1hCxfDTrgOUHiMv636vZX3rBs",REACT_APP_FIREBASE_API_KEY:"AIzaSyDzLcPwg1QoOLGQaZW2Ya_b0tGUINazJ8Y",REACT_APP_FIREBASE_AUTH_DOMAIN:"salon-finder-874b7.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"salon-finder-874b7",REACT_APP_FIREBASE_STORAGE_BUCKET:"salon-finder-874b7.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"886085095671",REACT_APP_FIREBASE_APP_ID:"1:886085095671:web:a24cc4d979697ce5bac3f2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-T1B80V2VSF",REACT_APP_FIREBASE_VAPID_KEY:"BIMT1laHU9gKXWWO0kAx8Abj26OlPvsLD0f1PWlIGEQMLQp6V3riVV0xmtTAVepv4PqPHRAiSEWlqohM7ExrNAE",REACT_APP_RAZORPAY_KEY_ID:"rzp_test_1DP5mmOlF5G5ag",REACT_APP_RAZORPAY_KEY_SECRET:"your_razorpay_key_secret_here",REACT_APP_API_URL:"http://localhost:3001",REACT_APP_WEBSOCKET_URL:"ws://localhost:3001"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},f=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function v(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}const b={};let w=!1;function x(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||b[e]===t||b[e]||w)return;function n(e){return"__firebase__banner__".concat(e)}b[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(b))b[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{w=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function k(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function _(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function E(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function N(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function T(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return!_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return!_()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function R(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(L,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new O(n,s,t)}}const L=/\{\$([^}]+)}/g;function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(U(n)&&U(s)){if(!F(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U(e){return null!==e&&"object"===typeof e}function z(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function B(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function V(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){const n=new H(e,t);return n.subscribe.bind(n)}class H{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W(){}function K(e){return e&&e._delegate?e._delegate:e}},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,_||(_=!0,k());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var k,_=!1,E=-1,N=5,C=-1;function T(){return!!v||!(t.unstable_now()-C<N)}function A(){if(v=!1,_){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var s=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?k():_=!1}}}if("function"===typeof w)k=function(){w(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,I=j.port2;j.port1.onmessage=A,k=function(){I.postMessage(null)}}else k=function(){y(A,0)};function P(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,P(S,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,_||(_=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},965:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},986:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".e9e56c57.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="real-salon-finder:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkreal_salon_finder=self.webpackChunkreal_salon_finder||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{Decoder:()=>Un,Encoder:()=>Mn,PacketType:()=>Ln,protocol:()=>Dn});var i=n(43),s=n(391),o=n(555),a=n(986);const l=["sri"],c=["page"],u=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function m(){return S(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return b("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,o.A)((0,o.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",c=null,u=d();function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function f(e){return k(e)}null==u&&(u=0,a.replaceState((0,o.A)((0,o.A)({},a.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(i,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(p,h),c=e,()=>{i.removeEventListener(p,h),c=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=b(m.location,e,t);n&&n(r,e),u=d()+1;let o=y(r,u),h=m.createHref(r);try{a.pushState(o,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=b(m.location,e,t);n&&n(r,e),u=d();let i=y(r,u),o=m.createHref(r);a.replaceState(i,"",o),s&&c&&c({action:l,location:m.location,delta:0})},go:e=>a.go(e)};return m}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),g(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function _(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let i=z(("string"===typeof t?x(t):t).pathname||"/",n);if(null==i)return null;let s=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=U(i);o=L(s[a],e,r)}return o}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&o)return;g(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=W([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),N(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:D(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of C(e.path))s(e,t,!0,r);else s(e,t)}),t}function C(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=C(r.join("/")),a=[];return a.push(...o.map(e=>""===e?s:[s,e].join("/"))),i&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,A=3,j=2,I=1,P=10,R=-2,O=e=>"*"===e;function D(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=R),t&&(r+=j),n.filter(e=>!O(e)).reduce((e,t)=>e+(T.test(t)?A:""===t?I:P),r)}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:W([s,u.pathname]),pathnameBase:K(W([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=W([s,u.pathnameBase]))}return o}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=V(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function H(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=x(e):(r=(0,o.A)({},e),g(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),g(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),g(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?x(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:G(r),hash:Q(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var W=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Y=["POST","PUT","PATCH","DELETE"],$=(new Set(Y),["GET",...Y]);new Set($),Symbol("ResetLoaderData");var X=i.createContext(null);X.displayName="DataRouter";var Z=i.createContext(null);Z.displayName="DataRouterState";var ee=i.createContext(!1);var te=i.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=i.createContext(new Map);ne.displayName="Fetchers";var re=i.createContext(null);re.displayName="Await";var ie=i.createContext(null);ie.displayName="Navigation";var se=i.createContext(null);se.displayName="Location";var oe=i.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var ae=i.createContext(null);ae.displayName="RouteError";function le(){return null!=i.useContext(se)}function ce(){return g(le(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(se).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){i.useContext(ie).static||i.useLayoutEffect(e)}function he(){let{isDataRoute:e}=i.useContext(oe);return e?function(){let{router:e}=xe("useNavigate"),t=ke("useNavigate"),n=i.useRef(!1);de(()=>{n.current=!0});let r=i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(n.current,ue),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,o.A)({fromRouteId:t},i)))},[e,t]);return r}():function(){g(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(X),{basename:t,navigator:n}=i.useContext(ie),{matches:r}=i.useContext(oe),{pathname:s}=ce(),o=JSON.stringify(q(r)),a=i.useRef(!1);de(()=>{a.current=!0});let l=i.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(a.current,ue),!a.current)return;if("number"===typeof r)return void n.go(r);let l=H(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:W([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,o,s,e]);return l}()}i.createContext(null);function fe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(oe),{pathname:r}=ce(),s=JSON.stringify(q(n));return i.useMemo(()=>H(e,JSON.parse(s),r,"path"===t),[e,s,r,t])}function pe(e,t,n,r,s){g(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=i.useContext(ie),{matches:l}=i.useContext(oe),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Ne(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=ce();if(t){var y;let e="string"===typeof t?x(t):t;g("/"===h||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let b=p.pathname||"/",w=b;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=_(e,{pathname:w});v(f||null!=S,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=be(S&&S.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:W([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:W([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r,s);return t&&k?i.createElement(se.Provider,{value:{location:(0,o.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},k):k}function me(){let e=_e(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,a)}var ge=i.createElement(me,null),ve=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?i.createElement(oe.Provider,{value:this.props.routeContext},i.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(X);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(oe.Provider,{value:t},r)}function be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=s.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));g(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let a=!1,l=-1;if(n)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;n&&(d=o&&c.route.id?o[c.route.id]:void 0,f=c.route.errorElement||ge,a&&(l<0&&0===u?(Ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:c.route.Component?i.createElement(c.route.Component,null):c.route.element?c.route.element:e,i.createElement(ye,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?i.createElement(ve,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):g()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xe(e){let t=i.useContext(X);return g(t,we(e)),t}function Se(e){let t=i.useContext(Z);return g(t,we(e)),t}function ke(e){let t=function(e){let t=i.useContext(oe);return g(t,we(e)),t}(e),n=t.matches[t.matches.length-1];return g(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function _e(){var e;let t=i.useContext(ae),n=Se("useRouteError"),r=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ee={};function Ne(e,t,n){t||Ee[e]||(Ee[e]=!0,v(!1,n))}var Ce={};function Te(e,t){e||Ce[t]||(Ce[t]=!0,console.warn(t))}i.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return pe(t,void 0,r,i,n)});function Ae(e){g(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:o,static:a=!1}=e;g(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:o,static:a,future:{}}),[l,o,a]);"string"===typeof r&&(r=x(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=i.useMemo(()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return v(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:i.createElement(ie.Provider,{value:c},i.createElement(se.Provider,{children:n,value:m}))}function Ie(e){let{children:t,location:n}=e;return pe(Pe(t),n)}i.Component;function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Pe(e.props.children,s));g(e.type===Ae,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),g(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Pe(e.props.children,s)),n.push(o)}),n}var Re="get",Oe="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Me.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Oe,'"')),null)}function Ue(e,t){let n,r,i,s,o;if(De(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?z(o,t):null,n=e.getAttribute("method")||Re,i=Fe(e.getAttribute("enctype"))||Oe,s=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?z(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Re,i=Fe(e.getAttribute("formenctype"))||Fe(o.getAttribute("enctype"))||Oe,s=new FormData(o,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Re,r=null,i=Oe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function ze(e){return{__html:e}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===z(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function He(e){return null!=e&&"string"===typeof e.page}function We(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ke(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>o(e,t)||a(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ge(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function Qe(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!He(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e},[])}function Je(e,t){return"lazy"===e.mode&&!0===t}function Ye(){let e=i.useContext(X);return Be(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $e(){let e=i.useContext(Z);return Be(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xe=i.createContext(void 0);function Ze(){let e=i.useContext(Xe);return Be(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tt(e,t,n){if(n&&!st)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Xe.displayName="FrameworkContext";function nt(e){let{page:t}=e,n=(0,a.A)(e,c),{router:r}=Ye(),s=i.useMemo(()=>_(r.routes,t,r.basename),[r.routes,t,r.basename]);return s?i.createElement(it,(0,o.A)({page:t,matches:s},n)):null}function rt(e){let{manifest:t,routeModules:n}=Ze(),[r,s]=i.useState([]);return i.useEffect(()=>{let r=!1;return async function(e,t,n){return Qe((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(We).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,o.A)((0,o.A)({},e),{},{rel:"prefetch",as:"style"}):(0,o.A)((0,o.A)({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),r}function it(e){let{page:t,matches:n}=e,r=(0,a.A)(e,u),s=ce(),{manifest:l,routeModules:c}=Ze(),{basename:d}=Ye(),{loaderData:h,matches:f}=$e(),p=i.useMemo(()=>Ke(t,n,f,l,s,"data"),[t,n,f,l,s]),m=i.useMemo(()=>Ke(t,n,f,l,s,"assets"),[t,n,f,l,s]),g=i.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=l.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=c[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ve(t,d,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[d,h,s,l,p,n,t,c]),v=i.useMemo(()=>Ge(m,l),[m,l]),y=rt(m);return i.createElement(i.Fragment,null,g.map(e=>i.createElement("link",(0,o.A)({key:e,rel:"prefetch",as:"fetch",href:e},r))),v.map(e=>i.createElement("link",(0,o.A)({key:e,rel:"modulepreload",href:e},r))),y.map(e=>{let{key:t,link:n}=e;return i.createElement("link",(0,o.A)({key:t,nonce:r.nonce},n))}))}var st=!1;function ot(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:s,routeDiscovery:c,ssr:u}=Ze(),{router:d,static:h,staticContext:f}=Ye(),{matches:p}=$e(),m=i.useContext(ee),g=Je(c,u);s&&(s.didRenderScripts=!0);let v=tt(p,null,r);i.useEffect(()=>{st=!0},[]);let y=i.useMemo(()=>{var r;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Be(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...o?[{module:o,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=(0,a.A)(e,l),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(s.pop();s.length>0;)c.push("/".concat(s.join("/"))),s.pop();c.forEach(e=>{let n=_(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let u=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,o.A)((0,o.A)({},r),{},{routes:u,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:ze(s),type:void 0})),i.createElement("script",(0,o.A)((0,o.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:ze(c),type:"module",async:!0})))},[]),b=st||m?[]:(w=t.entry.imports.concat(Ge(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Te(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),st||m?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function lt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return i.createElement(ct,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(ct,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function ct(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:s,children:o}=e,{routeModules:a}=Ze();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!s?o:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?i.createElement(ot,null):null)))}var ut="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ut&&(window.__reactRouterVersion="7.8.2")}catch(br){}function dt(e){let{basename:t,children:n,window:r}=e,s=i.useRef();null==s.current&&(s.current=m({window:r,v5Compat:!0}));let o=s.current,[a,l]=i.useState({action:o.action,location:o.location}),c=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>o.listen(c),[o,c]),i.createElement(je,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}var ht=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=i.forwardRef(function(e,t){let n,{onClick:r,discover:s="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:y,viewTransition:b}=e,x=(0,a.A)(e,d),{basename:S}=i.useContext(ie),k="string"===typeof m&&ht.test(m),_=!1;if("string"===typeof m&&k&&(n=m,ut))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=z(t.pathname,S);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:_=!0}catch(br){v(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(ie),{hash:s,pathname:o,search:a}=fe(e,{relative:t}),l=o;return"/"!==n&&(l="/"===o?n:W([n,o])),r.createHref({pathname:l,search:a,hash:s})}(m,{relative:c}),[N,C,T]=function(e,t){let n=i.useContext(Xe),[r,s]=i.useState(!1),[o,a]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=i.useRef(null);i.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return n?"intent"!==e?[o,f,{}]:[o,f,{onFocus:et(l,p),onBlur:et(c,m),onMouseEnter:et(u,p),onMouseLeave:et(d,m),onTouchStart:et(h,p)}]:[!1,f,{}]}(l,x),A=function(e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=fe(e,{relative:o});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:w(c)===w(u);l(e,{replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,n,r,t,e,s,o,a])}(m,{replace:h,state:f,target:p,preventScrollReset:y,relative:c,viewTransition:b});let j=i.createElement("a",(0,o.A)((0,o.A)((0,o.A)({},x),T),{},{href:n||E,onClick:_||u?r:function(e){r&&r(e),e.defaultPrevented||A(e)},ref:at(t,C),target:p,"data-discover":k||"render"!==s?void 0:"true"}));return N&&!k?i.createElement(i.Fragment,null,j,i.createElement(nt,{page:E})):j});ft.displayName="Link",i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:l=!1,style:c,to:u,viewTransition:d,children:f}=e,p=(0,a.A)(e,h),m=fe(u,{relative:p.relative}),v=ce(),y=i.useContext(Z),{navigator:b,basename:w}=i.useContext(ie),x=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(te);g(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gt("useViewTransitionState"),s=fe(e,{relative:t});if(!n.isTransitioning)return!1;let o=z(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=z(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=M(s.pathname,a)||null!=M(s.pathname,o)}(m)&&!0===d,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=v.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(k=k.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&w&&(_=z(_,w)||_);const E="/"!==S&&S.endsWith("/")?S.length-1:S.length;let N,C=k===S||!l&&k.startsWith(S)&&"/"===k.charAt(E),T=null!=_&&(_===S||!l&&_.startsWith(S)&&"/"===_.charAt(S.length)),A={isActive:C,isPending:T,isTransitioning:x},j=C?n:void 0;N="function"===typeof s?s(A):[s,C?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof c?c(A):c;return i.createElement(ft,(0,o.A)((0,o.A)({},p),{},{"aria-current":j,className:N,ref:t,style:I,to:u,viewTransition:d}),"function"===typeof f?f(A):f)}).displayName="NavLink";var pt=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:s,reloadDocument:l,replace:c,state:u,method:d=Re,action:h,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:y}=e,b=(0,a.A)(e,f),x=bt(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(ie),r=i.useContext(oe);g(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a=(0,o.A)({},fe(e||".",{relative:t})),l=ce();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:W([n,a.pathname]));return w(a)}(h,{relative:m}),k="get"===d.toLowerCase()?"get":"post",_="string"===typeof h&&ht.test(h);return i.createElement("form",(0,o.A)((0,o.A)({ref:t,method:k,action:S,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:c,state:u,relative:m,preventScrollReset:v,viewTransition:y})}},b),{},{"data-discover":_||"render"!==n?void 0:"true"}))});function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let t=i.useContext(X);return g(t,mt(e)),t}pt.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function bt(){let{router:e}=gt("useSubmit"),{basename:t}=i.useContext(ie),n=ke("useRouteId");return i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Ue(r,t);if(!1===i.navigate){let t=i.fetcherKey||yt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var wt=n(339),xt=n(579);const St=e=>{let{onLocationDetection:t,onLocationSearch:n,loading:r,loadingStatus:s,error:o}=e;const[a,l]=(0,i.useState)("");return(0,xt.jsx)("div",{className:"location-setup",children:(0,xt.jsxs)("div",{className:"location-setup-content",children:[(0,xt.jsxs)("div",{className:"location-setup-header",children:[(0,xt.jsx)("h1",{children:"Babuu \u2014 Groom kar de aapko?"}),(0,xt.jsx)("p",{children:"Just tell us your location"})]}),o&&(0,xt.jsxs)("div",{className:"error-message",children:[(0,xt.jsx)("span",{children:"\u26a0\ufe0f"}),(0,xt.jsx)("p",{children:o})]}),(0,xt.jsxs)("div",{className:"location-options",children:[(0,xt.jsxs)("div",{className:"location-option",onClick:r?void 0:t,children:[(0,xt.jsx)("h3",{children:"\ud83d\udccd Use Current Location"}),(0,xt.jsx)("p",{children:"Get accurate results instantly"}),r&&(0,xt.jsxs)("div",{className:"loading-indicator",children:[(0,xt.jsx)("div",{className:"spinner small"}),(0,xt.jsx)("span",{children:s||"Getting location..."})]})]}),(0,xt.jsxs)("div",{className:"location-option",children:[(0,xt.jsx)("h3",{children:"\ud83d\udd0d Enter Location"}),(0,xt.jsx)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&n(a.trim())},children:(0,xt.jsx)("input",{type:"text",placeholder:"City, area, or address",value:a,onChange:e=>l(e.target.value),disabled:r,className:"address-input"})})]})]}),(0,xt.jsxs)("div",{className:"popular-cities",children:[(0,xt.jsx)("h4",{children:"Popular Cities"}),(0,xt.jsx)("div",{className:"city-buttons",children:["New Delhi, India","Mumbai, India","Bangalore, India","Chennai, India","Kolkata, India","Hyderabad, India","Pune, India","Ahmedabad, India"].map(e=>(0,xt.jsx)("button",{onClick:()=>n(e),disabled:r,className:"city-btn",children:e.split(",")[0]},e))})]})]})})};new class{constructor(){this.baseURL="http://localhost:3001",this.keyId="rzp_test_1DP5mmOlF5G5ag"}async createOrder(e){try{if("rzp_test_1DP5mmOlF5G5ag"===this.keyId)return{id:"order_".concat(Date.now()),entity:"order",amount:e.amount,amount_paid:0,amount_due:e.amount,currency:e.currency,receipt:e.receipt,status:"created",attempts:0,notes:e.notes,created_at:Math.floor(Date.now()/1e3)};const t=await fetch("".concat(this.baseURL,"/api/create-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create order");return await t.json()}catch(t){throw console.error("Create order error:",t),t}}async verifyPayment(e){try{if("rzp_test_1DP5mmOlF5G5ag"===this.keyId)return{success:!0,message:"Payment verified successfully (Demo Mode)",paymentId:e.razorpay_payment_id,orderId:e.razorpay_order_id};const t=await fetch("".concat(this.baseURL,"/api/verify-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to verify payment");return await t.json()}catch(t){throw console.error("Verify payment error:",t),t}}initializePayment(e){return new Promise((t,n)=>{if(!window.Razorpay)return void n(new Error("Razorpay SDK not loaded"));new window.Razorpay((0,o.A)((0,o.A)({},e),{},{handler:function(e){t(e)},modal:{ondismiss:function(){n(new Error("Payment cancelled by user"))}}})).open()})}getPaymentConfig(){return{keyId:this.keyId,currency:"INR",name:"Salon Finder",description:"Salon Registration Fee",image:"/logo192.png",theme:{color:"#007aff"}}}};const kt=e=>{let{onLogin:t}=e;const[n,r]=(0,i.useState)({email:"",password:"",salonName:"",phone:"",address:"",otp:""}),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(1),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)({shopImages:[],documents:[]}),[y,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=()=>{window.Razorpay?(b(!0),console.log("Razorpay SDK loaded successfully")):(console.log("Razorpay SDK not loaded yet"),setTimeout(e,1e3))};e()},[]);const w=async e=>{if(e.preventDefault(),f(!0),!s||"google-maps"!==l||p)return s&&"google-maps"===l&&p&&"123456"!==n.otp?(f(!1),void alert("\u274c Invalid OTP! For demo, use: 123456")):void setTimeout(()=>{const e={id:"owner_123",name:n.salonName||"Beauty Palace",email:n.email,salonId:"salon_123",registrationType:l};t(e),f(!1)},1e3);setTimeout(()=>{m(!0),f(!1),alert("\ud83d\ude80 DEMO MODE: OTP sent to your email!\n\nFor testing, use OTP: 123456\n\n(In production, this will send a real OTP to your email)")},1e3)},x=(e,t)=>{v(n=>(0,o.A)((0,o.A)({},n),{},{[e]:[...n[e],...Array.from(t)]}))},S=(e,t)=>{v(n=>(0,o.A)((0,o.A)({},n),{},{[e]:n[e].filter((e,n)=>n!==t)}))},k=e=>{c(e),d(2)},_=async()=>{if(n.salonName&&n.email&&n.phone&&n.address&&n.password)if(g.shopImages.length<3)alert("Please upload at least 3 shop images before proceeding to payment.");else if(0!==g.documents.length){if(f(!0),!window.Razorpay)return console.error("Razorpay SDK not loaded"),f(!1),alert("\ud83d\ude80 DEMO MODE: Razorpay SDK not loaded\n\nIn production, this will open Razorpay checkout for \u20b9100 payment.\n\nProceeding with demo registration..."),void setTimeout(()=>{d(3)},1e3);try{const e={key:"rzp_test_1DP5mmOlF5G5ag",amount:1e4,currency:"INR",name:"Salon Finder",description:"Salon Registration Fee - \u20b9100",image:"/logo192.png",prefill:{name:n.salonName,email:n.email,contact:n.phone},notes:{address:n.address,salonName:n.salonName,registrationType:"direct"},theme:{color:"#007aff"},handler:function(e){console.log("Payment successful:",e),f(!1),d(3),localStorage.setItem("salonPayment",JSON.stringify({paymentId:e.razorpay_payment_id,orderId:e.razorpay_order_id,signature:e.razorpay_signature,salonData:n,timestamp:(new Date).toISOString()})),console.log("Payment details stored for backend verification")},modal:{ondismiss:function(){f(!1),console.log("Payment modal closed by user")}}},t=new window.Razorpay(e);t.on("payment.failed",function(e){f(!1),console.error("Payment failed:",e.error),alert("Payment failed: ".concat(e.error.description))}),t.open()}catch(e){console.error("Payment initialization error:",e),f(!1),alert("Failed to initialize payment. Please try again.")}}else alert("Please upload at least one business document before proceeding to payment.");else alert("Please fill all required fields before proceeding to payment.")},E=e=>{r((0,o.A)((0,o.A)({},n),{},{[e.target.name]:e.target.value}))};return(0,xt.jsx)("div",{className:"owner-login",children:(0,xt.jsxs)("div",{className:"login-container",children:[(0,xt.jsxs)("div",{className:"login-header",children:[(0,xt.jsx)("h1",{children:"\ud83d\udcbc Salon Owner Portal"}),(0,xt.jsx)("p",{children:s?"Register your salon with us":"Manage your salon queue"})]}),s?(0,xt.jsxs)("div",{className:"registration-container",children:[!l&&(0,xt.jsxs)("div",{className:"registration-options",children:[(0,xt.jsx)("h2",{children:"Choose Registration Type"}),(0,xt.jsx)("p",{children:"Select how you'd like to register your salon"}),(0,xt.jsxs)("div",{className:"option-cards",children:[(0,xt.jsxs)("div",{className:"option-card",onClick:()=>k("google-maps"),children:[(0,xt.jsx)("div",{className:"option-icon",children:"\ud83d\uddfa\ufe0f"}),(0,xt.jsx)("h3",{children:"Already on Google Maps"}),(0,xt.jsx)("p",{children:"Verify your existing Google Maps listing"}),(0,xt.jsxs)("ul",{children:[(0,xt.jsx)("li",{children:"\u2705 Quick verification process"}),(0,xt.jsx)("li",{children:"\u2705 Upload verification documents"}),(0,xt.jsx)("li",{children:"\u2705 OTP verification"}),(0,xt.jsx)("li",{children:"\u2705 Free registration"})]}),(0,xt.jsx)("button",{className:"option-btn primary",children:"Verify Existing Listing"})]}),(0,xt.jsxs)("div",{className:"option-card",onClick:()=>k("direct"),children:[(0,xt.jsx)("div",{className:"option-icon",children:"\ud83c\udfea"}),(0,xt.jsx)("h3",{children:"Register Directly Here"}),(0,xt.jsx)("p",{children:"Complete registration with our assistance"}),(0,xt.jsxs)("ul",{children:[(0,xt.jsx)("li",{children:"\ud83d\udcde Call from our agent"}),(0,xt.jsx)("li",{children:"\ud83d\udcf8 Upload shop images"}),(0,xt.jsx)("li",{children:"\ud83d\udcc4 Upload required documents"}),(0,xt.jsx)("li",{children:"\ud83d\udcb0 \u20b9100 registration fee"})]}),(0,xt.jsx)("button",{className:"option-btn secondary",children:"Register New Salon"})]})]})]}),"google-maps"===l&&(0,xt.jsxs)("form",{onSubmit:w,className:"registration-form",children:[(0,xt.jsxs)("div",{className:"form-header",children:[(0,xt.jsx)("h2",{children:"\ud83d\uddfa\ufe0f Verify Google Maps Listing"}),(0,xt.jsx)("p",{children:"Enter your salon details to verify your existing Google Maps listing"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Salon Name *"}),(0,xt.jsx)("input",{type:"text",name:"salonName",value:n.salonName,onChange:E,placeholder:"Enter your salon name as on Google Maps",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Email Address *"}),(0,xt.jsx)("input",{type:"email",name:"email",value:n.email,onChange:E,placeholder:"Enter your business email",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:E,placeholder:"Enter your business phone",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Business Address *"}),(0,xt.jsx)("textarea",{name:"address",value:n.address,onChange:E,placeholder:"Enter your complete business address",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Password *"}),(0,xt.jsx)("input",{type:"password",name:"password",value:n.password,onChange:E,placeholder:"Create a strong password",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Upload Verification Documents *"}),(0,xt.jsxs)("div",{className:"file-upload-area",children:[(0,xt.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>x("documents",e.target.files),className:"file-input"}),(0,xt.jsxs)("div",{className:"upload-text",children:[(0,xt.jsx)("p",{children:"\ud83d\udcc4 Upload business license, GST certificate, or other verification documents"}),(0,xt.jsx)("small",{children:"Supported: PDF, JPG, PNG (Max 5MB each)"})]})]}),g.documents.length>0&&(0,xt.jsx)("div",{className:"uploaded-files",children:g.documents.map((e,t)=>(0,xt.jsxs)("div",{className:"file-item",children:[(0,xt.jsx)("span",{children:e.name}),(0,xt.jsx)("button",{type:"button",onClick:()=>S("documents",t),children:"\xd7"})]},t))})]}),p&&(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Enter OTP *"}),(0,xt.jsx)("input",{type:"text",name:"otp",value:n.otp,onChange:E,placeholder:"Enter 6-digit OTP",maxLength:"6",required:!0}),(0,xt.jsxs)("div",{className:"otp-info",children:[(0,xt.jsxs)("small",{children:["OTP sent to ",n.email]}),(0,xt.jsx)("div",{className:"demo-otp",children:(0,xt.jsx)("strong",{children:"\ud83d\ude80 DEMO MODE: Use OTP: 123456"})})]})]}),(0,xt.jsx)("button",{type:"submit",disabled:h,className:"submit-btn",children:h?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)("div",{className:"spinner"}),p?"Verifying...":"Sending OTP..."]}):p?"Verify & Register":"Send OTP"})]}),"direct"===l&&(0,xt.jsxs)("div",{className:"direct-registration",children:[2===u&&(0,xt.jsxs)("form",{className:"registration-form",children:[(0,xt.jsxs)("div",{className:"form-header",children:[(0,xt.jsx)("h2",{children:"\ud83c\udfea Direct Registration"}),(0,xt.jsx)("p",{children:"Complete your salon registration with our assistance"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Salon Name *"}),(0,xt.jsx)("input",{type:"text",name:"salonName",value:n.salonName,onChange:E,placeholder:"Enter your salon name",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Email Address *"}),(0,xt.jsx)("input",{type:"email",name:"email",value:n.email,onChange:E,placeholder:"Enter your email",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:E,placeholder:"Enter your phone number",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Business Address *"}),(0,xt.jsx)("textarea",{name:"address",value:n.address,onChange:E,placeholder:"Enter your complete business address",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Password *"}),(0,xt.jsx)("input",{type:"password",name:"password",value:n.password,onChange:E,placeholder:"Create a strong password",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Upload Shop Images *"}),(0,xt.jsxs)("div",{className:"file-upload-area",children:[(0,xt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png",onChange:e=>x("shopImages",e.target.files),className:"file-input"}),(0,xt.jsxs)("div",{className:"upload-text",children:[(0,xt.jsx)("p",{children:"\ud83d\udcf8 Upload clear photos of your salon (interior, exterior, services)"}),(0,xt.jsx)("small",{children:"Minimum 3 images required (JPG, PNG - Max 5MB each)"})]})]}),g.shopImages.length>0&&(0,xt.jsx)("div",{className:"uploaded-files",children:g.shopImages.map((e,t)=>(0,xt.jsxs)("div",{className:"file-item",children:[(0,xt.jsx)("span",{children:e.name}),(0,xt.jsx)("button",{type:"button",onClick:()=>S("shopImages",t),children:"\xd7"})]},t))})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Upload Documents *"}),(0,xt.jsxs)("div",{className:"file-upload-area",children:[(0,xt.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>x("documents",e.target.files),className:"file-input"}),(0,xt.jsxs)("div",{className:"upload-text",children:[(0,xt.jsx)("p",{children:"\ud83d\udcc4 Upload business license, GST certificate, owner ID proof"}),(0,xt.jsx)("small",{children:"Supported: PDF, JPG, PNG (Max 5MB each)"})]})]}),g.documents.length>0&&(0,xt.jsx)("div",{className:"uploaded-files",children:g.documents.map((e,t)=>(0,xt.jsxs)("div",{className:"file-item",children:[(0,xt.jsx)("span",{children:e.name}),(0,xt.jsx)("button",{type:"button",onClick:()=>S("documents",t),children:"\xd7"})]},t))})]}),(0,xt.jsxs)("div",{className:"payment-section",children:[(0,xt.jsxs)("div",{className:"payment-info",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcb0 Registration Fee"}),(0,xt.jsxs)("p",{children:["One-time registration fee: ",(0,xt.jsx)("strong",{children:"\u20b9100"})]}),(0,xt.jsxs)("ul",{children:[(0,xt.jsx)("li",{children:"\u2705 Complete salon setup assistance"}),(0,xt.jsx)("li",{children:"\u2705 Call from our expert agent"}),(0,xt.jsx)("li",{children:"\u2705 Google Maps listing creation"}),(0,xt.jsx)("li",{children:"\u2705 24/7 customer support"})]})]}),(0,xt.jsx)("button",{type:"button",onClick:_,disabled:h||g.shopImages.length<3||0===g.documents.length,className:"payment-btn",children:h?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)("div",{className:"spinner"}),y?"Opening Razorpay...":"Loading Payment..."]}):(0,xt.jsxs)(xt.Fragment,{children:["\ud83d\udcb3 Pay \u20b9100 via Razorpay",!y&&(0,xt.jsx)("small",{style:{display:"block",fontSize:"12px",opacity:.8},children:"(Demo mode - Razorpay loading...)"})]})})]})]}),3===u&&(0,xt.jsxs)("div",{className:"success-message",children:[(0,xt.jsx)("div",{className:"success-icon",children:"\u2705"}),(0,xt.jsx)("h2",{children:"Registration Successful!"}),(0,xt.jsx)("p",{children:"Thank you for registering with us. Here's what happens next:"}),(0,xt.jsxs)("div",{className:"next-steps",children:[(0,xt.jsxs)("div",{className:"step",children:[(0,xt.jsx)("span",{className:"step-number",children:"1"}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{children:"Agent Call"}),(0,xt.jsx)("p",{children:"Our expert agent will call you within 24 hours to assist with setup"})]})]}),(0,xt.jsxs)("div",{className:"step",children:[(0,xt.jsx)("span",{className:"step-number",children:"2"}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{children:"Document Verification"}),(0,xt.jsx)("p",{children:"We'll verify your uploaded documents and images"})]})]}),(0,xt.jsxs)("div",{className:"step",children:[(0,xt.jsx)("span",{className:"step-number",children:"3"}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{children:"Google Maps Listing"}),(0,xt.jsx)("p",{children:"We'll create and optimize your Google Maps business listing"})]})]}),(0,xt.jsxs)("div",{className:"step",children:[(0,xt.jsx)("span",{className:"step-number",children:"4"}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{children:"Dashboard Access"}),(0,xt.jsx)("p",{children:"You'll receive login credentials to access your salon dashboard"})]})]})]}),(0,xt.jsx)("button",{onClick:()=>a(!1),className:"continue-btn",children:"Continue to Login"})]})]}),l&&(0,xt.jsx)("button",{onClick:()=>{c(""),d(1),m(!1)},className:"back-btn",children:"\u2190 Back to Options"})]}):(0,xt.jsxs)("form",{onSubmit:w,className:"login-form",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Email"}),(0,xt.jsx)("input",{type:"email",name:"email",value:n.email,onChange:E,placeholder:"Enter your email",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Password"}),(0,xt.jsx)("input",{type:"password",name:"password",value:n.password,onChange:E,placeholder:"Enter your password",required:!0})]}),(0,xt.jsx)("button",{type:"submit",disabled:h,className:"login-btn",children:h?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)("div",{className:"spinner small"}),"Logging in..."]}):"Login to Dashboard"})]}),(0,xt.jsx)("div",{className:"login-footer",children:(0,xt.jsxs)("p",{children:[s?"Already have an account?":"Don't have an account?",(0,xt.jsx)("button",{onClick:()=>{a(!s),c(""),d(1),m(!1)},className:"toggle-btn",children:s?"Login":"Register"})]})}),(0,xt.jsx)("div",{className:"back-to-customer",children:(0,xt.jsx)("a",{href:"/",children:"\u2190 Back to Customer App"})})]})})},_t=Object.create(null);_t.open="0",_t.close="1",_t.ping="2",_t.pong="3",_t.message="4",_t.upgrade="5",_t.noop="6";const Et=Object.create(null);Object.keys(_t).forEach(e=>{Et[_t[e]]=e});const Nt={type:"error",data:"parser error"},Ct="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Tt="function"===typeof ArrayBuffer,At=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,jt=(e,t,n)=>{let{type:r,data:i}=e;return Ct&&i instanceof Blob?t?n(i):It(i,n):Tt&&(i instanceof ArrayBuffer||At(i))?t?n(i):It(new Blob([i]),n):n(_t[r]+(i||""))},It=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Pt(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Rt;const Ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dt="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let xr=0;xr<64;xr++)Dt[Ot.charCodeAt(xr)]=xr;const Lt="function"===typeof ArrayBuffer,Mt=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Ut(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Ft(e.substring(1),t)};return Et[n]?e.length>1?{type:Et[n],data:e.substring(1)}:{type:Et[n]}:Nt},Ft=(e,t)=>{if(Lt){const n=(e=>{let t,n,r,i,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=Dt[e.charCodeAt(t)],r=Dt[e.charCodeAt(t+1)],i=Dt[e.charCodeAt(t+2)],s=Dt[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c})(e);return Ut(n,t)}return{base64:!0,data:e}},Ut=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,zt=String.fromCharCode(30);function Bt(){return new TransformStream({transform(e,t){!function(e,t){Ct&&e.data instanceof Blob?e.data.arrayBuffer().then(Pt).then(t):Tt&&(e.data instanceof ArrayBuffer||At(e.data))?t(Pt(e.data)):jt(e,!1,e=>{Rt||(Rt=new TextEncoder),t(Rt.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Vt;function qt(e){return e.reduce((e,t)=>e+t.length,0)}function Ht(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Wt(e){if(e)return function(e){for(var t in Wt.prototype)e[t]=Wt.prototype[t];return e}(e)}Wt.prototype.on=Wt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Wt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Wt.prototype.off=Wt.prototype.removeListener=Wt.prototype.removeAllListeners=Wt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Wt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Wt.prototype.emitReserved=Wt.prototype.emit,Wt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Wt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Kt="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Gt="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Jt=Gt.setTimeout,Yt=Gt.clearTimeout;function $t(e,t){t.useNativeTimers?(e.setTimeoutFn=Jt.bind(Gt),e.clearTimeoutFn=Yt.bind(Gt)):(e.setTimeoutFn=Gt.setTimeout.bind(Gt),e.clearTimeoutFn=Gt.clearTimeout.bind(Gt))}function Xt(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Zt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class en extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class tn extends Wt{constructor(e){super(),this.writable=!1,$t(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new en(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Mt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class nn extends tn{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(zt),r=[];for(let i=0;i<n.length;i++){const e=Mt(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,s)=>{jt(e,!1,e=>{r[s]=e,++i===n&&t(r.join(zt))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Zt()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let rn=!1;try{rn="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(wr){}const sn=rn;function on(){}class an extends nn{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class ln extends Wt{constructor(e,t,n){super(),this.createRequest=e,$t(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Qt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(br){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(br){}try{n.setRequestHeader("Accept","*/*")}catch(br){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(br){return void this.setTimeoutFn(()=>{this._onError(br)},0)}"undefined"!==typeof document&&(this._index=ln.requestsCount++,ln.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=on,e)try{this._xhr.abort()}catch(br){}"undefined"!==typeof document&&delete ln.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(ln.requestsCount=0,ln.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",cn);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Gt?"pagehide":"unload",cn,!1)}function cn(){for(let e in ln.requests)ln.requests.hasOwnProperty(e)&&ln.requests[e].abort()}const un=function(){const e=dn({xdomain:!1});return e&&null!==e.responseType}();function dn(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||sn))return new XMLHttpRequest}catch(br){}if(!t)try{return new(Gt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(br){}}const hn="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class fn extends tn{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=hn?{}:Qt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(wr){return this.emitReserved("error",wr)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;jt(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(br){}r&&Kt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Zt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const pn=Gt.WebSocket||Gt.MozWebSocket;const mn={websocket:class extends fn{createSocket(e,t,n){return hn?new pn(e,t,n):t?new pn(e,t):new pn(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends tn{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(wr){return this.emitReserved("error",wr)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Vt||(Vt=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===r){if(qt(n)<1)break;const e=Ht(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(qt(n)<2)break;const e=Ht(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(qt(n)<8)break;const e=Ht(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(Nt);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(qt(n)<i)break;const e=Ht(n,i);a.enqueue(Mt(s?e:Vt.decode(e),t)),r=0}if(0===i||i>e){a.enqueue(Nt);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Bt();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&Kt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends an{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=un&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new ln(dn,this.uri(),e)}}},gn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yn(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=gn.exec(e||""),s={},o=14;for(;o--;)s[vn[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,s.query),s}const bn="function"===typeof addEventListener&&"function"===typeof removeEventListener,wn=[];bn&&addEventListener("offline",()=>{wn.forEach(e=>e())},!1);class xn extends Wt{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=yn(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=yn(t.host).host);$t(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),bn&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},wn.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&xn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",xn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=Xt(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Kt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(xn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),bn&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=wn.indexOf(this._offlineEventListener);-1!==e&&wn.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}xn.protocol=4;class Sn extends xn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;xn.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;xn.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class kn extends Sn{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>mn[e]).filter(e=>!!e)),super(e,t)}}const _n="function"===typeof ArrayBuffer,En=Object.prototype.toString,Nn="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===En.call(Blob),Cn="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===En.call(File);function Tn(e){return _n&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Nn&&e instanceof Blob||Cn&&e instanceof File}function An(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(An(e[t]))return!0;return!1}if(Tn(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return An(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&An(e[n]))return!0;return!1}function jn(e){const t=[],n=e.data,r=e;return r.data=In(n,t),r.attachments=t.length,{packet:r,buffers:t}}function In(e,t){if(!e)return e;if(Tn(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=In(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=In(e[r],t));return n}return e}function Pn(e,t){return e.data=Rn(e.data,t),delete e.attachments,e}function Rn(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Rn(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Rn(e[n],t));return e}const On=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Dn=5;var Ln;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ln||(Ln={}));class Mn{constructor(e){this.replacer=e}encode(e){return e.type!==Ln.EVENT&&e.type!==Ln.ACK||!An(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ln.EVENT?Ln.BINARY_EVENT:Ln.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ln.BINARY_EVENT&&e.type!==Ln.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=jn(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Fn(e){return"[object Object]"===Object.prototype.toString.call(e)}class Un extends Wt{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ln.BINARY_EVENT;n||t.type===Ln.BINARY_ACK?(t.type=n?Ln.EVENT:Ln.ACK,this.reconstructor=new zn(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Tn(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ln[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ln.BINARY_EVENT||n.type===Ln.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Un.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(br){return!1}}static isPayloadValid(e,t){switch(e){case Ln.CONNECT:return Fn(t);case Ln.DISCONNECT:return void 0===t;case Ln.CONNECT_ERROR:return"string"===typeof t||Fn(t);case Ln.EVENT:case Ln.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===On.indexOf(t[0]));case Ln.ACK:case Ln.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class zn{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Pn(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Bn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Vn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qn extends Wt{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Bn(e,"open",this.onopen.bind(this)),Bn(e,"packet",this.onpacket.bind(this)),Bn(e,"error",this.onerror.bind(this)),Bn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Vn.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:Ln.EVENT,data:s,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),a.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),o=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];n(null,...s)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ln.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ln.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ln.EVENT:case Ln.BINARY_EVENT:this.onevent(e);break;case Ln.ACK:case Ln.BINARY_ACK:this.onack(e);break;case Ln.DISCONNECT:this.ondisconnect();break;case Ln.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:Ln.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ln.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Hn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Hn.prototype.reset=function(){this.attempts=0},Hn.prototype.setMin=function(e){this.ms=e},Hn.prototype.setMax=function(e){this.max=e},Hn.prototype.setJitter=function(e){this.jitter=e};class Wn extends Wt{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,$t(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new kn(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Bn(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=Bn(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Bn(e,"ping",this.onping.bind(this)),Bn(e,"data",this.ondata.bind(this)),Bn(e,"error",this.onerror.bind(this)),Bn(e,"close",this.onclose.bind(this)),Bn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(br){this.onclose("parse error",br)}}ondecoded(e){Kt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new qn(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Kn={};function Gn(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=yn(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Kn[i]&&s in Kn[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new Wn(r,t):(Kn[i]||(Kn[i]=new Wn(r,t)),a=Kn[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Gn,{Manager:Wn,Socket:qn,io:Gn,connect:Gn});const Qn=new class{constructor(){this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=15,this.userId=null,this.userType=null,window.addEventListener("online",this.handleOnline.bind(this)),window.addEventListener("offline",this.handleOffline.bind(this))}handleOnline(){console.log("\ud83c\udf10 Browser is online, attempting to reconnect WebSocket"),wt.Ay.success("You are back online",{id:"offline-toast",duration:3e3}),this.userId&&(this.reconnectAttempts=0,this.connect(this.userId,this.userType))}handleOffline(){console.log("\ud83d\udd0c Browser is offline, WebSocket connections will fail"),wt.Ay.error("You are offline. Real-time features will be unavailable until connection is restored.",{id:"offline-toast",duration:0}),this.isConnected=!1}isSocketConnected(){return this.socket&&this.socket.connected&&this.isConnected}connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customer";try{if(this.userId=e,this.userType=t,this.socket&&(this.socket.connected||this.socket.connecting))return void console.log("WebSocket already connected or connecting");if(!navigator.onLine)return console.log("Browser is offline, cannot connect to WebSocket"),void wt.Ay.error("You are offline. Real-time features will be unavailable until connection is restored.",{id:"offline-toast",duration:5e3});const n="ws://localhost:3001";this.socket&&this.socket.disconnect(),this.socket=Gn(n,{transports:["websocket","polling"],reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,query:{userId:e,userType:t}}),this.socket.on("connect",()=>{console.log("\u2705 WebSocket connected"),this.isConnected=!0,this.reconnectAttempts=0,wt.Ay.dismiss("connection-toast"),wt.Ay.dismiss("refresh-toast"),this.socket.emit("join-room",{userId:e,userType:t})}),this.socket.on("disconnect",e=>{console.log("\u274c WebSocket disconnected: ".concat(e)),this.isConnected=!1,"io server disconnect"!==e&&"transport close"!==e||this.attemptReconnect()}),this.socket.on("connect_error",e=>{console.error("WebSocket connection error:",e),this.isConnected=!1,this.attemptReconnect()}),this.setupEventListeners()}catch(n){console.error("Failed to connect to WebSocket:",n),wt.Ay.error("Failed to connect to real-time service. Some features may be unavailable.")}}setupEventListeners(){this.socket&&(this.socket.on("salon-data",e=>{window.dispatchEvent(new CustomEvent("queueUpdate",{detail:(0,o.A)((0,o.A)({},e),{},{salonId:e.id})}))}),this.socket.on("queue-updated",e=>{console.log("Queue updated:",e),wt.Ay.success("Queue updated at ".concat(e.salonName,": ").concat(e.currentQueue," people")),window.dispatchEvent(new CustomEvent("queueUpdate",{detail:e}))}),this.socket.on("booking-status-updated",e=>{console.log("Booking status updated:",e),wt.Ay.success("Booking status updated: ".concat(e.status)),window.dispatchEvent(new CustomEvent("bookingStatusUpdated",{detail:e}))}),this.socket.on("queue-joined",e=>{window.dispatchEvent(new CustomEvent("queueJoined",{detail:e}))}),this.socket.on("position-updated",e=>{window.dispatchEvent(new CustomEvent("positionUpdated",{detail:e}))}),this.socket.on("service-completed",e=>{window.dispatchEvent(new CustomEvent("serviceCompleted",{detail:e}))}),this.socket.on("queue-left",e=>{window.dispatchEvent(new CustomEvent("queueLeft",{detail:e}))}),this.socket.on("customer-joined-queue",e=>{window.dispatchEvent(new CustomEvent("customerJoinedQueue",{detail:e}))}),this.socket.on("booking-confirmed",e=>{console.log("Booking confirmed:",e),wt.Ay.success("Booking confirmed at ".concat(e.salonName,"!")),window.dispatchEvent(new CustomEvent("bookingConfirmed",{detail:e}))}),this.socket.on("your-turn",e=>{console.log("Your turn:",e),wt.Ay.success("It's your turn at ".concat(e.salonName,"! \ud83c\udf89")),"Notification"in window&&"granted"===Notification.permission&&new Notification("It's Your Turn!",{body:"Please head to ".concat(e.salonName," - your service is ready to begin"),icon:"/icons/turn-icon.png",requireInteraction:!0}),window.dispatchEvent(new CustomEvent("yourTurn",{detail:e}))}),this.socket.on("payment-received",e=>{console.log("Payment received:",e),wt.Ay.success("Payment of $".concat(e.amount," received!")),window.dispatchEvent(new CustomEvent("paymentReceived",{detail:e}))}),this.socket.on("new-booking",e=>{console.log("New booking:",e),wt.Ay.success("New booking from ".concat(e.customerName,"!")),window.dispatchEvent(new CustomEvent("newBooking",{detail:e}))}),this.socket.on("notification",e=>{console.log("Notification received:",e),"success"===e.type?wt.Ay.success(e.message):"error"===e.type?wt.Ay.error(e.message):(0,wt.Ay)(e.message)}))}attemptReconnect(){if(navigator.onLine)if(this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const e=Math.min(3e4,1e3*(Math.pow(2,this.reconnectAttempts)-1));console.log("Attempting to reconnect (".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts,") in ").concat(e,"ms...")),setTimeout(()=>{this.socket&&this.socket.connect()},e)}else console.log("Maximum reconnection attempts (".concat(this.maxReconnectAttempts,") reached."));else console.log("Browser is offline, delaying reconnection until online")}reconnect(){return console.log("Manual reconnection requested"),this.userId?(this.reconnectAttempts=0,wt.Ay.success("Attempting to reconnect...",{id:"manual-reconnect"}),this.connect(this.userId,this.userType),!0):(console.error("Cannot reconnect: No user ID stored"),!1)}checkConnectionBeforeEmit(){return!!this.isSocketConnected()||(navigator.onLine?this.attemptReconnect():wt.Ay.error("You are offline. This action will be queued until connection is restored.",{id:"offline-action-toast",duration:3e3}),!1)}updateQueue(e,t){return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("update-queue",{salonId:e,change:t}),!0)}createBooking(e){return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("create-booking",e),!0)}completeService(e,t){return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("complete-service",{customerId:e,salonId:t}),!0)}sendNotification(e,t){return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("send-notification",{targetUserId:e,notification:t}),!0)}joinQueue(e){return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("join-queue",e),!0)}updateBookingStatus(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("update-booking-status",(0,o.A)({bookingId:e,status:t},n)),!0)}leaveQueue(e,t){return!!this.checkConnectionBeforeEmit()&&(this.socket.emit("leave-queue",{customerId:e,salonId:t}),!0)}updateCustomerPosition(e,t,n){this.socket&&this.isConnected&&this.socket.emit("update-customer-position",{customerId:e,newPosition:t,salonId:n})}updateStaffStatus(e,t,n){this.socket&&this.isConnected&&this.socket.emit("update-staff-status",{staffId:e,salonId:t,isAvailable:n})}convertAppointmentToQueue(e,t){this.socket&&this.isConnected&&this.socket.emit("appointment-to-queue",{appointmentId:e,salonId:t})}paymentReceived(e){this.socket&&this.isConnected&&this.socket.emit("payment-received",e)}joinSalonRoom(e){this.socket&&this.isConnected&&this.socket.emit("join-salon-room",{salonId:e})}leaveSalonRoom(e){this.socket&&this.isConnected&&this.socket.emit("leave-salon-room",{salonId:e})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1)}},Jn=Qn,Yn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const[r,s]=(0,i.useState)({currentQueue:0,estimatedWaitTime:0,customers:[],isOpen:!0}),[a,l]=(0,i.useState)({isInQueue:!1,position:null,estimatedWaitTime:null,customerId:null}),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(e&&n)return Jn.connect(n,t),Jn.joinSalonRoom(e),u(!0),()=>{Jn.leaveSalonRoom(e),u(!1)}},[e,n,t]);const d=(0,i.useCallback)(t=>{const n=t.detail;n.salonId===e&&s(e=>(0,o.A)((0,o.A)({},e),{},{currentQueue:n.currentQueue,estimatedWaitTime:n.estimatedWaitTime,customers:n.customers||e.customers}))},[e]),h=(0,i.useCallback)(t=>{const n=t.detail;l({isInQueue:!0,position:n.position,estimatedWaitTime:n.estimatedWaitTime,customerId:n.customerId}),localStorage.setItem("queueStatus",JSON.stringify({salonId:e,customerId:n.customerId,position:n.position,estimatedWaitTime:n.estimatedWaitTime,joinedAt:(new Date).toISOString()}))},[e]),f=(0,i.useCallback)(t=>{const n=t.detail;l(e=>(0,o.A)((0,o.A)({},e),{},{position:n.position,estimatedWaitTime:n.estimatedWaitTime}));const r=JSON.parse(localStorage.getItem("queueStatus")||"{}");r.salonId===e&&localStorage.setItem("queueStatus",JSON.stringify((0,o.A)((0,o.A)({},r),{},{position:n.position,estimatedWaitTime:n.estimatedWaitTime})));const i=JSON.parse(localStorage.getItem("userBookings")||"[]").map(t=>"queue"===t.type&&t.salonId===e&&"in_queue"===t.status?(0,o.A)((0,o.A)({},t),{},{queuePosition:n.position,estimatedWaitTime:n.estimatedWaitTime,updatedAt:(new Date).toISOString()}):t);localStorage.setItem("userBookings",JSON.stringify(i))},[e]),p=(0,i.useCallback)(e=>{e.detail;l(e=>(0,o.A)((0,o.A)({},e),{},{position:1,estimatedWaitTime:0})),navigator.vibrate&&navigator.vibrate([200,100,200])},[]),m=(0,i.useCallback)(e=>{l({isInQueue:!1,position:null,estimatedWaitTime:null,customerId:null}),localStorage.removeItem("queueStatus")},[]),g=(0,i.useCallback)(e=>{l({isInQueue:!1,position:null,estimatedWaitTime:null,customerId:null}),localStorage.removeItem("queueStatus")},[]),v=(0,i.useCallback)(e=>{const t=e.detail;s(e=>(0,o.A)((0,o.A)({},e),{},{currentQueue:t.queueLength,estimatedWaitTime:t.estimatedWaitTime,customers:[...e.customers||[],t.customer]}))},[]);(0,i.useEffect)(()=>(window.addEventListener("queueUpdate",d),window.addEventListener("queueJoined",h),window.addEventListener("positionUpdated",f),window.addEventListener("yourTurn",p),window.addEventListener("serviceCompleted",m),window.addEventListener("queueLeft",g),window.addEventListener("customerJoinedQueue",v),()=>{window.removeEventListener("queueUpdate",d),window.removeEventListener("queueJoined",h),window.removeEventListener("positionUpdated",f),window.removeEventListener("yourTurn",p),window.removeEventListener("serviceCompleted",m),window.removeEventListener("queueLeft",g),window.removeEventListener("customerJoinedQueue",v)}),[d,h,f,p,m,g,v]),(0,i.useEffect)(()=>{const t=JSON.parse(localStorage.getItem("queueStatus")||"{}");t.salonId===e&&t.customerId&&l({isInQueue:!0,position:t.position,estimatedWaitTime:t.estimatedWaitTime,customerId:t.customerId})},[e]);const y=(0,i.useCallback)(async t=>{if(!c)return wt.Ay.error("Not connected to real-time updates"),!1;try{const n="customer_".concat(Date.now()),r=(0,o.A)((0,o.A)({},t),{},{salonId:e,customerId:n});return Jn.joinQueue(r),!0}catch(n){return console.error("Failed to join queue:",n),wt.Ay.error("Failed to join queue"),!1}},[e,c]),b=(0,i.useCallback)(async()=>{if(!c||!a.customerId)return!1;try{return Jn.leaveQueue(a.customerId,e),!0}catch(t){return console.error("Failed to leave queue:",t),wt.Ay.error("Failed to leave queue"),!1}},[e,a.customerId,c]),w=(0,i.useCallback)(async t=>{if(!c)return!1;try{return Jn.completeService(t,e),!0}catch(n){return console.error("Failed to complete service:",n),wt.Ay.error("Failed to complete service"),!1}},[e,c]),x=(0,i.useCallback)(async(t,n)=>{if(!c)return!1;try{return Jn.updateStaffStatus(t,e,n),!0}catch(r){return console.error("Failed to update staff status:",r),wt.Ay.error("Failed to update staff status"),!1}},[e,c]),S=(0,i.useCallback)(async t=>{if(!c)return!1;try{return Jn.convertAppointmentToQueue(t,e),!0}catch(n){return console.error("Failed to convert appointment:",n),wt.Ay.error("Failed to convert appointment"),!1}},[e,c]);return{queueData:r,customerStatus:a,isConnected:c,joinQueue:y,leaveQueue:b,completeService:w,updateStaffStatus:x,convertAppointmentToQueue:S,isCustomerInQueue:a.isInQueue,customerPosition:a.position,estimatedWaitTime:a.estimatedWaitTime}},$n=e=>{let{service:t,onSave:n,onClose:r}=e;const[s,a]=(0,i.useState)({name:(null===t||void 0===t?void 0:t.name)||"",duration:(null===t||void 0===t?void 0:t.duration)||30,price:(null===t||void 0===t?void 0:t.price)||500,category:(null===t||void 0===t?void 0:t.category)||"Hair"}),l=e=>{const{name:t,value:n}=e.target;a(e=>(0,o.A)((0,o.A)({},e),{},{[t]:"duration"===t||"price"===t?parseInt(n):n}))};return(0,xt.jsx)("div",{className:"modal-overlay",children:(0,xt.jsxs)("div",{className:"service-modal",children:[(0,xt.jsxs)("div",{className:"modal-header",children:[(0,xt.jsx)("h3",{children:t?"Edit Service":"Add New Service"}),(0,xt.jsx)("button",{onClick:r,className:"close-modal-btn",children:"\xd7"})]}),(0,xt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(s)},className:"service-form",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Service Name *"}),(0,xt.jsx)("input",{type:"text",name:"name",value:s.name,onChange:l,placeholder:"e.g., Haircut & Styling",required:!0})]}),(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Duration (minutes) *"}),(0,xt.jsx)("input",{type:"number",name:"duration",value:s.duration,onChange:l,min:"5",max:"300",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Price (\u20b9) *"}),(0,xt.jsx)("input",{type:"number",name:"price",value:s.price,onChange:l,min:"50",max:"10000",required:!0})]})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Category *"}),(0,xt.jsxs)("select",{name:"category",value:s.category,onChange:l,required:!0,children:[(0,xt.jsx)("option",{value:"Hair",children:"Hair"}),(0,xt.jsx)("option",{value:"Skincare",children:"Skincare"}),(0,xt.jsx)("option",{value:"Nails",children:"Nails"}),(0,xt.jsx)("option",{value:"Spa",children:"Spa"}),(0,xt.jsx)("option",{value:"Makeup",children:"Makeup"}),(0,xt.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,xt.jsxs)("div",{className:"modal-actions",children:[(0,xt.jsx)("button",{type:"button",onClick:r,className:"cancel-btn",children:"Cancel"}),(0,xt.jsx)("button",{type:"submit",className:"save-btn",children:t?"Update Service":"Add Service"})]})]})]})})},Xn=e=>{let{onSave:t,onClose:n,services:r,staff:s}=e;const[a,l]=(0,i.useState)({customerName:"",customerPhone:"",service:"",date:(new Date).toISOString().split("T")[0],time:"",operatorId:"",notes:""}),c=e=>{const{name:t,value:n}=e.target;l(e=>(0,o.A)((0,o.A)({},e),{},{[t]:n}))};return(0,xt.jsx)("div",{className:"modal-overlay",children:(0,xt.jsxs)("div",{className:"appointment-modal",children:[(0,xt.jsxs)("div",{className:"modal-header",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcc5 Book New Appointment"}),(0,xt.jsx)("button",{onClick:n,className:"close-modal-btn",children:"\xd7"})]}),(0,xt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=r.find(e=>e.name===a.service),i=(0,o.A)((0,o.A)({},a),{},{duration:(null===n||void 0===n?void 0:n.duration)||30,amount:(null===n||void 0===n?void 0:n.price)||500,operatorId:parseInt(a.operatorId)});t(i)},className:"appointment-form",children:[(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Customer Name *"}),(0,xt.jsx)("input",{type:"text",name:"customerName",value:a.customerName,onChange:c,placeholder:"Enter customer name",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",name:"customerPhone",value:a.customerPhone,onChange:c,placeholder:"+91 98765 43210",required:!0})]})]}),(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Service *"}),(0,xt.jsxs)("select",{name:"service",value:a.service,onChange:c,required:!0,children:[(0,xt.jsx)("option",{value:"",children:"Select a service"}),r.map(e=>(0,xt.jsxs)("option",{value:e.name,children:[e.name," - \u20b9",e.price," (",e.duration,"min)"]},e.id))]})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Staff Member *"}),(0,xt.jsxs)("select",{name:"operatorId",value:a.operatorId,onChange:c,required:!0,children:[(0,xt.jsx)("option",{value:"",children:"Select staff member"}),s.map(e=>(0,xt.jsxs)("option",{value:e.id,children:[e.name," - ",e.role]},e.id))]})]})]}),(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Date *"}),(0,xt.jsx)("input",{type:"date",name:"date",value:a.date,onChange:c,min:(new Date).toISOString().split("T")[0],required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Time *"}),(0,xt.jsx)("input",{type:"time",name:"time",value:a.time,onChange:c,required:!0})]})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Notes"}),(0,xt.jsx)("textarea",{name:"notes",value:a.notes,onChange:c,placeholder:"Any special requests or notes...",rows:"3"})]}),(0,xt.jsxs)("div",{className:"modal-actions",children:[(0,xt.jsx)("button",{type:"button",onClick:n,className:"cancel-btn",children:"Cancel"}),(0,xt.jsx)("button",{type:"submit",className:"save-btn",children:"Book Appointment"})]})]})]})})},Zn=e=>{let{onSave:t,onClose:n}=e;const[r,s]=(0,i.useState)({name:"",role:"",phone:"",email:"",specialties:[],experience:"",shift:"",commission:25}),[a,l]=(0,i.useState)(""),c=e=>{const{name:t,value:n}=e.target;s(e=>(0,o.A)((0,o.A)({},e),{},{[t]:n}))},u=()=>{a.trim()&&!r.specialties.includes(a.trim())&&(s(e=>(0,o.A)((0,o.A)({},e),{},{specialties:[...e.specialties,a.trim()]})),l(""))};return(0,xt.jsx)("div",{className:"modal-overlay",children:(0,xt.jsxs)("div",{className:"staff-modal",children:[(0,xt.jsxs)("div",{className:"modal-header",children:[(0,xt.jsx)("h3",{children:"\ud83d\udc68\u200d\ud83d\udcbc Add New Staff Member"}),(0,xt.jsx)("button",{onClick:n,className:"close-modal-btn",children:"\xd7"})]}),(0,xt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t((0,o.A)((0,o.A)({},r),{},{commission:parseInt(r.commission)}))},className:"staff-form",children:[(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Full Name *"}),(0,xt.jsx)("input",{type:"text",name:"name",value:r.name,onChange:c,placeholder:"Enter full name",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Role *"}),(0,xt.jsxs)("select",{name:"role",value:r.role,onChange:c,required:!0,children:[(0,xt.jsx)("option",{value:"",children:"Select role"}),(0,xt.jsx)("option",{value:"Senior Stylist",children:"Senior Stylist"}),(0,xt.jsx)("option",{value:"Junior Stylist",children:"Junior Stylist"}),(0,xt.jsx)("option",{value:"Beauty Specialist",children:"Beauty Specialist"}),(0,xt.jsx)("option",{value:"Nail Technician",children:"Nail Technician"}),(0,xt.jsx)("option",{value:"Massage Therapist",children:"Massage Therapist"}),(0,xt.jsx)("option",{value:"Receptionist",children:"Receptionist"})]})]})]}),(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:c,placeholder:"+91 98765 43210",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Email *"}),(0,xt.jsx)("input",{type:"email",name:"email",value:r.email,onChange:c,placeholder:"email@example.com",required:!0})]})]}),(0,xt.jsxs)("div",{className:"form-row",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Experience *"}),(0,xt.jsx)("input",{type:"text",name:"experience",value:r.experience,onChange:c,placeholder:"e.g., 3 years",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Commission (%) *"}),(0,xt.jsx)("input",{type:"number",name:"commission",value:r.commission,onChange:c,min:"0",max:"50",required:!0})]})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Work Shift *"}),(0,xt.jsx)("input",{type:"text",name:"shift",value:r.shift,onChange:c,placeholder:"e.g., 09:00-18:00",required:!0})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Specialties"}),(0,xt.jsxs)("div",{className:"specialty-input",children:[(0,xt.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Add a specialty",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),u())}),(0,xt.jsx)("button",{type:"button",onClick:u,className:"add-specialty-btn",children:"Add"})]}),(0,xt.jsx)("div",{className:"specialties-list",children:r.specialties.map(e=>(0,xt.jsxs)("span",{className:"specialty-tag",children:[e,(0,xt.jsx)("button",{type:"button",onClick:()=>(e=>{s(t=>(0,o.A)((0,o.A)({},t),{},{specialties:t.specialties.filter(t=>t!==e)}))})(e),className:"remove-specialty",children:"\xd7"})]},e))})]}),(0,xt.jsxs)("div",{className:"modal-actions",children:[(0,xt.jsx)("button",{type:"button",onClick:n,className:"cancel-btn",children:"Cancel"}),(0,xt.jsx)("button",{type:"submit",className:"save-btn",children:"Add Staff Member"})]})]})]})})},er=e=>{let{ownerData:t,onLogout:n}=e;const[r,s]=(0,i.useState)(null),[a,l]=(0,i.useState)({currentQueue:5,estimatedWaitTime:25,isOpen:!0,services:[{id:1,name:"Haircut",duration:30,price:500,category:"Hair"},{id:2,name:"Hair Styling",duration:45,price:700,category:"Hair"},{id:3,name:"Facial Treatment",duration:60,price:800,category:"Skincare"},{id:4,name:"Beard Trim",duration:15,price:300,category:"Hair"},{id:5,name:"Manicure",duration:45,price:400,category:"Nails"},{id:6,name:"Pedicure",duration:60,price:600,category:"Nails"}]}),[c,u]=(0,i.useState)({totalCustomers:23,revenue:4200,avgWaitTime:18,customersSatisfied:21,totalBookings:28,cancelledBookings:2}),[d,h]=(0,i.useState)([{id:1,name:"Priya Sharma",service:"Haircut + Styling",time:"2:30 PM",status:"In Progress",phone:"+91 98765 43210",amount:1200,duration:75,isPrepaid:!0,workStatus:"ongoing",operatorId:1},{id:2,name:"Rahul Gupta",service:"Beard Trim",time:"2:45 PM",status:"Waiting",phone:"+91 87654 32109",amount:300,duration:15,isPrepaid:!1,workStatus:"waiting",operatorId:null},{id:3,name:"Anita Patel",service:"Facial Treatment",time:"3:00 PM",status:"Waiting",phone:"+91 76543 21098",amount:800,duration:60,isPrepaid:!0,workStatus:"waiting",operatorId:null},{id:4,name:"Vikram Singh",service:"Haircut",time:"3:15 PM",status:"Waiting",phone:"+91 65432 10987",amount:500,duration:30,isPrepaid:!1,workStatus:"waiting",operatorId:null},{id:5,name:"Meera Joshi",service:"Manicure + Pedicure",time:"3:30 PM",status:"Waiting",phone:"+91 54321 09876",amount:1e3,duration:105,isPrepaid:!0,workStatus:"waiting",operatorId:null}]),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)("dashboard"),[v,y]=(0,i.useState)(!1),[b,w]=(0,i.useState)(null),[x,S]=(0,i.useState)(!1),[k,_]=(0,i.useState)(!1),[E,N]=(0,i.useState)((new Date).toISOString().split("T")[0]),[C,T]=(0,i.useState)([{id:1,customerName:"Priya Sharma",customerPhone:"+91 98765 43210",service:"Haircut + Styling",date:(new Date).toISOString().split("T")[0],time:"14:30",duration:75,amount:1200,status:"confirmed",operatorId:1,notes:"Regular customer, prefers layer cut"},{id:2,customerName:"Rahul Gupta",customerPhone:"+91 87654 32109",service:"Beard Trim",date:(new Date).toISOString().split("T")[0],time:"15:00",duration:15,amount:300,status:"confirmed",operatorId:2,notes:""}]),[A,j]=(0,i.useState)({"Priya Sharma":{totalVisits:12,totalSpent:14400,lastVisit:"2024-01-15",loyaltyPoints:144,preferredServices:["Haircut + Styling","Facial Treatment"],notes:"VIP customer, always books in advance"},"Rahul Gupta":{totalVisits:8,totalSpent:2400,lastVisit:"2024-01-10",loyaltyPoints:24,preferredServices:["Beard Trim","Haircut"],notes:"Prefers quick services"}}),[I,P]=(0,i.useState)([{id:1,name:"Hair Shampoo",category:"Hair Care",stock:15,minStock:5,price:450,supplier:"Beauty Co."},{id:2,name:"Hair Conditioner",category:"Hair Care",stock:12,minStock:5,price:520,supplier:"Beauty Co."},{id:3,name:"Face Cleanser",category:"Skincare",stock:8,minStock:3,price:680,supplier:"Skin Plus"},{id:4,name:"Nail Polish",category:"Nails",stock:25,minStock:10,price:280,supplier:"Color World"},{id:5,name:"Hair Oil",category:"Hair Care",stock:3,minStock:5,price:350,supplier:"Natural Care"}]),[R,O]=(0,i.useState)([{id:1,name:"Ravi Kumar",role:"Senior Stylist",isAvailable:!1,phone:"+91 98765 11111",email:"ravi@salon.com",specialties:["Haircut","Hair Styling","Beard Trim"],experience:"5 years",rating:4.8,todayBookings:6,todayRevenue:3600,shift:"09:00-18:00",commission:30},{id:2,name:"Priya Patel",role:"Beauty Specialist",isAvailable:!0,phone:"+91 98765 22222",email:"priya@salon.com",specialties:["Facial Treatment","Skincare","Makeup"],experience:"3 years",rating:4.9,todayBookings:4,todayRevenue:3200,shift:"10:00-19:00",commission:25},{id:3,name:"Amit Singh",role:"Nail Technician",isAvailable:!0,phone:"+91 98765 33333",email:"amit@salon.com",specialties:["Manicure","Pedicure","Nail Art"],experience:"2 years",rating:4.7,todayBookings:3,todayRevenue:1800,shift:"11:00-20:00",commission:20}]);(0,i.useEffect)(()=>{const e=Gn("http://localhost:3001",{query:{userId:t.id,userType:"owner"}});return s(e),e.emit("join-salon-room",{salonId:t.salonId}),e.on("new-booking",e=>{wt.Ay.success("New booking from ".concat(e.customerName,"!")),p(t=>[...t,{id:Date.now(),type:"booking",message:"New booking: ".concat(e.customerName," - ").concat(e.service),time:(new Date).toLocaleTimeString()}]);const t={id:Date.now(),name:e.customerName,service:e.service,time:e.time,status:"Waiting",phone:e.phone||"N/A",amount:e.totalAmount,duration:e.duration||30};h(e=>[...e,t]),D(1)}),e.on("queue-updated",e=>{l(t=>(0,o.A)((0,o.A)({},t),{},{currentQueue:e.currentQueue,estimatedWaitTime:e.estimatedWaitTime}))}),e.on("payment-received",e=>{wt.Ay.success("Payment received: \u20b9".concat(e.amount)),u(t=>(0,o.A)((0,o.A)({},t),{},{revenue:t.revenue+e.amount}))}),e.on("notification",e=>{(0,wt.Ay)(e.message,{icon:"success"===e.type?"\u2705":"\u2139\ufe0f"})}),()=>{e.disconnect()}},[t.id,t.salonId]),(0,i.useEffect)(()=>{const e=setInterval(()=>{if(Math.random()>.8){const e=Math.random()>.6?1:-1;l(t=>(0,o.A)((0,o.A)({},t),{},{currentQueue:Math.max(0,t.currentQueue+e),estimatedWaitTime:Math.max(5,t.estimatedWaitTime+5*e)}))}},15e3);return()=>clearInterval(e)},[]);const D=e=>{if(-1===e&&d.length>0){const e=d[0];h(e=>e.slice(1)),u(t=>(0,o.A)((0,o.A)({},t),{},{revenue:t.revenue+e.amount,totalCustomers:t.totalCustomers+1,customersSatisfied:t.customersSatisfied+1})),wt.Ay.success("Payment received: \u20b9".concat(e.amount," from ").concat(e.name))}else if(1===e){const e=["Amit Kumar","Sneha Patel","Rajesh Singh","Pooja Sharma","Vikash Yadav","Anita Gupta","Suresh Mehta","Kavita Jain","Rohit Verma","Deepika Shah","Manoj Tiwari","Sunita Agarwal","Ashok Pandey","Ritu Malhotra","Sanjay Kumar"],t=["Haircut","Beard Trim","Hair Styling","Facial","Manicure"],n=[300,500,700,800,400],r=e[Math.floor(Math.random()*e.length)],i=t[Math.floor(Math.random()*t.length)],s=n[t.indexOf(i)],o={id:Date.now(),name:r,service:i,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),status:"Waiting",phone:"+91 ".concat(Math.floor(9e4*Math.random())+1e4," ").concat(Math.floor(9e4*Math.random())+1e4),amount:s,duration:Math.floor(45*Math.random())+15,isPrepaid:Math.random()>.5,workStatus:"waiting",operatorId:null};h(e=>[...e,o]),wt.Ay.success("Walk-in customer added: ".concat(r))}const n=(0,o.A)((0,o.A)({},a),{},{currentQueue:Math.max(0,a.currentQueue+e),estimatedWaitTime:Math.max(5,a.estimatedWaitTime+5*e)});l(n),r&&r.emit("update-queue",{salonId:t.salonId,change:e})},L=(e,t)=>{P(n=>n.map(n=>n.id===e?(0,o.A)((0,o.A)({},n),{},{stock:t}):n)),wt.Ay.success("Inventory updated successfully!")},M=()=>C.filter(e=>e.date===E),F=()=>I.filter(e=>e.stock<=e.minStock);return(0,xt.jsxs)("div",{className:"owner-dashboard",children:[(0,xt.jsxs)("header",{className:"dashboard-header",children:[(0,xt.jsxs)("div",{className:"header-left",children:[(0,xt.jsxs)("h1",{children:["\ud83d\udcbc ",t.name]}),(0,xt.jsx)("p",{children:"Queue Management Dashboard"}),(0,xt.jsxs)("div",{className:"live-indicator",children:[(0,xt.jsx)("span",{className:"live-dot"}),"Live Updates Active"]})]}),(0,xt.jsxs)("div",{className:"header-right",children:[(0,xt.jsx)("div",{className:"notifications-badge",children:(0,xt.jsxs)("button",{className:"notifications-btn",children:["\ud83d\udd14",f.length>0&&(0,xt.jsx)("span",{className:"badge",children:f.length})]})}),(0,xt.jsxs)("div",{className:"shop-status",children:[(0,xt.jsx)("span",{className:"status-indicator ".concat(a.isOpen?"open":"closed"),children:a.isOpen?"\ud83d\udfe2 Open":"\ud83d\udd34 Closed"}),(0,xt.jsx)("button",{onClick:()=>{const e=!a.isOpen;l(t=>(0,o.A)((0,o.A)({},t),{},{isOpen:e})),r&&r.emit("toggle-salon-status",{salonId:t.salonId,isOpen:e}),wt.Ay.success("Shop ".concat(e?"opened":"closed"," successfully!"))},className:"toggle-status-btn",children:a.isOpen?"Close Shop":"Open Shop"})]}),(0,xt.jsx)("button",{onClick:n,className:"logout-btn",children:"Logout"})]})]}),(0,xt.jsxs)("nav",{className:"dashboard-nav",children:[(0,xt.jsx)("button",{className:"nav-tab ".concat("dashboard"===m?"active":""),onClick:()=>g("dashboard"),children:"\ud83d\udcca Dashboard"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("queue"===m?"active":""),onClick:()=>g("queue"),children:"\ud83d\udc65 Queue"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("appointments"===m?"active":""),onClick:()=>g("appointments"),children:"\ud83d\udcc5 Appointments"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("staff"===m?"active":""),onClick:()=>g("staff"),children:"\ud83d\udc68\u200d\ud83d\udcbc Staff"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("customers"===m?"active":""),onClick:()=>g("customers"),children:"\ud83d\udc64 Customers"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("inventory"===m?"active":""),onClick:()=>g("inventory"),children:"\ud83d\udce6 Inventory"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("services"===m?"active":""),onClick:()=>g("services"),children:"\ud83d\udc87 Services"}),(0,xt.jsx)("button",{className:"nav-tab ".concat("analytics"===m?"active":""),onClick:()=>g("analytics"),children:"\ud83d\udcc8 Analytics"})]}),(0,xt.jsxs)("div",{className:"dashboard-content",children:["dashboard"===m&&(0,xt.jsxs)("div",{className:"dashboard-tab",children:[(0,xt.jsxs)("div",{className:"stats-grid",children:[(0,xt.jsxs)("div",{className:"stat-card primary",children:[(0,xt.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,xt.jsxs)("div",{className:"stat-info",children:[(0,xt.jsx)("h3",{children:a.currentQueue}),(0,xt.jsx)("p",{children:"Current Queue"}),(0,xt.jsx)("span",{className:"stat-trend",children:"+2 from yesterday"})]})]}),(0,xt.jsxs)("div",{className:"stat-card success",children:[(0,xt.jsx)("div",{className:"stat-icon",children:"\u23f1\ufe0f"}),(0,xt.jsxs)("div",{className:"stat-info",children:[(0,xt.jsxs)("h3",{children:[a.estimatedWaitTime,"min"]}),(0,xt.jsx)("p",{children:"Est. Wait Time"}),(0,xt.jsx)("span",{className:"stat-trend",children:"-5min from avg"})]})]}),(0,xt.jsxs)("div",{className:"stat-card warning",children:[(0,xt.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb0"}),(0,xt.jsxs)("div",{className:"stat-info",children:[(0,xt.jsxs)("h3",{children:["\u20b9",c.revenue]}),(0,xt.jsx)("p",{children:"Today's Revenue"}),(0,xt.jsx)("span",{className:"stat-trend",children:"+15% from yesterday"})]})]}),(0,xt.jsxs)("div",{className:"stat-card info",children:[(0,xt.jsx)("div",{className:"stat-icon",children:"\u2705"}),(0,xt.jsxs)("div",{className:"stat-info",children:[(0,xt.jsx)("h3",{children:c.customersSatisfied}),(0,xt.jsx)("p",{children:"Customers Served"}),(0,xt.jsxs)("span",{className:"stat-trend",children:[c.totalBookings," total bookings"]})]})]})]}),(0,xt.jsxs)("div",{className:"dashboard-overview",children:[(0,xt.jsxs)("div",{className:"overview-card",children:[(0,xt.jsx)("h3",{children:"\ud83d\udccb Today's Summary"}),(0,xt.jsxs)("div",{className:"summary-stats",children:[(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{className:"label",children:"Total Bookings:"}),(0,xt.jsx)("span",{className:"value",children:c.totalBookings})]}),(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{className:"label",children:"Completed:"}),(0,xt.jsx)("span",{className:"value success",children:c.customersSatisfied})]}),(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{className:"label",children:"Cancelled:"}),(0,xt.jsx)("span",{className:"value error",children:c.cancelledBookings})]}),(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{className:"label",children:"Avg Wait Time:"}),(0,xt.jsxs)("span",{className:"value",children:[c.avgWaitTime," min"]})]})]})]}),(0,xt.jsxs)("div",{className:"overview-card",children:[(0,xt.jsx)("h3",{children:"\ud83d\ude80 Quick Actions"}),(0,xt.jsxs)("div",{className:"quick-actions-grid",children:[(0,xt.jsx)("button",{className:"quick-action-btn",onClick:()=>g("queue"),children:"\ud83d\udc65 Manage Queue"}),(0,xt.jsx)("button",{className:"quick-action-btn",onClick:()=>g("services"),children:"\ud83d\udc87 Edit Services"}),(0,xt.jsx)("button",{className:"quick-action-btn",onClick:()=>wt.Ay.success("Notification sent to all customers!"),children:"\ud83d\udce2 Send Alert"}),(0,xt.jsx)("button",{className:"quick-action-btn",onClick:()=>g("analytics"),children:"\ud83d\udcca View Reports"})]})]})]})]}),"queue"===m&&(0,xt.jsxs)("div",{className:"queue-tab",children:[(0,xt.jsxs)("div",{className:"queue-header",children:[(0,xt.jsxs)("div",{className:"queue-stats",children:[(0,xt.jsxs)("div",{className:"queue-stat",children:[(0,xt.jsx)("div",{className:"queue-number",children:a.currentQueue}),(0,xt.jsx)("div",{className:"queue-label",children:"People in Queue"})]}),(0,xt.jsxs)("div",{className:"queue-stat",children:[(0,xt.jsx)("div",{className:"wait-time-number",children:a.estimatedWaitTime}),(0,xt.jsx)("div",{className:"wait-time-label",children:"Minutes Wait"})]})]}),(0,xt.jsxs)("div",{className:"queue-controls",children:[(0,xt.jsx)("button",{onClick:()=>D(-1),className:"queue-btn decrease",disabled:0===a.currentQueue,title:"Complete service & receive payment",children:"\ud83d\udcb0 Payment Received"}),(0,xt.jsx)("button",{onClick:()=>D(1),className:"queue-btn increase",title:"Add walk-in customer",children:"\ud83d\udc64 Walk-in Customer"}),(0,xt.jsx)("button",{className:"queue-btn refresh",onClick:()=>wt.Ay.success("Queue refreshed!"),children:"\ud83d\udd04 Refresh"})]})]}),(0,xt.jsxs)("div",{className:"current-queue-section",children:[(0,xt.jsxs)("h3",{children:["\ud83d\udccb Current Queue (",d.length," customers)"]}),0===d.length?(0,xt.jsxs)("div",{className:"empty-queue",children:[(0,xt.jsx)("div",{className:"empty-icon",children:"\ud83c\udf89"}),(0,xt.jsx)("h4",{children:"No customers in queue!"}),(0,xt.jsx)("p",{children:"All caught up. Great job!"})]}):(0,xt.jsx)("div",{className:"customer-list",children:d.map((e,n)=>(0,xt.jsxs)("div",{className:"customer-card",children:[(0,xt.jsxs)("div",{className:"customer-position",children:["#",n+1]}),(0,xt.jsxs)("div",{className:"customer-info",children:[(0,xt.jsxs)("div",{className:"customer-main",children:[(0,xt.jsx)("h4",{children:e.name}),(0,xt.jsx)("p",{className:"customer-service",children:e.service}),(0,xt.jsxs)("div",{className:"customer-meta",children:[(0,xt.jsxs)("span",{className:"customer-time",children:["\ud83d\udd50 ",e.time]}),(0,xt.jsxs)("span",{className:"customer-duration",children:["\u23f1\ufe0f ",e.duration,"min"]}),(0,xt.jsxs)("span",{className:"customer-amount",children:["\ud83d\udcb0 \u20b9",e.amount]}),e.isPrepaid&&(0,xt.jsx)("span",{className:"prepaid-badge",children:"\u2705 Prepaid"}),"ongoing"===e.workStatus&&(0,xt.jsxs)("span",{className:"work-status",children:["\ud83d\udd27 Operator ",e.operatorId]})]})]}),(0,xt.jsx)("div",{className:"customer-contact",children:(0,xt.jsxs)("span",{className:"customer-phone",children:["\ud83d\udcde ",e.phone]})})]}),(0,xt.jsx)("div",{className:"customer-status",children:(0,xt.jsx)("span",{className:"status-badge ".concat(e.status.toLowerCase().replace(" ","-")),children:e.status})}),(0,xt.jsxs)("div",{className:"customer-actions",children:[n>0&&"waiting"===e.workStatus&&(0,xt.jsx)("button",{onClick:()=>(e=>{const t=d.findIndex(t=>t.id===e);if(t>0){const e=[...d];[e[t],e[t-1]]=[e[t-1],e[t]],h(e),wt.Ay.success("Customer moved up in queue!")}})(e.id),className:"action-btn move-up",title:"Move up in queue",children:"\u2b06\ufe0f"}),"waiting"===e.workStatus&&(0,xt.jsx)("button",{onClick:()=>(e=>{const t=R.find(e=>e.isAvailable);t?(h(n=>n.map(n=>n.id===e?(0,o.A)((0,o.A)({},n),{},{workStatus:"ongoing",status:"In Progress",operatorId:t.id}):n)),O(e=>e.map(e=>e.id===t.id?(0,o.A)((0,o.A)({},e),{},{isAvailable:!1}):e)),wt.Ay.success("Work started with ".concat(t.name))):wt.Ay.error("No staff available. Please wait for one to become free.")})(e.id),className:"action-btn start-work",title:"Start work",children:"\ud83d\udd27"}),"ongoing"===e.workStatus&&(0,xt.jsx)("button",{onClick:()=>(e=>{const t=d.find(t=>t.id===e);t&&t.operatorId&&(O(e=>e.map(e=>e.id===t.operatorId?(0,o.A)((0,o.A)({},e),{},{isAvailable:!0,todayBookings:e.todayBookings+1,todayRevenue:e.todayRevenue+t.amount*e.commission/100}):e)),A[t.name]?j(e=>(0,o.A)((0,o.A)({},e),{},{[t.name]:(0,o.A)((0,o.A)({},e[t.name]),{},{totalVisits:e[t.name].totalVisits+1,totalSpent:e[t.name].totalSpent+t.amount,lastVisit:(new Date).toISOString().split("T")[0],loyaltyPoints:e[t.name].loyaltyPoints+Math.floor(t.amount/100)})})):j(e=>(0,o.A)((0,o.A)({},e),{},{[t.name]:{totalVisits:1,totalSpent:t.amount,lastVisit:(new Date).toISOString().split("T")[0],loyaltyPoints:Math.floor(t.amount/100),preferredServices:[t.service],notes:"New customer"}}))),t&&t.isPrepaid?(h(t=>t.filter(t=>t.id!==e)),u(e=>(0,o.A)((0,o.A)({},e),{},{totalCustomers:e.totalCustomers+1,customersSatisfied:e.customersSatisfied+1})),wt.Ay.success("\u2705 Service completed for ".concat(t.name," (Prepaid)"))):(h(t=>t.map(t=>t.id===e?(0,o.A)((0,o.A)({},t),{},{workStatus:"completed",status:"Payment Pending"}):t)),wt.Ay.info("Service completed for ".concat(t.name,". Payment pending."))),l(e=>(0,o.A)((0,o.A)({},e),{},{currentQueue:Math.max(0,e.currentQueue-1),estimatedWaitTime:Math.max(5,e.estimatedWaitTime-5)}))})(e.id),className:"action-btn complete-work",title:"Complete work",children:"\u2705"}),"completed"===e.workStatus&&!e.isPrepaid&&(0,xt.jsx)("button",{onClick:()=>(e=>{h(t=>t.filter(t=>t.id!==e.id)),u(t=>(0,o.A)((0,o.A)({},t),{},{revenue:t.revenue+e.amount,totalCustomers:t.totalCustomers+1,customersSatisfied:t.customersSatisfied+1})),l(e=>(0,o.A)((0,o.A)({},e),{},{currentQueue:Math.max(0,e.currentQueue-1),estimatedWaitTime:Math.max(5,e.estimatedWaitTime-5)})),wt.Ay.success("\ud83d\udcb0 Payment received: \u20b9".concat(e.amount," from ").concat(e.name),{duration:4e3,style:{background:"#28a745",color:"white",fontWeight:"600"}}),r&&r.emit("payment-received",{salonId:t.salonId,customerId:e.id,customerName:e.name,amount:e.amount,service:e.service})})(e),className:"action-btn payment",title:"Payment Received",children:"\ud83d\udcb0"}),(0,xt.jsx)("button",{onClick:()=>((e,n)=>{const i=d.find(t=>t.id===e);r&&i&&r.emit("send-notification",{targetUserId:"customer_".concat(e),notification:{type:"info",message:n,salonName:t.name}}),wt.Ay.success("Notification sent to ".concat(null===i||void 0===i?void 0:i.name,"!"))})(e.id,"Your turn is coming up soon!"),className:"action-btn notify",title:"Send notification",children:"\ud83d\udd14"}),(0,xt.jsx)("button",{onClick:()=>{h(t=>t.filter(t=>t.id!==e.id)),D(-1),wt.Ay.success("Customer removed from queue")},className:"action-btn remove",title:"Remove from queue",children:"\u274c"})]})]},e.id))})]})]}),"appointments"===m&&(0,xt.jsxs)("div",{className:"appointments-tab",children:[(0,xt.jsx)("div",{className:"appointments-header",children:(0,xt.jsxs)("div",{className:"appointments-controls",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcc5 Appointment Management"}),(0,xt.jsxs)("div",{className:"date-selector",children:[(0,xt.jsx)("label",{children:"Select Date:"}),(0,xt.jsx)("input",{type:"date",value:E,onChange:e=>N(e.target.value)})]}),(0,xt.jsx)("button",{onClick:()=>S(!0),className:"add-appointment-btn primary",children:"+ Book Appointment"})]})}),(0,xt.jsxs)("div",{className:"appointments-content",children:[(0,xt.jsx)("div",{className:"appointments-summary",children:(0,xt.jsxs)("div",{className:"summary-card",children:[(0,xt.jsx)("h4",{children:"\ud83d\udcca Today's Summary"}),(0,xt.jsxs)("div",{className:"summary-stats",children:[(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsx)("span",{className:"stat-number",children:M().length}),(0,xt.jsx)("span",{className:"stat-label",children:"Total Appointments"})]}),(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsx)("span",{className:"stat-number",children:M().filter(e=>"confirmed"===e.status).length}),(0,xt.jsx)("span",{className:"stat-label",children:"Confirmed"})]}),(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsxs)("span",{className:"stat-number",children:["\u20b9",M().reduce((e,t)=>e+t.amount,0)]}),(0,xt.jsx)("span",{className:"stat-label",children:"Expected Revenue"})]})]})]})}),(0,xt.jsxs)("div",{className:"appointments-timeline",children:[(0,xt.jsxs)("h4",{children:["\ud83d\udd50 Schedule for ",new Date(E).toLocaleDateString()]}),0===M().length?(0,xt.jsxs)("div",{className:"no-appointments",children:[(0,xt.jsx)("div",{className:"empty-icon",children:"\ud83d\udcc5"}),(0,xt.jsx)("h4",{children:"No appointments scheduled"}),(0,xt.jsx)("p",{children:"Book your first appointment for this date!"})]}):(0,xt.jsx)("div",{className:"appointments-list",children:M().sort((e,t)=>e.time.localeCompare(t.time)).map(e=>{var t;return(0,xt.jsxs)("div",{className:"appointment-card",children:[(0,xt.jsxs)("div",{className:"appointment-time",children:[(0,xt.jsx)("div",{className:"time-display",children:e.time}),(0,xt.jsxs)("div",{className:"duration",children:[e.duration,"min"]})]}),(0,xt.jsxs)("div",{className:"appointment-details",children:[(0,xt.jsx)("h4",{children:e.customerName}),(0,xt.jsx)("p",{className:"service",children:e.service}),(0,xt.jsxs)("div",{className:"appointment-meta",children:[(0,xt.jsxs)("span",{className:"phone",children:["\ud83d\udcde ",e.customerPhone]}),(0,xt.jsxs)("span",{className:"amount",children:["\ud83d\udcb0 \u20b9",e.amount]}),(0,xt.jsxs)("span",{className:"staff",children:["\ud83d\udc68\u200d\ud83d\udcbc ",null===(t=R.find(t=>t.id===e.operatorId))||void 0===t?void 0:t.name]})]}),e.notes&&(0,xt.jsxs)("p",{className:"appointment-notes",children:["\ud83d\udcdd ",e.notes]})]}),(0,xt.jsx)("div",{className:"appointment-status",children:(0,xt.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})}),(0,xt.jsxs)("div",{className:"appointment-actions",children:[(0,xt.jsx)("button",{onClick:()=>{const t={id:Date.now(),name:e.customerName,service:e.service,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),status:"Waiting",phone:e.customerPhone,amount:e.amount,duration:e.duration,isPrepaid:!0,workStatus:"waiting",operatorId:null};h(e=>[...e,t]),wt.Ay.success("".concat(e.customerName," added to queue!"))},className:"action-btn add-to-queue",title:"Add to Queue",children:"\ud83d\udc65"}),(0,xt.jsx)("button",{onClick:()=>{return t=e.id,T(e=>e.filter(e=>e.id!==t)),void wt.Ay.success("Appointment cancelled successfully!");var t},className:"action-btn cancel",title:"Cancel Appointment",children:"\u274c"})]})]},e.id)})})]})]})]}),"staff"===m&&(0,xt.jsxs)("div",{className:"staff-tab",children:[(0,xt.jsxs)("div",{className:"staff-header",children:[(0,xt.jsx)("h3",{children:"\ud83d\udc68\u200d\ud83d\udcbc Staff Management"}),(0,xt.jsx)("button",{onClick:()=>_(!0),className:"add-staff-btn primary",children:"+ Add Staff Member"})]}),(0,xt.jsx)("div",{className:"staff-grid",children:R.map(e=>(0,xt.jsxs)("div",{className:"staff-card",children:[(0,xt.jsxs)("div",{className:"staff-header-info",children:[(0,xt.jsx)("div",{className:"staff-avatar",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,xt.jsxs)("div",{className:"staff-basic",children:[(0,xt.jsx)("h4",{children:e.name}),(0,xt.jsx)("p",{className:"staff-role",children:e.role}),(0,xt.jsx)("div",{className:"staff-status",children:(0,xt.jsx)("span",{className:"availability-badge ".concat(e.isAvailable?"available":"busy"),children:e.isAvailable?"\ud83d\udfe2 Available":"\ud83d\udd34 Busy"})})]})]}),(0,xt.jsxs)("div",{className:"staff-details",children:[(0,xt.jsxs)("div",{className:"staff-contact",children:[(0,xt.jsxs)("p",{children:["\ud83d\udcde ",e.phone]}),(0,xt.jsxs)("p",{children:["\ud83d\udce7 ",e.email]})]}),(0,xt.jsxs)("div",{className:"staff-info",children:[(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Experience:"}),(0,xt.jsx)("span",{className:"value",children:e.experience})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Rating:"}),(0,xt.jsxs)("span",{className:"value",children:["\u2b50 ",e.rating]})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Shift:"}),(0,xt.jsx)("span",{className:"value",children:e.shift})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Commission:"}),(0,xt.jsxs)("span",{className:"value",children:[e.commission,"%"]})]})]}),(0,xt.jsxs)("div",{className:"staff-specialties",children:[(0,xt.jsx)("h5",{children:"Specialties:"}),(0,xt.jsx)("div",{className:"specialties-tags",children:e.specialties.map(e=>(0,xt.jsx)("span",{className:"specialty-tag",children:e},e))})]}),(0,xt.jsxs)("div",{className:"staff-today-stats",children:[(0,xt.jsx)("h5",{children:"Today's Performance:"}),(0,xt.jsxs)("div",{className:"today-stats",children:[(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsx)("span",{className:"stat-number",children:e.todayBookings}),(0,xt.jsx)("span",{className:"stat-label",children:"Bookings"})]}),(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsxs)("span",{className:"stat-number",children:["\u20b9",e.todayRevenue]}),(0,xt.jsx)("span",{className:"stat-label",children:"Revenue"})]})]})]})]}),(0,xt.jsxs)("div",{className:"staff-actions",children:[(0,xt.jsx)("button",{onClick:()=>{O(t=>t.map(t=>t.id===e.id?(0,o.A)((0,o.A)({},t),{},{isAvailable:!t.isAvailable}):t)),wt.Ay.success("".concat(e.name," marked as ").concat(e.isAvailable?"busy":"available"))},className:"action-btn ".concat(e.isAvailable?"mark-busy":"mark-available"),children:e.isAvailable?"\ud83d\udd34 Mark Busy":"\ud83d\udfe2 Mark Available"}),(0,xt.jsx)("button",{onClick:()=>{return t=e.id,O(e=>e.filter(e=>e.id!==t)),void wt.Ay.success("Staff member removed successfully!");var t},className:"action-btn remove",children:"\ud83d\uddd1\ufe0f Remove"})]})]},e.id))})]}),"customers"===m&&(0,xt.jsxs)("div",{className:"customers-tab",children:[(0,xt.jsxs)("div",{className:"customers-header",children:[(0,xt.jsx)("h3",{children:"\ud83d\udc64 Customer Management & Loyalty"}),(0,xt.jsxs)("div",{className:"customers-stats",children:[(0,xt.jsxs)("div",{className:"customer-stat",children:[(0,xt.jsx)("span",{className:"stat-number",children:Object.keys(A).length}),(0,xt.jsx)("span",{className:"stat-label",children:"Total Customers"})]}),(0,xt.jsxs)("div",{className:"customer-stat",children:[(0,xt.jsxs)("span",{className:"stat-number",children:["\u20b9",Object.values(A).reduce((e,t)=>e+t.totalSpent,0)]}),(0,xt.jsx)("span",{className:"stat-label",children:"Total Revenue"})]})]})]}),(0,xt.jsx)("div",{className:"customers-list",children:Object.entries(A).map(e=>{let[t,n]=e;return(0,xt.jsxs)("div",{className:"customer-history-card",children:[(0,xt.jsxs)("div",{className:"customer-header",children:[(0,xt.jsx)("div",{className:"customer-avatar",children:t.split(" ").map(e=>e[0]).join("")}),(0,xt.jsxs)("div",{className:"customer-basic",children:[(0,xt.jsx)("h4",{children:t}),(0,xt.jsxs)("div",{className:"customer-loyalty",children:[(0,xt.jsxs)("span",{className:"loyalty-points",children:["\ud83c\udfc6 ",n.loyaltyPoints," points"]}),(0,xt.jsxs)("span",{className:"visit-count",children:["\ud83d\udc65 ",n.totalVisits," visits"]})]})]})]}),(0,xt.jsxs)("div",{className:"customer-details",children:[(0,xt.jsxs)("div",{className:"customer-stats",children:[(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsx)("span",{className:"label",children:"Total Spent:"}),(0,xt.jsxs)("span",{className:"value",children:["\u20b9",n.totalSpent]})]}),(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsx)("span",{className:"label",children:"Last Visit:"}),(0,xt.jsx)("span",{className:"value",children:new Date(n.lastVisit).toLocaleDateString()})]}),(0,xt.jsxs)("div",{className:"stat",children:[(0,xt.jsx)("span",{className:"label",children:"Avg per Visit:"}),(0,xt.jsxs)("span",{className:"value",children:["\u20b9",Math.round(n.totalSpent/n.totalVisits)]})]})]}),(0,xt.jsxs)("div",{className:"preferred-services",children:[(0,xt.jsx)("h5",{children:"Preferred Services:"}),(0,xt.jsx)("div",{className:"services-tags",children:n.preferredServices.map(e=>(0,xt.jsx)("span",{className:"service-tag",children:e},e))})]}),n.notes&&(0,xt.jsxs)("div",{className:"customer-notes",children:[(0,xt.jsx)("h5",{children:"Notes:"}),(0,xt.jsx)("p",{children:n.notes})]}),(0,xt.jsxs)("div",{className:"loyalty-rewards",children:[(0,xt.jsx)("h5",{children:"Available Rewards:"}),(0,xt.jsxs)("div",{className:"rewards-list",children:[n.loyaltyPoints>=100&&(0,xt.jsx)("span",{className:"reward-badge",children:"\ud83c\udf81 Free Service (100 pts)"}),n.loyaltyPoints>=50&&(0,xt.jsx)("span",{className:"reward-badge",children:"\ud83d\udcb0 10% Discount (50 pts)"}),n.loyaltyPoints>=25&&(0,xt.jsx)("span",{className:"reward-badge",children:"\u2615 Free Refreshment (25 pts)"}),n.loyaltyPoints<25&&(0,xt.jsx)("span",{className:"reward-badge inactive",children:"Earn more points for rewards"})]})]})]})]},t)})})]}),"inventory"===m&&(0,xt.jsxs)("div",{className:"inventory-tab",children:[(0,xt.jsxs)("div",{className:"inventory-header",children:[(0,xt.jsx)("h3",{children:"\ud83d\udce6 Inventory Management"}),(0,xt.jsx)("div",{className:"inventory-alerts",children:F().length>0&&(0,xt.jsxs)("div",{className:"low-stock-alert",children:["\u26a0\ufe0f ",F().length," items running low on stock!"]})})]}),(0,xt.jsx)("div",{className:"inventory-summary",children:(0,xt.jsxs)("div",{className:"inventory-stats",children:[(0,xt.jsxs)("div",{className:"inventory-stat",children:[(0,xt.jsx)("span",{className:"stat-number",children:I.length}),(0,xt.jsx)("span",{className:"stat-label",children:"Total Items"})]}),(0,xt.jsxs)("div",{className:"inventory-stat",children:[(0,xt.jsx)("span",{className:"stat-number",children:F().length}),(0,xt.jsx)("span",{className:"stat-label",children:"Low Stock"})]}),(0,xt.jsxs)("div",{className:"inventory-stat",children:[(0,xt.jsxs)("span",{className:"stat-number",children:["\u20b9",I.reduce((e,t)=>e+t.stock*t.price,0)]}),(0,xt.jsx)("span",{className:"stat-label",children:"Total Value"})]})]})}),(0,xt.jsx)("div",{className:"inventory-grid",children:I.map(e=>(0,xt.jsxs)("div",{className:"inventory-card ".concat(e.stock<=e.minStock?"low-stock":""),children:[(0,xt.jsxs)("div",{className:"item-header",children:[(0,xt.jsx)("h4",{children:e.name}),(0,xt.jsx)("span",{className:"item-category",children:e.category})]}),(0,xt.jsxs)("div",{className:"item-details",children:[(0,xt.jsxs)("div",{className:"stock-info",children:[(0,xt.jsxs)("div",{className:"stock-level",children:[(0,xt.jsx)("span",{className:"current-stock",children:e.stock}),(0,xt.jsx)("span",{className:"stock-label",children:"in stock"})]}),e.stock<=e.minStock&&(0,xt.jsxs)("div",{className:"low-stock-warning",children:["\u26a0\ufe0f Below minimum (",e.minStock,")"]})]}),(0,xt.jsxs)("div",{className:"item-info",children:[(0,xt.jsxs)("div",{className:"info-row",children:[(0,xt.jsx)("span",{className:"label",children:"Price:"}),(0,xt.jsxs)("span",{className:"value",children:["\u20b9",e.price]})]}),(0,xt.jsxs)("div",{className:"info-row",children:[(0,xt.jsx)("span",{className:"label",children:"Supplier:"}),(0,xt.jsx)("span",{className:"value",children:e.supplier})]}),(0,xt.jsxs)("div",{className:"info-row",children:[(0,xt.jsx)("span",{className:"label",children:"Total Value:"}),(0,xt.jsxs)("span",{className:"value",children:["\u20b9",e.stock*e.price]})]})]})]}),(0,xt.jsxs)("div",{className:"item-actions",children:[(0,xt.jsxs)("div",{className:"stock-controls",children:[(0,xt.jsx)("button",{onClick:()=>L(e.id,Math.max(0,e.stock-1)),className:"stock-btn decrease",children:"-"}),(0,xt.jsx)("span",{className:"stock-display",children:e.stock}),(0,xt.jsx)("button",{onClick:()=>L(e.id,e.stock+1),className:"stock-btn increase",children:"+"})]}),e.stock<=e.minStock&&(0,xt.jsx)("button",{onClick:()=>{L(e.id,e.minStock+10),wt.Ay.success("Restocked ".concat(e.name,"!"))},className:"restock-btn",children:"\ud83d\udce6 Restock"})]})]},e.id))})]}),"services"===m&&(0,xt.jsxs)("div",{className:"services-tab",children:[(0,xt.jsxs)("div",{className:"services-header",children:[(0,xt.jsx)("h3",{children:"\ud83d\udc87 Service Management"}),(0,xt.jsx)("button",{onClick:()=>y(!0),className:"add-service-btn primary",children:"+ Add New Service"})]}),(0,xt.jsx)("div",{className:"services-grid",children:a.services.map(e=>(0,xt.jsxs)("div",{className:"service-card",children:[(0,xt.jsxs)("div",{className:"service-header",children:[(0,xt.jsx)("h4",{children:e.name}),(0,xt.jsx)("span",{className:"service-category",children:e.category})]}),(0,xt.jsxs)("div",{className:"service-details",children:[(0,xt.jsxs)("div",{className:"service-detail",children:[(0,xt.jsx)("span",{className:"label",children:"Duration:"}),(0,xt.jsxs)("span",{className:"value",children:[e.duration," min"]})]}),(0,xt.jsxs)("div",{className:"service-detail",children:[(0,xt.jsx)("span",{className:"label",children:"Price:"}),(0,xt.jsxs)("span",{className:"value",children:["\u20b9",e.price]})]})]}),(0,xt.jsxs)("div",{className:"service-actions",children:[(0,xt.jsx)("button",{onClick:()=>{w(e),y(!0)},className:"service-action-btn edit",children:"\u270f\ufe0f Edit"}),(0,xt.jsx)("button",{onClick:()=>{return t=e.id,l(e=>(0,o.A)((0,o.A)({},e),{},{services:e.services.filter(e=>e.id!==t)})),void wt.Ay.success("Service deleted successfully!");var t},className:"service-action-btn delete",children:"\ud83d\uddd1\ufe0f Delete"})]})]},e.id))})]}),"analytics"===m&&(0,xt.jsxs)("div",{className:"analytics-tab",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcc8 Business Analytics"}),(0,xt.jsxs)("div",{className:"analytics-grid",children:[(0,xt.jsxs)("div",{className:"analytics-card",children:[(0,xt.jsx)("h4",{children:"\ud83d\udcca Revenue Trends"}),(0,xt.jsx)("div",{className:"revenue-chart",children:(0,xt.jsxs)("div",{className:"chart-placeholder",children:[(0,xt.jsxs)("p",{children:["Daily Revenue: \u20b9",c.revenue]}),(0,xt.jsxs)("p",{children:["Weekly Average: \u20b9",Math.round(6.2*c.revenue)]}),(0,xt.jsxs)("p",{children:["Monthly Target: \u20b9",Math.round(28*c.revenue)]})]})})]}),(0,xt.jsxs)("div",{className:"analytics-card",children:[(0,xt.jsx)("h4",{children:"\ud83d\udc65 Customer Analytics"}),(0,xt.jsxs)("div",{className:"customer-analytics",children:[(0,xt.jsxs)("div",{className:"metric",children:[(0,xt.jsx)("span",{className:"metric-label",children:"Peak Hours:"}),(0,xt.jsx)("span",{className:"metric-value",children:"2:00 PM - 4:00 PM"})]}),(0,xt.jsxs)("div",{className:"metric",children:[(0,xt.jsx)("span",{className:"metric-label",children:"Popular Service:"}),(0,xt.jsx)("span",{className:"metric-value",children:"Haircut & Styling"})]}),(0,xt.jsxs)("div",{className:"metric",children:[(0,xt.jsx)("span",{className:"metric-label",children:"Customer Satisfaction:"}),(0,xt.jsx)("span",{className:"metric-value",children:"4.8/5 \u2b50"})]})]})]}),(0,xt.jsxs)("div",{className:"analytics-card",children:[(0,xt.jsx)("h4",{children:"\u23f1\ufe0f Time Analytics"}),(0,xt.jsxs)("div",{className:"time-analytics",children:[(0,xt.jsxs)("div",{className:"metric",children:[(0,xt.jsx)("span",{className:"metric-label",children:"Avg Service Time:"}),(0,xt.jsxs)("span",{className:"metric-value",children:[Math.round(a.services.reduce((e,t)=>e+t.duration,0)/a.services.length)," min"]})]}),(0,xt.jsxs)("div",{className:"metric",children:[(0,xt.jsx)("span",{className:"metric-label",children:"Queue Efficiency:"}),(0,xt.jsx)("span",{className:"metric-value",children:"92%"})]}),(0,xt.jsxs)("div",{className:"metric",children:[(0,xt.jsx)("span",{className:"metric-label",children:"No-show Rate:"}),(0,xt.jsx)("span",{className:"metric-value",children:"3%"})]})]})]})]})]}),"settings"===m&&(0,xt.jsxs)("div",{className:"settings-tab",children:[(0,xt.jsx)("h3",{children:"\u2699\ufe0f Salon Settings"}),(0,xt.jsxs)("div",{className:"settings-sections",children:[(0,xt.jsxs)("div",{className:"settings-section",children:[(0,xt.jsx)("h4",{children:"\ud83c\udfea Salon Information"}),(0,xt.jsxs)("div",{className:"setting-item",children:[(0,xt.jsx)("label",{children:"Salon Name:"}),(0,xt.jsx)("input",{type:"text",defaultValue:t.name})]}),(0,xt.jsxs)("div",{className:"setting-item",children:[(0,xt.jsx)("label",{children:"Contact Number:"}),(0,xt.jsx)("input",{type:"tel",defaultValue:"+91 98765 43210"})]}),(0,xt.jsxs)("div",{className:"setting-item",children:[(0,xt.jsx)("label",{children:"Address:"}),(0,xt.jsx)("textarea",{defaultValue:"123 Beauty Street, Fashion District, Mumbai 400001"})]})]}),(0,xt.jsxs)("div",{className:"settings-section",children:[(0,xt.jsx)("h4",{children:"\u23f0 Operating Hours"}),(0,xt.jsx)("div",{className:"hours-grid",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(e=>(0,xt.jsxs)("div",{className:"day-hours",children:[(0,xt.jsxs)("span",{className:"day-label",children:[e,":"]}),(0,xt.jsx)("input",{type:"time",defaultValue:"09:00"}),(0,xt.jsx)("span",{children:"to"}),(0,xt.jsx)("input",{type:"time",defaultValue:"20:00"})]},e))})]}),(0,xt.jsxs)("div",{className:"settings-section",children:[(0,xt.jsx)("h4",{children:"\ud83d\udd14 Notifications"}),(0,xt.jsxs)("div",{className:"notification-settings",children:[(0,xt.jsxs)("label",{className:"setting-toggle",children:[(0,xt.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,xt.jsx)("span",{children:"Email notifications for new bookings"})]}),(0,xt.jsxs)("label",{className:"setting-toggle",children:[(0,xt.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,xt.jsx)("span",{children:"SMS alerts for queue updates"})]}),(0,xt.jsxs)("label",{className:"setting-toggle",children:[(0,xt.jsx)("input",{type:"checkbox"}),(0,xt.jsx)("span",{children:"Push notifications on mobile"})]})]})]})]}),(0,xt.jsxs)("div",{className:"settings-actions",children:[(0,xt.jsx)("button",{className:"save-settings-btn",children:"\ud83d\udcbe Save Settings"}),(0,xt.jsx)("button",{className:"reset-settings-btn",children:"\ud83d\udd04 Reset to Default"})]})]})]}),v&&(0,xt.jsx)($n,{service:b,onSave:b?e=>{return t=b.id,n=e,l(e=>(0,o.A)((0,o.A)({},e),{},{services:e.services.map(e=>e.id===t?(0,o.A)((0,o.A)({},e),n):e)})),wt.Ay.success("Service updated successfully!"),y(!1),void w(null);var t,n}:e=>{const t=(0,o.A)({id:Date.now()},e);l(e=>(0,o.A)((0,o.A)({},e),{},{services:[...e.services,t]})),wt.Ay.success("Service added successfully!"),y(!1)},onClose:()=>{y(!1),w(null)}}),x&&(0,xt.jsx)(Xn,{onSave:e=>{const t=(0,o.A)((0,o.A)({id:Date.now()},e),{},{status:"confirmed"});T(e=>[...e,t]),wt.Ay.success("Appointment booked for ".concat(e.customerName,"!")),S(!1)},onClose:()=>S(!1),services:a.services,staff:R}),k&&(0,xt.jsx)(Zn,{onSave:e=>{const t=(0,o.A)((0,o.A)({id:Date.now()},e),{},{isAvailable:!0,todayBookings:0,todayRevenue:0,rating:4});O(e=>[...e,t]),wt.Ay.success("".concat(e.name," added to staff!")),_(!1)},onClose:()=>_(!1)})]})};var tr=n(96),nr=n(667),rr=n(420);const ir=new class{constructor(){this.apiKey="AIzaSyB-whEHfL1hCxfDTrgOUHiMv636vZX3rBs",this.cache=new Map,this.cacheTimeout=3e5}isGooglePlacesAvailable(){return!!(window.google&&window.google.maps&&window.google.maps.places)}async getGoogleReviews(e){try{const t=this.cache.get(e);if(t&&Date.now()-t.timestamp<this.cacheTimeout)return console.log("\ud83d\udce6 Using cached Google reviews for",e),t.reviews;if(!this.isGooglePlacesAvailable())return console.warn("\u26a0\ufe0f Google Places API not available"),[];console.log("\ud83d\udd0d Fetching Google reviews for place:",e);const n=new window.google.maps.places.PlacesService(document.createElement("div"));return new Promise((t,r)=>{n.getDetails({placeId:e,fields:["reviews","rating","user_ratings_total","name","formatted_address"]},(n,r)=>{if(r===window.google.maps.places.PlacesServiceStatus.OK)if(n.reviews&&n.reviews.length>0){console.log("\u2705 Loaded",n.reviews.length,"Google reviews for",n.name);const r=n.reviews.map(t=>({id:"google_".concat(t.time,"_").concat(t.author_name),author_name:t.author_name,rating:t.rating,text:t.text,time:1e3*t.time,profile_photo_url:t.profile_photo_url,relative_time_description:t.relative_time_description,source:"google",place_id:e,place_name:n.name}));this.cache.set(e,{reviews:r,timestamp:Date.now()}),t(r)}else console.log("\ud83d\udcdd No Google reviews available for",n.name),t([]);else r===window.google.maps.places.PlacesServiceStatus.REQUEST_DENIED?(console.error("\u274c Google Places API request denied. Check API key and billing."),t([])):r===window.google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?(console.error("\u274c Google Places API quota exceeded."),t([])):(console.error("\u274c Failed to fetch Google reviews:",r),t([]))})})}catch(t){return console.error("\u274c Error fetching Google reviews:",t),[]}}getInAppReviews(e){try{const t=localStorage.getItem("in_app_reviews_".concat(e));if(t){const n=JSON.parse(t);return console.log("\ud83d\udcf1 Loaded",n.length,"in-app reviews for",e),n.map(t=>(0,o.A)((0,o.A)({},t),{},{source:"in_app",place_id:e}))}return[]}catch(t){return console.error("\u274c Error loading in-app reviews:",t),[]}}saveInAppReview(e,t){try{const n=this.getInAppReviews(e),r={id:"in_app_".concat(Date.now(),"_").concat(t.author_name),author_name:t.author_name,rating:t.rating,text:t.text,time:Date.now(),profile_photo_url:null,relative_time_description:"Just now",services:t.services||[],source:"in_app",place_id:e},i=[...n,r];return localStorage.setItem("in_app_reviews_".concat(e),JSON.stringify(i)),console.log("\ud83d\udcbe Saved in-app review for",e),r}catch(n){throw console.error("\u274c Error saving in-app review:",n),n}}async getAllReviews(e){try{const[t,n]=await Promise.all([this.getGoogleReviews(e),Promise.resolve(this.getInAppReviews(e))]),r=[...t,...n].sort((e,t)=>t.time-e.time);return console.log("\ud83d\udcca Total reviews for",e,":",r.length,"(Google:",t.length,", In-app:",n.length,")"),{reviews:r,googleCount:t.length,inAppCount:n.length,totalCount:r.length}}catch(t){return console.error("\u274c Error getting all reviews:",t),{reviews:[],googleCount:0,inAppCount:0,totalCount:0}}}getReviewStats(e){if(0===e.length)return{averageRating:0,totalReviews:0,ratingDistribution:{5:0,4:0,3:0,2:0,1:0}};const t=e.reduce((e,t)=>e+t.rating,0)/e.length,n=e.reduce((e,t)=>(e[t.rating]=(e[t.rating]||0)+1,e),{5:0,4:0,3:0,2:0,1:0});return{averageRating:Math.round(10*t)/10,totalReviews:e.length,ratingDistribution:n}}formatReviewDate(e){const t=Date.now()-e;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):t<6048e5?"".concat(Math.floor(t/864e5),"d ago"):new Date(e).toLocaleDateString()}clearCache(){this.cache.clear(),console.log("\ud83d\uddd1\ufe0f Google reviews cache cleared")}},sr=e=>{let{salon:t,onClose:n,onJoinQueue:r,services:s}=e;const[a,l]=(0,i.useState)(1),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)({name:"",phone:"",email:"",notificationPreference:"both"}),f=()=>c.reduce((e,t)=>e+t.price,0),p=()=>c.reduce((e,t)=>e+t.duration,0);return(0,xt.jsx)("div",{className:"queue-modal-overlay",children:(0,xt.jsxs)("div",{className:"queue-modal",children:[(0,xt.jsxs)("div",{className:"queue-modal-header",children:[(0,xt.jsxs)("h2",{children:["Join Queue - ",t.name]}),(0,xt.jsx)("button",{className:"close-btn",onClick:n,children:"\xd7"})]}),(0,xt.jsxs)("div",{className:"queue-modal-steps",children:[(0,xt.jsxs)("div",{className:"step ".concat(a>=1?"active":""),children:[(0,xt.jsx)("span",{children:"1"})," Services"]}),(0,xt.jsxs)("div",{className:"step ".concat(a>=2?"active":""),children:[(0,xt.jsx)("span",{children:"2"})," Details"]}),(0,xt.jsxs)("div",{className:"step ".concat(a>=3?"active":""),children:[(0,xt.jsx)("span",{children:"3"})," Payment"]})]}),(0,xt.jsx)("div",{className:"queue-modal-content",children:(0,xt.jsxs)("div",{className:"services-tab",children:[1===a&&(0,xt.jsxs)("div",{className:"service-selection",children:[(0,xt.jsx)("h3",{children:"Select Services"}),(0,xt.jsx)("div",{className:"services-grid",children:s.map(e=>(0,xt.jsxs)("div",{className:"service-card ".concat(c.find(t=>t.id===e.id)?"selected":""),onClick:()=>(e=>{const t=c.find(t=>t.id===e.id);u(t?c.filter(t=>t.id!==e.id):[...c,e])})(e),children:[(0,xt.jsxs)("div",{className:"service-info",children:[(0,xt.jsx)("h4",{children:e.name}),(0,xt.jsx)("p",{className:"service-description",children:e.description}),(0,xt.jsxs)("div",{className:"service-meta",children:[(0,xt.jsxs)("span",{className:"duration",children:["\u23f1\ufe0f ",e.duration," min"]}),(0,xt.jsxs)("span",{className:"price",children:["\u20b9",e.price]})]})]}),(0,xt.jsx)("div",{className:"service-checkbox",children:c.find(t=>t.id===e.id)?"\u2705":"\u2b55"})]},e.id))}),c.length>0&&(0,xt.jsxs)("div",{className:"selection-summary",children:[(0,xt.jsxs)("div",{className:"summary-info",children:[(0,xt.jsxs)("p",{children:[(0,xt.jsx)("strong",{children:"Selected:"})," ",c.length," service(s)"]}),(0,xt.jsxs)("p",{children:[(0,xt.jsx)("strong",{children:"Total Duration:"})," ",p()," minutes"]}),(0,xt.jsxs)("p",{children:[(0,xt.jsx)("strong",{children:"Total Amount:"})," \u20b9",f()]})]}),(0,xt.jsx)("button",{className:"continue-btn",onClick:()=>{0!==c.length?l(2):wt.Ay.error("Please select at least one service")},children:"Continue to Details"})]})]}),2===a&&(0,xt.jsxs)("div",{className:"customer-details",children:[(0,xt.jsx)("h3",{children:"Your Details"}),(0,xt.jsxs)("div",{className:"form-grid",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Full Name *"}),(0,xt.jsx)("input",{type:"text",value:d.name,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{name:e.target.value})),placeholder:"Enter your full name"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",value:d.phone,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{phone:e.target.value})),placeholder:"Enter your phone number"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Email (Optional)"}),(0,xt.jsx)("input",{type:"email",value:d.email,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{email:e.target.value})),placeholder:"Enter your email for updates"})]}),(0,xt.jsxs)("div",{className:"form-group full-width",children:[(0,xt.jsx)("label",{children:"Notification Preference"}),(0,xt.jsxs)("select",{value:d.notificationPreference,onChange:e=>h((0,o.A)((0,o.A)({},d),{},{notificationPreference:e.target.value})),children:[(0,xt.jsx)("option",{value:"both",children:"\ud83d\udcf1 SMS + \ud83d\udd14 Push Notifications"}),(0,xt.jsx)("option",{value:"sms",children:"\ud83d\udcf1 SMS Only"}),(0,xt.jsx)("option",{value:"push",children:"\ud83d\udd14 Push Notifications Only"})]})]})]}),(0,xt.jsxs)("div",{className:"booking-summary",children:[(0,xt.jsx)("h4",{children:"Queue Summary"}),(0,xt.jsxs)("div",{className:"summary-details",children:[(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{children:"Current Queue:"}),(0,xt.jsxs)("span",{children:[t.queueLength," people"]})]}),(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{children:"Your Position:"}),(0,xt.jsxs)("span",{children:["#",t.queueLength+1]})]}),(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{children:"Wait Time:"}),(0,xt.jsxs)("span",{children:["~",t.waitTime," min"]})]}),c.map(e=>(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{children:e.name}),(0,xt.jsxs)("span",{children:["\u20b9",e.price]})]},e.id)),(0,xt.jsx)("div",{className:"summary-total",children:(0,xt.jsxs)("strong",{children:["Total: \u20b9",f()]})})]})]}),(0,xt.jsxs)("div",{className:"booking-actions",children:[(0,xt.jsx)("button",{className:"back-btn",onClick:()=>l(1),children:"\u2190 Back to Services"}),(0,xt.jsx)("div",{className:"pay-button-container",children:(0,xt.jsxs)("button",{className:"pay-now-btn",onClick:async()=>{if(!d.name||!d.phone)return void wt.Ay.error("Please fill in all required details");const e=(0,o.A)((0,o.A)({},d),{},{selectedServices:c,totalAmount:f(),totalDuration:p(),salonName:t.name,salonId:t.id});try{const t=await(0,tr.ex)(e);if(t&&t.success){const n=(0,o.A)((0,o.A)({},e),{},{paymentId:t.paymentData.razorpay_payment_id});wt.Ay.success("Payment successful! Welcome to the queue!"),await r(n)}}catch(n){console.error("Payment or queue join failed:",n),wt.Ay.error(n.message||"Payment failed. Please try again.")}},children:["Pay \u20b9",f()]})})]})]})]})})]})})},or=e=>{let{salon:t}=e;const[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!1),a=()=>{const e=["011","022","033","044","080","040","020","079"],t=e[Math.floor(Math.random()*e.length)],n=Math.floor(9e7*Math.random())+1e7;return"+91-".concat(t,"-").concat(n.toString().substring(0,4),"-").concat(n.toString().substring(4))};return(0,xt.jsx)("button",{className:"call-btn",onClick:async()=>{if(n)window.open("tel:".concat(n),"_self");else{o(!0);try{if(window.google&&window.google.maps&&window.google.maps.places){const e=new window.google.maps.places.PlacesService(document.createElement("div")),n={placeId:t.place_id,fields:["formatted_phone_number","international_phone_number"]};e.getDetails(n,(e,n)=>{if(o(!1),n===window.google.maps.places.PlacesServiceStatus.OK&&e.formatted_phone_number)console.log("\u2705 Found real phone number:",e.formatted_phone_number),r(e.formatted_phone_number),window.open("tel:".concat(e.formatted_phone_number),"_self");else{console.log("\u26a0\ufe0f No phone number available from Google Places");const e=a();r(e),wt.Ay.success("Calling ".concat(t.name,": ").concat(e)),window.open("tel:".concat(e),"_self")}})}else{const e=a();r(e),wt.Ay.success("Calling ".concat(t.name,": ").concat(e)),window.open("tel:".concat(e),"_self"),o(!1)}}catch(e){console.error("Failed to fetch phone number:",e);const n=a();r(n),wt.Ay.success("Calling ".concat(t.name,": ").concat(n)),window.open("tel:".concat(n),"_self"),o(!1)}}},disabled:s,children:s?(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsx)("div",{className:"spinner small"}),"Getting Number..."]}):(0,xt.jsxs)(xt.Fragment,{children:["\ud83d\udcde Call Salon",n&&(0,xt.jsx)("span",{className:"phone-preview",children:n})]})})},ar=e=>{let{salon:t}=e;return(0,xt.jsx)("button",{className:"directions-btn",onClick:()=>{const e=encodeURIComponent("".concat(t.name,", ").concat(t.vicinity)),n="https://www.google.com/maps/dir/?api=1&destination=".concat(e,"&destination_place_id=").concat(t.place_id);window.open(n,"_blank"),wt.Ay.success("Opening directions in Google Maps...")},children:"\ud83d\uddfa\ufe0f Get Directions"})},lr=e=>{var t,r,s,a;let{salon:l,onClose:c,onBookingComplete:u,initialTab:d="overview"}=e;const[h,f]=(0,i.useState)(d),[p,m]=(0,i.useState)([]),[g,v]=(0,i.useState)(1),[y,b]=(0,i.useState)({name:"",email:"",phone:"",preferredTime:"",specialRequests:""}),[w,x]=(0,i.useState)(!1),[S]=(0,i.useState)(()=>"customer_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))),{queueData:k,customerStatus:_,isConnected:E,joinQueue:N,leaveQueue:C,isCustomerInQueue:T,customerPosition:A,estimatedWaitTime:j}=Yn(l.place_id,"customer",S),I=(e=>{const t={"Beauty Salon":[{id:1,name:"Haircut & Styling",duration:45,price:500,description:"Professional haircut with styling"},{id:2,name:"Hair Wash & Blow Dry",duration:30,price:300,description:"Deep cleansing and styling"},{id:3,name:"Facial Treatment",duration:60,price:800,description:"Deep cleansing facial with mask"},{id:4,name:"Eyebrow Threading",duration:15,price:150,description:"Precise eyebrow shaping"},{id:5,name:"Manicure",duration:45,price:400,description:"Complete nail care and polish"},{id:6,name:"Pedicure",duration:60,price:600,description:"Foot care and nail polish"}],"Barber Shop":[{id:1,name:"Classic Haircut",duration:30,price:300,description:"Traditional men's haircut"},{id:2,name:"Beard Trim & Style",duration:20,price:200,description:"Professional beard grooming"},{id:3,name:"Hot Towel Shave",duration:30,price:350,description:"Traditional wet shave experience"},{id:4,name:"Hair Wash & Style",duration:25,price:250,description:"Shampoo and styling"},{id:5,name:"Mustache Trim",duration:10,price:100,description:"Precise mustache grooming"}],"Spa & Salon":[{id:1,name:"Luxury Haircut",duration:60,price:800,description:"Premium haircut with consultation"},{id:2,name:"Deep Tissue Massage",duration:90,price:1500,description:"Therapeutic full body massage"},{id:3,name:"Aromatherapy Facial",duration:75,price:1200,description:"Relaxing facial with essential oils"},{id:4,name:"Body Spa Package",duration:120,price:2500,description:"Complete body treatment"},{id:5,name:"Hair Spa Treatment",duration:90,price:1e3,description:"Deep conditioning hair treatment"}],"Unisex Salon":[{id:1,name:"Haircut (Men/Women)",duration:45,price:400,description:"Professional unisex haircut"},{id:2,name:"Hair Coloring",duration:120,price:1200,description:"Professional hair coloring service"},{id:3,name:"Facial Treatment",duration:60,price:700,description:"Suitable for all skin types"},{id:4,name:"Threading & Waxing",duration:30,price:300,description:"Hair removal services"},{id:5,name:"Bridal Package",duration:180,price:3e3,description:"Complete bridal makeover"}]};return t[e.type]||t["Beauty Salon"]})(l),P=()=>p.reduce((e,t)=>e+t.price,0),R=()=>p.reduce((e,t)=>e+t.duration,0);return i.useEffect(()=>{const e=JSON.parse(localStorage.getItem("queueStatus")||"{}");e.salonId===l.place_id&&e.customerId},[l.place_id]),(0,xt.jsx)("div",{className:"salon-details-overlay",children:(0,xt.jsxs)("div",{className:"salon-details-modal",children:[(0,xt.jsxs)("div",{className:"salon-details-header",children:[(0,xt.jsx)("button",{className:"close-btn",onClick:c,children:"\xd7"}),(0,xt.jsxs)("div",{className:"salon-header-info",children:[(0,xt.jsx)("h2",{children:l.name}),(0,xt.jsx)("p",{className:"salon-type",children:l.type}),(0,xt.jsx)("p",{className:"salon-address",children:l.vicinity}),(0,xt.jsx)("div",{className:"ac-tag",children:"\u2744\ufe0f In-Shop AC"}),(0,xt.jsxs)("div",{className:"salon-meta",children:[(0,xt.jsxs)("span",{className:"rating",children:["\u2b50 ",l.rating]}),(0,xt.jsxs)("span",{className:"distance",children:["\ud83d\udccd ",l.distance<1?"".concat(Math.round(1e3*l.distance),"m"):"".concat(l.distance.toFixed(1),"km")," away"]}),(0,xt.jsx)("span",{className:"status ".concat(null!==(t=l.opening_hours)&&void 0!==t&&t.open_now?"open":"closed"),children:null!==(r=l.opening_hours)&&void 0!==r&&r.open_now?"\ud83d\udfe2 Open":"\ud83d\udd34 Closed"})]})]})]}),(0,xt.jsxs)("div",{className:"salon-details-tabs",children:[(0,xt.jsx)("button",{className:"tab ".concat("joinQueue"===h?"active":""),onClick:()=>f("joinQueue"),children:"Join Queue"}),(0,xt.jsx)("button",{className:"tab ".concat("bookAppointment"===h?"active":""),onClick:()=>f("bookAppointment"),children:"Book Appointment"}),(0,xt.jsx)("button",{className:"tab ".concat("moreInfo"===h?"active":""),onClick:()=>f("moreInfo"),children:"More Info"})]}),(0,xt.jsxs)("div",{className:"salon-details-content",children:["joinQueue"===h&&(0,xt.jsxs)("div",{className:"overview-tab",children:[(0,xt.jsxs)("div",{className:"salon-info-grid",children:[(0,xt.jsxs)("div",{className:"info-card",children:[(0,xt.jsx)("h3",{children:"\ud83d\udccd Location"}),(0,xt.jsx)("p",{children:l.formatted_address||l.vicinity})]}),(0,xt.jsxs)("div",{className:"info-card",children:[(0,xt.jsx)("h3",{children:"\u23f0 Current Status"}),(0,xt.jsxs)("p",{children:["Queue: ",k.currentQueue||l.queueLength," people"]}),(0,xt.jsxs)("p",{children:["Wait time: ~",k.estimatedWaitTime||l.waitTime," minutes"]}),E&&(0,xt.jsx)("p",{className:"live-indicator",children:"\ud83d\udd34 Live Updates"})]}),(0,xt.jsxs)("div",{className:"info-card",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcb0 Price Range"}),(0,xt.jsxs)("p",{children:["\u20b9".repeat(l.price_level||2)," Budget-friendly"]})]}),(0,xt.jsxs)("div",{className:"info-card",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcde Contact"}),(0,xt.jsx)("p",{children:"Call for appointments"}),(0,xt.jsx)("p",{children:"Walk-ins welcome"})]})]}),(0,xt.jsxs)("div",{className:"quick-book-section",children:[(0,xt.jsx)("h3",{children:"Quick Actions"}),(0,xt.jsxs)("div",{className:"quick-actions",children:[(0,xt.jsx)("button",{className:"quick-book-btn",onClick:()=>f("services"),children:"\ud83d\udcc5 Book Appointment"}),(0,xt.jsxs)("button",{className:"join-queue-btn",onClick:()=>{x(!0)},children:["\ud83d\udeb6\u200d\u2642\ufe0f Join Live Queue (",k.currentQueue||l.queueLength," people)"]}),(0,xt.jsx)(or,{salon:l}),(0,xt.jsx)(ar,{salon:l})]})]})]}),"bookAppointment"===h&&(0,xt.jsxs)("div",{className:"services-tab",children:[1===g&&(0,xt.jsxs)("div",{className:"service-selection",children:[(0,xt.jsx)("h3",{children:"Select Services"}),(0,xt.jsx)("div",{className:"services-grid",children:I.map(e=>(0,xt.jsxs)("div",{className:"service-card ".concat(p.find(t=>t.id===e.id)?"selected":""),onClick:()=>(e=>{const t=p.find(t=>t.id===e.id);m(t?p.filter(t=>t.id!==e.id):[...p,e])})(e),children:[(0,xt.jsxs)("div",{className:"service-info",children:[(0,xt.jsx)("h4",{children:e.name}),(0,xt.jsx)("p",{className:"service-description",children:e.description}),(0,xt.jsxs)("div",{className:"service-meta",children:[(0,xt.jsxs)("span",{className:"duration",children:["\u23f1\ufe0f ",e.duration," min"]}),(0,xt.jsxs)("span",{className:"price",children:["\u20b9",e.price]})]})]}),(0,xt.jsx)("div",{className:"service-checkbox",children:p.find(t=>t.id===e.id)?"\u2705":"\u2b55"})]},e.id))}),p.length>0&&(0,xt.jsxs)("div",{className:"selection-summary",children:[(0,xt.jsxs)("div",{className:"summary-info",children:[(0,xt.jsxs)("p",{children:[(0,xt.jsx)("strong",{children:"Selected:"})," ",p.length," service(s)"]}),(0,xt.jsxs)("p",{children:[(0,xt.jsx)("strong",{children:"Total Duration:"})," ",R()," minutes"]}),(0,xt.jsxs)("p",{children:[(0,xt.jsx)("strong",{children:"Total Amount:"})," \u20b9",P()]})]}),(0,xt.jsx)("button",{className:"continue-btn",onClick:()=>v(2),children:"Continue to Details"})]})]}),2===g&&(0,xt.jsxs)("div",{className:"customer-details",children:[(0,xt.jsx)("h3",{children:"Your Details"}),(0,xt.jsxs)("div",{className:"form-grid",children:[(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Full Name *"}),(0,xt.jsx)("input",{type:"text",value:y.name,onChange:e=>b((0,o.A)((0,o.A)({},y),{},{name:e.target.value})),placeholder:"Enter your full name"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Email *"}),(0,xt.jsx)("input",{type:"email",value:y.email,onChange:e=>b((0,o.A)((0,o.A)({},y),{},{email:e.target.value})),placeholder:"Enter your email"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",value:y.phone,onChange:e=>b((0,o.A)((0,o.A)({},y),{},{phone:e.target.value})),placeholder:"Enter your phone number"})]}),(0,xt.jsxs)("div",{className:"form-group",children:[(0,xt.jsx)("label",{children:"Preferred Time *"}),(0,xt.jsxs)("select",{value:y.preferredTime,onChange:e=>b((0,o.A)((0,o.A)({},y),{},{preferredTime:e.target.value})),children:[(0,xt.jsx)("option",{value:"",children:"Select time slot"}),["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM"].map(e=>(0,xt.jsx)("option",{value:e,children:e},e))]})]}),(0,xt.jsxs)("div",{className:"form-group full-width",children:[(0,xt.jsx)("label",{children:"Special Requests (Optional)"}),(0,xt.jsx)("textarea",{value:y.specialRequests,onChange:e=>b((0,o.A)((0,o.A)({},y),{},{specialRequests:e.target.value})),placeholder:"Any special requests or preferences...",rows:"3"})]})]}),(0,xt.jsxs)("div",{className:"booking-summary",children:[(0,xt.jsx)("h4",{children:"Booking Summary"}),(0,xt.jsxs)("div",{className:"summary-details",children:[p.map(e=>(0,xt.jsxs)("div",{className:"summary-item",children:[(0,xt.jsx)("span",{children:e.name}),(0,xt.jsxs)("span",{children:["\u20b9",e.price]})]},e.id)),(0,xt.jsx)("div",{className:"summary-total",children:(0,xt.jsxs)("strong",{children:["Total: \u20b9",P()]})})]})]}),(0,xt.jsxs)("div",{className:"booking-actions",children:[(0,xt.jsx)("button",{className:"back-btn",onClick:()=>v(1),children:"\u2190 Back to Services"}),(0,xt.jsxs)("button",{className:"pay-now-btn",onClick:async()=>{if(0!==p.length)if(y.name&&y.email&&y.phone)if(y.preferredTime)try{const t={id:"booking_".concat(Date.now()),salonId:l.place_id,salonName:l.name,customerName:y.name,customerEmail:y.email,customerPhone:y.phone,selectedServices:p,preferredTime:y.preferredTime,specialRequests:y.specialRequests,totalAmount:P(),totalDuration:R(),status:"pending"};console.log("\ud83d\udd04 Starting payment process...");const n=await(0,tr.ex)(t);if(n.success){console.log("\u2705 Payment successful, completing booking...");try{await(async e=>{try{const t=await(0,nr.gS)((0,nr.rJ)(rr.db,"bookings"),(0,o.A)((0,o.A)({},e),{},{status:"pending",createdAt:(0,nr.O5)(),updatedAt:(0,nr.O5)()}));return Jn.isConnected&&Jn.createBooking((0,o.A)((0,o.A)({},e),{},{bookingId:t.id,status:"confirmed"})),wt.Ay.success("Booking created successfully!"),t.id}catch(t){throw console.error("Error creating booking:",t),wt.Ay.error("Failed to create booking"),t}})((0,o.A)((0,o.A)({},t),{},{paymentId:n.paymentData.razorpay_payment_id,status:"confirmed"})),console.log("\u2705 Booking saved to Firebase")}catch(e){console.warn("\u26a0\ufe0f Firebase booking failed, but payment was successful:",e)}E&&Jn.createBooking((0,o.A)((0,o.A)({},t),{},{paymentId:n.paymentData.razorpay_payment_id,status:"confirmed"})),wt.Ay.success("Booking confirmed! \ud83c\udf89"),u(t),c()}}catch(t){console.error("Booking failed:",t),wt.Ay.error("Booking failed. Please try again.")}else wt.Ay.error("Please select a preferred time");else wt.Ay.error("Please fill in all required details");else wt.Ay.error("Please select at least one service")},children:["Pay \u20b9",P()," & Book Now"]})]}),(0,xt.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#f0f0f0",borderRadius:"5px"},children:(0,xt.jsxs)("small",{style:{color:"#666"},children:["Having payment issues?",(0,xt.jsx)("button",{onClick:async()=>{try{const{testRazorpayPayment:e}=await Promise.resolve().then(n.bind(n,96));await e()}catch(e){console.error("Test payment failed:",e)}},style:{marginLeft:"5px",padding:"2px 8px",fontSize:"12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Test Payment Gateway"})]})})]})]}),"moreInfo"===h&&(0,xt.jsxs)("div",{className:"more-info-tab",children:[(0,xt.jsxs)("div",{className:"contact-actions",children:[(0,xt.jsx)("h3",{children:"Contact & Actions"}),(0,xt.jsxs)("div",{className:"action-buttons",children:[(0,xt.jsx)("button",{className:"contact-btn",onClick:()=>{const e="+91 ".concat(Math.floor(9e9*Math.random())+1e9);window.open("tel:".concat(e),"_self")},children:"\ud83d\udcde Call Salon"}),(0,xt.jsx)("button",{className:"contact-btn",onClick:()=>{const e=encodeURIComponent(l.formatted_address||l.vicinity);window.open("https://maps.google.com/?q=".concat(e),"_blank")},children:"\ud83d\uddfa\ufe0f Get Directions"}),(0,xt.jsx)("button",{className:"contact-btn",onClick:()=>{const e="Check out ".concat(l.name," - ").concat(l.type," located at ").concat(l.vicinity,". Rating: ").concat(l.rating,"\u2b50");navigator.share?navigator.share({title:l.name,text:e,url:window.location.href}):(navigator.clipboard.writeText(e),alert("Salon details copied to clipboard!"))},children:"\ud83d\udce4 Share Salon"}),(0,xt.jsx)("button",{className:"contact-btn",onClick:()=>{const e=document.querySelector(".reviews-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},children:"\u2b50 See Google Reviews"}),(0,xt.jsx)("button",{className:"contact-btn",onClick:()=>{alert("For help, please contact our support team at support@babuu.com or call +91-XXXXXXXXXX")},children:"\u2753 Need Help"})]})]}),(0,xt.jsxs)("div",{className:"salon-info-section",children:[(0,xt.jsx)("h3",{children:"Salon Information"}),(0,xt.jsxs)("div",{className:"info-grid",children:[(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"info-label",children:"\ud83d\udccd Address:"}),(0,xt.jsx)("span",{className:"info-value",children:l.formatted_address||l.vicinity})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"info-label",children:"\u2b50 Rating:"}),(0,xt.jsxs)("span",{className:"info-value",children:[l.rating," (",l.user_ratings_total," reviews)"]})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"info-label",children:"\ud83d\udd52 Status:"}),(0,xt.jsx)("span",{className:"info-value ".concat(null!==(s=l.opening_hours)&&void 0!==s&&s.open_now?"open":"closed"),children:null!==(a=l.opening_hours)&&void 0!==a&&a.open_now?"Open Now":"Closed"})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"info-label",children:"\ud83d\udcb0 Price Level:"}),(0,xt.jsxs)("span",{className:"info-value",children:["\u20b9".repeat(l.price_level||2)," (",l.price_level||2,"/4)"]})]})]})]}),(0,xt.jsxs)("div",{className:"services-section",children:[(0,xt.jsx)("h3",{children:"Available Services"}),(0,xt.jsx)("div",{className:"services-list",children:l.services.map((e,t)=>(0,xt.jsx)("div",{className:"service-item",children:(0,xt.jsx)("span",{className:"service-name",children:e})},t))})]}),(0,xt.jsxs)("div",{className:"reviews-section",children:[(0,xt.jsx)("h3",{children:"Customer Reviews"}),(0,xt.jsx)("div",{className:"reviews-summary",children:(0,xt.jsx)("div",{className:"rating-overview",children:(0,xt.jsxs)("div",{className:"rating-score",children:[(0,xt.jsx)("span",{className:"score",children:l.rating}),(0,xt.jsx)("div",{className:"stars",children:[1,2,3,4,5].map(e=>(0,xt.jsx)("span",{className:"star ".concat(e<=Math.floor(l.rating)?"filled":""),children:"\u2b50"},e))}),(0,xt.jsxs)("span",{className:"review-count",children:["Based on ",l.user_ratings_total," reviews"]})]})})}),(0,xt.jsx)("div",{className:"reviews-list",children:[{name:"Priya S.",rating:5,comment:"Excellent service! The staff is very professional and the ambiance is great. Highly recommend for hair styling.",date:"2 days ago"},{name:"Rahul M.",rating:4,comment:"Good haircut and reasonable prices. The wait time was a bit long but worth it.",date:"1 week ago"},{name:"Anjali K.",rating:5,comment:"Amazing facial treatment! My skin feels so fresh and glowing. Will definitely come back.",date:"2 weeks ago"},{name:"Vikash T.",rating:4,comment:"Clean salon with good hygiene standards. The barber was skilled and gave exactly what I asked for.",date:"3 weeks ago"}].map((e,t)=>(0,xt.jsxs)("div",{className:"review-item",children:[(0,xt.jsxs)("div",{className:"review-header",children:[(0,xt.jsxs)("div",{className:"reviewer-info",children:[(0,xt.jsx)("span",{className:"reviewer-name",children:e.name}),(0,xt.jsx)("div",{className:"review-stars",children:[1,2,3,4,5].map(t=>(0,xt.jsx)("span",{className:"star ".concat(t<=e.rating?"filled":""),children:"\u2b50"},t))})]}),(0,xt.jsx)("span",{className:"review-date",children:e.date})]}),(0,xt.jsx)("p",{className:"review-comment",children:e.comment})]},t))})]})]})]}),T&&(0,xt.jsx)("div",{className:"queue-status-banner",children:(0,xt.jsxs)("div",{className:"queue-status-content",children:[(0,xt.jsx)("h4",{children:"\ud83d\udeb6\u200d\u2642\ufe0f You're in Queue!"}),(0,xt.jsxs)("div",{className:"queue-info",children:[(0,xt.jsxs)("span",{className:"position",children:["Position: #",A]}),(0,xt.jsxs)("span",{className:"wait-time",children:["Est. Wait: ",j," min"]}),(0,xt.jsx)("button",{className:"leave-queue-btn",onClick:C,children:"Leave Queue"})]})]})}),w&&(0,xt.jsx)(sr,{salon:l,services:I,onJoinQueue:async e=>{try{console.log("\ud83d\udeb6\u200d\u2642\ufe0f Joining queue for salon:",l.name);const t=e.selectedServices.reduce((e,t)=>e+t.price,0),n=e.selectedServices.reduce((e,t)=>e+t.duration,0),r={id:"queue_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),salonId:l.place_id,salonName:l.name,customerName:e.name,customerEmail:e.email||"".concat(e.phone,"@temp.com"),customerPhone:e.phone,selectedServices:e.selectedServices,totalAmount:t,totalDuration:n,type:"queue",status:"pending"};console.log("\ud83d\udcb3 Processing payment for queue joining...");const i=await(0,tr.ex)(r);if(i.success){console.log("\u2705 Payment successful, joining queue...");const s={customerName:e.name,customerPhone:e.phone,customerEmail:e.email||"".concat(e.phone,"@temp.com"),selectedServices:e.selectedServices,totalAmount:t,totalDuration:n,paymentId:i.paymentData.razorpay_payment_id,bookingId:r.id,notificationPreference:e.notificationPreference||"both"};if(await N(s)){x(!1);const e=(0,o.A)((0,o.A)({id:r.id},r),{},{paymentId:i.paymentData.razorpay_payment_id,status:"in_queue",queuePosition:A||1,estimatedWaitTime:j||15,createdAt:(new Date).toISOString(),type:"queue"}),t=[...JSON.parse(localStorage.getItem("userBookings")||"[]"),e];localStorage.setItem("userBookings",JSON.stringify(t)),E&&Jn.createBooking(e),wt.Ay.success("Payment successful! You're now in the queue! \ud83c\udf89"),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()}}}catch(t){console.error("Failed to join queue:",t),wt.Ay.error("Failed to join queue. Please try again.")}},onClose:()=>x(!1)})]})})},cr=e=>{let{salon:t,onClose:n,onComplete:r}=e;const[s,a]=(0,i.useState)(1),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)({name:"",phone:"",email:""});(0,i.useEffect)(()=>{const e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]);const h=[{id:1,name:"Traditional men's haircut",duration:"30 min",price:250},{id:2,name:"Beard Trim + Shape",duration:"20 min",price:150},{id:3,name:"Hair Wash + Style",duration:"15 min",price:100},{id:4,name:"Premium Styling",duration:"45 min",price:400}],f=()=>l.reduce((e,t)=>{const n=h.find(e=>e.id===t);return e+(n?n.price:0)},0),p=()=>{const e={key:"rzp_test_1DP5mmOlF5G5ag",amount:100*f(),currency:"INR",name:"Real Salon Finder",description:"Queue Payment",handler:function(e){console.log("Payment successful:",e),a(4)},prefill:{name:u.name,email:u.email,contact:u.phone},theme:{color:"#5dade2"},modal:{ondismiss:function(){console.log("Payment cancelled")}}};if(window.Razorpay){new window.Razorpay(e).open()}else console.log("Razorpay not loaded, simulating payment..."),setTimeout(()=>{a(4)},2e3)};return(0,xt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #2c3e50 0%, #34495e 50%, #2c3e50 100%)",zIndex:99999,overflowY:"auto",padding:"0",display:"flex",flexDirection:"column"},children:(0,xt.jsxs)("div",{style:{width:"100%",maxWidth:"500px",margin:"0 auto",minHeight:"100vh",backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",borderRadius:"0"},children:[(0,xt.jsx)("div",{style:{padding:"20px 20px 16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",backgroundColor:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",position:"sticky",top:0,zIndex:100},children:(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,xt.jsx)("button",{onClick:()=>{s>1?a(s-1):n()},style:{backgroundColor:"rgba(255, 255, 255, 0.2)",border:"none",fontSize:"16px",fontWeight:"600",cursor:"pointer",padding:"12px 16px",color:"#ffffff",borderRadius:"12px",minWidth:"60px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"\u2190 Back"}),(0,xt.jsxs)("h1",{style:{margin:0,fontSize:"20px",fontWeight:"700",color:"#ffffff",textAlign:"center",flex:1,padding:"0 16px"},children:[1===s&&"Join Queue",2===s&&"Your Details",3===s&&"Payment",4===s&&"Confirmed"]}),(0,xt.jsx)("button",{onClick:n,style:{backgroundColor:"rgba(255, 255, 255, 0.2)",border:"none",fontSize:"20px",fontWeight:"600",cursor:"pointer",padding:"12px",color:"#ffffff",borderRadius:"12px",minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"\xd7"})]})}),(0,xt.jsx)("div",{style:{padding:"16px 20px",backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,xt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[1,2,3,4].map(e=>(0,xt.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[(0,xt.jsx)("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:e<=s?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.3)",color:e<=s?"#007bff":"rgba(255, 255, 255, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"700",border:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:e<=s?"0 4px 15px rgba(255, 255, 255, 0.2)":"none",marginBottom:"4px"},children:e<s?"\u2713":e}),(0,xt.jsx)("span",{style:{fontSize:"10px",color:e<=s?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.6)",fontWeight:"500",textAlign:"center"},children:1===e?"Services":2===e?"Details":3===e?"Payment":"Complete"})]},e))})}),(()=>{switch(s){case 1:return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"16px",padding:"24px",marginBottom:"24px",textAlign:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[(0,xt.jsxs)("div",{style:{fontSize:"48px",fontWeight:"700",color:"#ffffff",marginBottom:"8px",textShadow:"0 0 20px rgba(255, 255, 255, 0.5)"},children:["#",t.queueLength+1]}),(0,xt.jsx)("div",{style:{fontSize:"16px",color:"rgba(255, 255, 255, 0.9)",marginBottom:"4px"},children:"Your position in queue"}),(0,xt.jsxs)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)",fontWeight:"500"},children:["~",15*t.queueLength," min wait time"]})]}),(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#ffffff",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:"Select Services"}),(0,xt.jsx)("div",{style:{marginBottom:"24px"},children:h.map(e=>(0,xt.jsxs)("div",{onClick:()=>{return t=e.id,void c(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},style:{backgroundColor:l.includes(e.id)?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",border:l.includes(e.id)?"2px solid rgba(255, 255, 255, 0.6)":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",padding:"16px",marginBottom:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.3s ease",boxShadow:l.includes(e.id)?"0 8px 32px rgba(255, 255, 255, 0.1)":"0 4px 16px rgba(0, 0, 0, 0.1)"},children:[(0,xt.jsxs)("div",{children:[(0,xt.jsx)("div",{style:{fontSize:"16px",fontWeight:"500",color:"#ffffff",marginBottom:"4px"},children:e.name}),(0,xt.jsx)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},children:e.duration})]}),(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,xt.jsxs)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:["\u20b9",e.price]}),(0,xt.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:"2px solid rgba(255, 255, 255, 0.6)",backgroundColor:l.includes(e.id)?"rgba(255, 255, 255, 0.9)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:l.includes(e.id)?"0 0 15px rgba(255, 255, 255, 0.5)":"none"},children:l.includes(e.id)&&(0,xt.jsx)("span",{style:{color:"#5dade2",fontSize:"12px",fontWeight:"bold"},children:"\u2713"})})]})]},e.id))}),l.length>0&&(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",padding:"16px",marginBottom:"24px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[(0,xt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,xt.jsx)("span",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},children:"Total Duration:"}),(0,xt.jsxs)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#ffffff"},children:[l.reduce((e,t)=>{const n=h.find(e=>e.id===t);return e+(n?parseInt(n.duration):0)},0)," min"]})]}),(0,xt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,xt.jsx)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:"Total Amount:"}),(0,xt.jsxs)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff",textShadow:"0 0 10px rgba(255, 255, 255, 0.5)"},children:["\u20b9",f()]})]})]})]});case 2:return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px",color:"#212529"},children:"Your Details"}),(0,xt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px",color:"#495057"},children:"Full Name *"}),(0,xt.jsx)("input",{type:"text",value:u.name,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{name:e.target.value})),style:{width:"100%",padding:"16px",border:"2px solid #e9ecef",borderRadius:"12px",fontSize:"16px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff",boxSizing:"border-box",minHeight:"56px"},placeholder:"Enter your full name"})]}),(0,xt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px",color:"#495057"},children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",value:u.phone,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{phone:e.target.value})),style:{width:"100%",padding:"16px",border:"2px solid #e9ecef",borderRadius:"12px",fontSize:"16px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff",boxSizing:"border-box",minHeight:"56px"},placeholder:"Enter your phone number"})]}),(0,xt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px",color:"#495057"},children:"Email (Optional)"}),(0,xt.jsx)("input",{type:"email",value:u.email,onChange:e=>d((0,o.A)((0,o.A)({},u),{},{email:e.target.value})),style:{width:"100%",padding:"16px",border:"2px solid #e9ecef",borderRadius:"12px",fontSize:"16px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff",boxSizing:"border-box",minHeight:"56px"},placeholder:"Enter your email"})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px",padding:"16px"},children:[(0,xt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Selected Services"}),l.map(e=>{const t=h.find(t=>t.id===e);return(0,xt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,xt.jsx)("span",{style:{fontSize:"14px"},children:t.name}),(0,xt.jsxs)("span",{style:{fontSize:"14px",fontWeight:"500"},children:["\u20b9",t.price]})]},e)}),(0,xt.jsx)("hr",{style:{margin:"12px 0",border:"none",borderTop:"1px solid #dee2e6"}}),(0,xt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,xt.jsx)("span",{style:{fontSize:"16px",fontWeight:"600"},children:"Total:"}),(0,xt.jsxs)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#007bff"},children:["\u20b9",f()]})]})]})]});case 3:return(0,xt.jsxs)("div",{style:{padding:"24px",textAlign:"center"},children:[(0,xt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,xt.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udcb3"}),(0,xt.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"8px",color:"#212529"},children:"Payment"}),(0,xt.jsx)("p",{style:{fontSize:"14px",color:"#6c757d"},children:"Secure your spot in the queue with payment"})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[(0,xt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,xt.jsx)("div",{style:{fontSize:"14px",color:"#6c757d",marginBottom:"4px"},children:"Amount to Pay"}),(0,xt.jsxs)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#007bff"},children:["\u20b9",f()]})]}),(0,xt.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d"},children:["This payment guarantees your position #",t.queueLength+1," in the queue"]})]}),(0,xt.jsxs)("button",{onClick:p,style:{width:"100%",padding:"16px",backgroundColor:"#007bff",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",marginBottom:"16px"},children:["Pay \u20b9",f()]}),(0,xt.jsx)("div",{style:{fontSize:"12px",color:"#6c757d"},children:"\ud83d\udd12 Secure payment powered by Razorpay"})]});case 4:return(0,xt.jsxs)("div",{style:{padding:"24px",textAlign:"center"},children:[(0,xt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,xt.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"\u2705"}),(0,xt.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"8px",color:"#28a745"},children:"You're in the Queue!"}),(0,xt.jsx)("p",{style:{fontSize:"14px",color:"#6c757d"},children:"Payment successful. Your spot is confirmed."})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[(0,xt.jsxs)("div",{style:{fontSize:"48px",fontWeight:"700",color:"#155724",marginBottom:"8px"},children:["#",t.queueLength+1]}),(0,xt.jsx)("div",{style:{fontSize:"16px",color:"#155724",marginBottom:"8px"},children:"Your position in queue"}),(0,xt.jsxs)("div",{style:{fontSize:"14px",color:"#155724"},children:["Estimated wait: ~",15*t.queueLength," minutes"]})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px",padding:"16px",marginBottom:"24px",textAlign:"left"},children:[(0,xt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Booking Details"}),(0,xt.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,xt.jsx)("strong",{children:"Salon:"})," ",t.name]}),(0,xt.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,xt.jsx)("strong",{children:"Customer:"})," ",u.name]}),(0,xt.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,xt.jsx)("strong",{children:"Phone:"})," ",u.phone]}),(0,xt.jsx)("div",{style:{marginBottom:"12px"},children:(0,xt.jsx)("strong",{children:"Services:"})}),l.map(e=>{const t=h.find(t=>t.id===e);return(0,xt.jsxs)("div",{style:{marginLeft:"16px",marginBottom:"4px",fontSize:"14px"},children:["\u2022 ",t.name," - \u20b9",t.price]},e)}),(0,xt.jsx)("hr",{style:{margin:"12px 0",border:"none",borderTop:"1px solid #dee2e6"}}),(0,xt.jsxs)("div",{style:{fontWeight:"600"},children:[(0,xt.jsx)("strong",{children:"Total Paid:"})," \u20b9",f()]})]}),(0,xt.jsx)("button",{onClick:()=>r(),style:{width:"100%",padding:"16px",backgroundColor:"#28a745",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Done"})]});default:return null}})(),s<4&&(0,xt.jsx)("div",{style:{padding:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.2)",backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)",position:"sticky",bottom:0,marginTop:"auto"},children:(0,xt.jsxs)("button",{onClick:()=>{s<4&&a(s+1)},disabled:1===s&&0===l.length||2===s&&(!u.name||!u.phone),style:{width:"100%",padding:"20px",backgroundColor:1===s&&0===l.length||2===s&&(!u.name||!u.phone)?"rgba(255, 255, 255, 0.2)":"linear-gradient(135deg, #007bff, #0056cc)",backdropFilter:"blur(15px)",border:"none",borderRadius:"16px",color:"#ffffff",fontSize:"18px",fontWeight:"700",cursor:1===s&&0===l.length||2===s&&(!u.name||!u.phone)?"not-allowed":"pointer",boxShadow:"0 8px 24px rgba(0, 123, 255, 0.3)",transition:"all 0.3s ease",minHeight:"56px",display:"flex",alignItems:"center",justifyContent:"center",textShadow:"0 1px 2px rgba(0, 0, 0, 0.2)"},children:[1===s&&"Continue",2===s&&"Proceed to Payment",3===s&&"Processing..."]})})]})})},ur=e=>{let{salon:t,onClose:n,onComplete:r}=e;const[s,a]=(0,i.useState)(1),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)([]),[p,m]=(0,i.useState)({name:"",phone:"",email:""}),g=[{id:1,name:"Traditional men's haircut",duration:"30 min",price:250},{id:2,name:"Beard Trim + Shape",duration:"20 min",price:150},{id:3,name:"Hair Wash + Style",duration:"15 min",price:100},{id:4,name:"Premium Styling",duration:"45 min",price:400}],v=["09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","05:30 PM","06:00 PM","06:30 PM"],y=()=>{const e=[];for(let t=0;t<7;t++){const n=new Date;n.setDate(n.getDate()+t),e.push({date:n.toISOString().split("T")[0],display:n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}return e},b=()=>h.reduce((e,t)=>{const n=g.find(e=>e.id===t);return e+(n?n.price:0)},0);return(0,xt.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",zIndex:99999,overflowY:"auto"},children:[(0,xt.jsx)("style",{children:"\n          input::placeholder {\n            color: rgba(255, 255, 255, 0.5) !important;\n          }\n          input {\n            color: #ffffff !important;\n          }\n          input:focus {\n            color: #ffffff !important;\n          }\n        "}),(0,xt.jsxs)("div",{style:{maxWidth:"500px",margin:"0 auto",minHeight:"100vh",backgroundColor:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[(0,xt.jsx)("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",position:"sticky",top:0,zIndex:100},children:(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,xt.jsx)("button",{onClick:()=>{s>1?a(s-1):n()},style:{backgroundColor:"transparent",border:"none",fontSize:"16px",cursor:"pointer",padding:"4px",color:"#4fc3f7"},children:"\u2190 Back"}),(0,xt.jsxs)("h1",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#ffffff",textAlign:"center",flex:1},children:[1===s&&"Book Appointment",2===s&&"Select Services",3===s&&"Your Details",4===s&&"Confirmed"]}),(0,xt.jsx)("div",{style:{width:"60px"}})]})}),(0,xt.jsx)("div",{style:{padding:"20px",backgroundColor:"rgba(255, 255, 255, 0.03)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,xt.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[1,2,3,4].map(e=>(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,xt.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:e<=s?"#4fc3f7":"rgba(255, 255, 255, 0.2)",color:e<=s?"#ffffff":"rgba(255, 255, 255, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600"},children:e<s?"\u2713":e}),e<4&&(0,xt.jsx)("div",{style:{width:"24px",height:"2px",backgroundColor:e<s?"#4fc3f7":"rgba(255, 255, 255, 0.2)",margin:"0 4px"}})]},e))})}),(()=>{switch(s){case 1:return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px",color:"#ffffff"},children:"Select Date & Time"}),(0,xt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"12px",color:"rgba(255, 255, 255, 0.8)"},children:"Choose Date"}),(0,xt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"8px"},children:y().map(e=>(0,xt.jsx)("button",{onClick:()=>c(e.date),style:{padding:"12px 8px",border:l===e.date?"2px solid #4fc3f7":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",backgroundColor:l===e.date?"rgba(79, 195, 247, 0.2)":"rgba(255, 255, 255, 0.1)",color:l===e.date?"#4fc3f7":"#ffffff",fontSize:"12px",fontWeight:"500",cursor:"pointer",textAlign:"center"},children:e.display},e.date))})]}),l&&(0,xt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"12px",color:"rgba(255, 255, 255, 0.8)"},children:"Choose Time"}),(0,xt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"},children:v.map(e=>(0,xt.jsx)("button",{onClick:()=>d(e),style:{padding:"10px",border:u===e?"2px solid #4fc3f7":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",backgroundColor:u===e?"rgba(79, 195, 247, 0.2)":"rgba(255, 255, 255, 0.1)",color:u===e?"#4fc3f7":"#ffffff",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:e},e))})]}),l&&u&&(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px"},children:[(0,xt.jsx)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",marginBottom:"4px"},children:"Selected Appointment"}),(0,xt.jsxs)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:[new Date(l).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",u]})]})]});case 2:return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px",color:"#ffffff"},children:"Select Services"}),(0,xt.jsx)("div",{style:{marginBottom:"24px"},children:g.map(e=>(0,xt.jsxs)("div",{onClick:()=>{return t=e.id,void f(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},style:{backgroundColor:h.includes(e.id)?"rgba(79, 195, 247, 0.2)":"rgba(255, 255, 255, 0.1)",border:h.includes(e.id)?"2px solid #4fc3f7":"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",padding:"16px",marginBottom:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s ease"},children:[(0,xt.jsxs)("div",{children:[(0,xt.jsx)("div",{style:{fontSize:"16px",fontWeight:"500",color:"#ffffff",marginBottom:"4px"},children:e.name}),(0,xt.jsx)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:e.duration})]}),(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,xt.jsxs)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:["\u20b9",e.price]}),(0,xt.jsx)("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:"2px solid #4fc3f7",backgroundColor:h.includes(e.id)?"#4fc3f7":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:h.includes(e.id)&&(0,xt.jsx)("span",{style:{color:"#ffffff",fontSize:"12px"},children:"\u2713"})})]})]},e.id))}),h.length>0&&(0,xt.jsx)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px"},children:(0,xt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,xt.jsx)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:"Total Amount:"}),(0,xt.jsxs)("span",{style:{fontSize:"16px",fontWeight:"600",color:"#4fc3f7"},children:["\u20b9",b()]})]})})]});case 3:return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px",color:"#ffffff"},children:"Your Details"}),(0,xt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px",color:"rgba(255, 255, 255, 0.8)"},children:"Full Name *"}),(0,xt.jsx)("input",{type:"text",value:p.name,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{name:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",fontSize:"16px",outline:"none",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"#ffffff"},placeholder:"Enter your full name"})]}),(0,xt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px",color:"rgba(255, 255, 255, 0.8)"},children:"Phone Number *"}),(0,xt.jsx)("input",{type:"tel",value:p.phone,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{phone:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",fontSize:"16px",outline:"none",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"#ffffff"},placeholder:"Enter your phone number"})]}),(0,xt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,xt.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"8px",color:"rgba(255, 255, 255, 0.8)"},children:"Email (Optional)"}),(0,xt.jsx)("input",{type:"email",value:p.email,onChange:e=>m((0,o.A)((0,o.A)({},p),{},{email:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",fontSize:"16px",outline:"none",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"#ffffff"},placeholder:"Enter your email"})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px"},children:[(0,xt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",color:"#ffffff"},children:"Booking Summary"}),(0,xt.jsxs)("div",{style:{marginBottom:"8px",color:"#ffffff"},children:[(0,xt.jsx)("strong",{children:"Date & Time:"})," ",new Date(l).toLocaleDateString()," at ",u]}),(0,xt.jsx)("div",{style:{marginBottom:"12px",color:"#ffffff"},children:(0,xt.jsx)("strong",{children:"Services:"})}),h.map(e=>{const t=g.find(t=>t.id===e);return(0,xt.jsxs)("div",{style:{marginLeft:"16px",marginBottom:"4px",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},children:["\u2022 ",t.name," - \u20b9",t.price]},e)}),(0,xt.jsx)("hr",{style:{margin:"12px 0",border:"none",borderTop:"1px solid rgba(255, 255, 255, 0.2)"}}),(0,xt.jsxs)("div",{style:{fontWeight:"600",color:"#ffffff"},children:[(0,xt.jsx)("strong",{children:"Total:"})," \u20b9",b()]})]})]});case 4:return(0,xt.jsxs)("div",{style:{padding:"24px",textAlign:"center"},children:[(0,xt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,xt.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"\ud83d\udcc5"}),(0,xt.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"8px",color:"#28a745"},children:"Appointment Booked!"}),(0,xt.jsx)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:"Your appointment has been successfully scheduled."})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(76, 175, 80, 0.2)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[(0,xt.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",color:"#4caf50",marginBottom:"8px"},children:new Date(l).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,xt.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#4caf50"},children:u})]}),(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",marginBottom:"24px",textAlign:"left"},children:[(0,xt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",color:"#ffffff"},children:"Appointment Details"}),(0,xt.jsxs)("div",{style:{marginBottom:"8px",color:"#ffffff"},children:[(0,xt.jsx)("strong",{children:"Salon:"})," ",t.name]}),(0,xt.jsxs)("div",{style:{marginBottom:"8px",color:"#ffffff"},children:[(0,xt.jsx)("strong",{children:"Customer:"})," ",p.name]}),(0,xt.jsxs)("div",{style:{marginBottom:"8px",color:"#ffffff"},children:[(0,xt.jsx)("strong",{children:"Phone:"})," ",p.phone]}),(0,xt.jsx)("div",{style:{marginBottom:"12px",color:"#ffffff"},children:(0,xt.jsx)("strong",{children:"Services:"})}),h.map(e=>{const t=g.find(t=>t.id===e);return(0,xt.jsxs)("div",{style:{marginLeft:"16px",marginBottom:"4px",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},children:["\u2022 ",t.name," - \u20b9",t.price]},e)}),(0,xt.jsx)("hr",{style:{margin:"12px 0",border:"none",borderTop:"1px solid rgba(255, 255, 255, 0.2)"}}),(0,xt.jsxs)("div",{style:{fontWeight:"600",color:"#ffffff"},children:[(0,xt.jsx)("strong",{children:"Total:"})," \u20b9",b()]})]}),(0,xt.jsx)("button",{onClick:()=>r(),style:{width:"100%",padding:"16px",backgroundColor:"#4caf50",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Done"})]});default:return null}})(),s<4&&(0,xt.jsx)("div",{style:{padding:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(15px)",position:"sticky",bottom:0,marginTop:"24px"},children:(0,xt.jsxs)("button",{onClick:3===s?()=>{const e=h.reduce((e,t)=>e+g.find(e=>e.id===t).price,0),n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.onload=()=>{const n={key:"rzp_test_1DP5mmOlF5G5ag",amount:100*e,currency:"INR",name:t.name,description:"Appointment Booking",handler:function(e){console.log("Payment successful:",e),a(4)},prefill:{name:p.name,email:p.email,contact:p.phone},theme:{color:"#ff9a9e"},modal:{ondismiss:function(){console.log("Payment cancelled")}}};if(window.Razorpay){new window.Razorpay(n).open()}},document.head.appendChild(n)}:()=>{s<4&&a(s+1)},disabled:1===s&&(!l||!u)||2===s&&0===h.length||3===s&&(!p.name||!p.phone),style:{width:"100%",padding:"16px",backgroundColor:(1!==s||l&&u)&&(2!==s||0!==h.length)&&(3!==s||p.name&&p.phone)?"rgba(79, 195, 247, 0.3)":"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:(1!==s||l&&u)&&(2!==s||0!==h.length)&&(3!==s||p.name&&p.phone)?"pointer":"not-allowed",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease"},children:[1===s&&"Continue",2===s&&"Continue",3===s&&"Book Appointment"]})})]})]})},dr=e=>{let{salon:t,onClose:n}=e;const[r,s]=(0,i.useState)("info"),[o,a]=(0,i.useState)([]),[l,c]=(0,i.useState)({averageRating:0,totalReviews:0,ratingDistribution:{5:0,4:0,3:0,2:0,1:0}}),[u,d]=(0,i.useState)(!1),h=e=>{e&&window.open("tel:".concat(e))};(0,i.useEffect)(()=>{"reviews"===r&&(async()=>{if(t.place_id)try{d(!0),console.log("\ud83d\udd04 Loading reviews for salon:",t.name);const e=await ir.getAllReviews(t.place_id);a(e.reviews);const n=ir.getReviewStats(e.reviews);c(n),console.log("\u2705 Loaded reviews:",{total:e.totalCount,google:e.googleCount,inApp:e.inAppCount,averageRating:n.averageRating})}catch(e){console.error("\u274c Failed to load reviews:",e)}finally{d(!1)}})()},[r,t.place_id]);const f=()=>{const e=encodeURIComponent(t.vicinity||t.formatted_address);window.open("https://maps.google.com/?q=".concat(e))};return(0,xt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",zIndex:99999,overflowY:"auto"},children:(0,xt.jsxs)("div",{style:{maxWidth:"500px",margin:"0 auto",minHeight:"100vh",backgroundColor:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[(0,xt.jsx)("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",backgroundColor:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",position:"sticky",top:0,zIndex:100},children:(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,xt.jsx)("button",{onClick:n,style:{backgroundColor:"transparent",border:"none",fontSize:"16px",cursor:"pointer",padding:"4px",color:"#4fc3f7"},children:"\u2190 Back"}),(0,xt.jsx)("h1",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#ffffff",textAlign:"center",flex:1},children:"More Info"}),(0,xt.jsx)("div",{style:{width:"60px"}})]})}),(0,xt.jsx)("div",{style:{display:"flex",backgroundColor:"rgba(255, 255, 255, 0.03)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[{id:"info",label:"Info",icon:"\u2139\ufe0f"},{id:"reviews",label:"Reviews",icon:"\u2b50"},{id:"help",label:"Help",icon:"\u2753"}].map(e=>(0,xt.jsxs)("button",{onClick:()=>s(e.id),style:{flex:1,padding:"16px 8px",backgroundColor:r===e.id?"rgba(79, 195, 247, 0.2)":"transparent",border:"none",borderBottom:r===e.id?"2px solid #4fc3f7":"2px solid transparent",color:r===e.id?"#4fc3f7":"rgba(255, 255, 255, 0.7)",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[(0,xt.jsx)("span",{children:e.icon}),e.label]},e.id))}),(()=>{switch(r){case"info":return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsxs)("div",{style:{marginBottom:"32px",textAlign:"center"},children:[(0,xt.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",color:"#ffffff",marginBottom:"8px"},children:t.name}),(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",marginBottom:"8px"},children:[(0,xt.jsx)("span",{style:{color:"#ffc107",fontSize:"16px"},children:"\u2605"}),(0,xt.jsx)("span",{style:{fontSize:"16px",fontWeight:"500",color:"#ffffff"},children:t.rating||"4.5"}),(0,xt.jsxs)("span",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:["(",t.user_ratings_total||"150"," reviews)"]})]}),(0,xt.jsx)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)",margin:0},children:t.vicinity||t.formatted_address})]}),(0,xt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"32px"},children:[(0,xt.jsx)("button",{onClick:()=>h(t.formatted_phone_number),style:{padding:"16px",backgroundColor:"#4fc3f7",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83d\udcde Call Now"}),(0,xt.jsx)("button",{onClick:f,style:{padding:"16px",backgroundColor:"#28a745",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83d\uddfa\ufe0f Directions"})]}),(0,xt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#ffffff"},children:"Salon Information"}),(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"16px"},children:[(0,xt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,xt.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"4px"},children:"Address"}),(0,xt.jsx)("div",{style:{fontSize:"14px",color:"#ffffff"},children:t.formatted_address||t.vicinity})]}),t.formatted_phone_number&&(0,xt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,xt.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"4px"},children:"Phone"}),(0,xt.jsx)("div",{style:{fontSize:"14px",color:"#ffffff"},children:t.formatted_phone_number})]}),(0,xt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,xt.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"4px"},children:"Hours"}),(0,xt.jsx)("div",{style:{fontSize:"14px",color:"#28a745"},children:"Open \u2022 Closes 8:00 PM"})]}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("div",{style:{fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"4px"},children:"Price Level"}),(0,xt.jsxs)("div",{style:{fontSize:"14px",color:"#ffffff"},children:["\u20b9".repeat(t.price_level||2)," \u2022 Moderate"]})]})]})]}),(0,xt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#ffffff"},children:"Services Offered"}),(0,xt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"8px"},children:(t.services||["Haircut","Beard Trim","Hair Wash","Styling","Shampoo","Massage"]).map((e,t)=>(0,xt.jsx)("div",{style:{backgroundColor:"rgba(79, 195, 247, 0.2)",border:"1px solid rgba(79, 195, 247, 0.3)",borderRadius:"6px",padding:"8px 12px",fontSize:"13px",fontWeight:"500",color:"#4fc3f7",textAlign:"center"},children:e},t))})]}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px",color:"#ffffff"},children:"Amenities"}),(0,xt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:["\ud83c\udd7f\ufe0f Parking Available","\ud83d\udcb3 Card Payment","\ud83d\udcf6 Free WiFi","\u2744\ufe0f Air Conditioned","\ud83d\udebf Hair Wash","\u2615 Complimentary Tea"].map((e,t)=>(0,xt.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},children:e},t))})]})]});case"reviews":return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px",color:"#ffffff"},children:"Customer Reviews"}),(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",padding:"20px",marginBottom:"24px",textAlign:"center"},children:[(0,xt.jsx)("div",{style:{fontSize:"36px",fontWeight:"700",color:"#4fc3f7",marginBottom:"8px"},children:l.averageRating||t.rating||"4.5"}),(0,xt.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"8px"},children:[1,2,3,4,5].map(e=>(0,xt.jsx)("span",{style:{color:e<=Math.floor(l.averageRating||t.rating||4.5)?"#ffc107":"#e9ecef",fontSize:"20px"},children:"\u2605"},e))}),(0,xt.jsxs)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},children:["Based on ",l.totalReviews||t.user_ratings_total||"0"," reviews"]})]}),u&&(0,xt.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,xt.jsx)("div",{style:{display:"inline-block",width:"40px",height:"40px",border:"4px solid rgba(255, 255, 255, 0.3)",borderTop:"4px solid #4fc3f7",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,xt.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",marginTop:"16px"},children:"Loading reviews..."})]}),!u&&(0,xt.jsx)("div",{children:0===o.length?(0,xt.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,xt.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:"No reviews available yet. Be the first to review this salon!"})}):o.slice(0,5).map((e,t)=>(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",marginBottom:"12px"},children:[(0,xt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,xt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,xt.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},children:e.author_name}),(0,xt.jsx)("span",{style:{fontSize:"10px",padding:"2px 6px",borderRadius:"4px",backgroundColor:"google"===e.source?"rgba(66, 133, 244, 0.2)":"rgba(76, 175, 80, 0.2)",color:"google"===e.source?"#4285f4":"#4caf50"},children:"google"===e.source?"Google":"In-App"})]}),(0,xt.jsx)("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:ir.formatReviewDate(e.time)})]}),(0,xt.jsx)("div",{style:{display:"flex",marginBottom:"8px"},children:[1,2,3,4,5].map(t=>(0,xt.jsx)("span",{style:{color:t<=e.rating?"#ffc107":"#e9ecef",fontSize:"14px"},children:"\u2605"},t))}),(0,xt.jsx)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)",margin:0,lineHeight:"1.4"},children:e.text})]},e.id||t))})]});case"help":return(0,xt.jsxs)("div",{style:{padding:"24px"},children:[(0,xt.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"24px",color:"#ffffff"},children:"Help & Support"}),(0,xt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,xt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#ffffff"},children:"Frequently Asked Questions"}),[{question:"How do I cancel my appointment?",answer:"You can cancel your appointment up to 2 hours before the scheduled time. Contact the salon directly or use the app to cancel."},{question:"What payment methods are accepted?",answer:"We accept cash, all major credit/debit cards, UPI, and digital wallets like Paytm, PhonePe, and Google Pay."},{question:"Do I need to bring anything for my appointment?",answer:"No, we provide all necessary equipment and products. Just bring yourself and arrive on time!"},{question:"Is there parking available?",answer:"Yes, we have dedicated parking space for our customers. Street parking is also available nearby."}].map((e,t)=>(0,xt.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"16px",marginBottom:"12px"},children:[(0,xt.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"8px"},children:e.question}),(0,xt.jsx)("div",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)",lineHeight:"1.4"},children:e.answer})]},t))]}),(0,xt.jsxs)("div",{children:[(0,xt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#ffffff"},children:"Need More Help?"}),(0,xt.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,xt.jsx)("button",{onClick:()=>h(t.formatted_phone_number),style:{padding:"16px",backgroundColor:"#4fc3f7",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83d\udcde Call Salon Directly"}),(0,xt.jsx)("button",{onClick:()=>window.open("mailto:support@realsalonfinder.com"),style:{padding:"16px",backgroundColor:"#28a745",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\u2709\ufe0f Email Support"}),(0,xt.jsx)("button",{onClick:()=>window.open("https://wa.me/919876543210"),style:{padding:"16px",backgroundColor:"#25d366",border:"none",borderRadius:"8px",color:"#ffffff",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:"\ud83d\udcac WhatsApp Support"})]})]})]});default:return null}})()]})})},hr=e=>{var t;let{booking:n,onClose:r}=e;const[s,a]=(0,i.useState)(n),{customerStatus:l,isConnected:c}=Yn(n.salonId,"customer",n.customerId);(0,i.useEffect)(()=>{const e=e=>{const t=e.detail;t.bookingId===s.id&&a(e=>(0,o.A)((0,o.A)({},e),{},{status:t.status,queuePosition:t.queuePosition||e.queuePosition,estimatedWaitTime:t.estimatedWaitTime||e.estimatedWaitTime,updatedAt:(new Date).toISOString()}))};return window.addEventListener("bookingStatusUpdated",e),()=>{window.removeEventListener("bookingStatusUpdated",e)}},[s.id]),(0,i.useEffect)(()=>{if(s.id){const e=JSON.parse(localStorage.getItem("userBookings")||"[]").map(e=>e.id===s.id?s:e);localStorage.setItem("userBookings",JSON.stringify(e))}},[s]);const u=e=>{const t=new Date(e);return t.toLocaleDateString()+" at "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return(0,xt.jsx)("div",{className:"booking-updates-modal-overlay",children:(0,xt.jsxs)("div",{className:"booking-updates-modal",children:[(0,xt.jsxs)("div",{className:"booking-updates-modal-header",children:[(0,xt.jsx)("h2",{children:"\ud83d\udd14 Real-time Booking Updates"}),(0,xt.jsx)("button",{onClick:r,className:"close-modal-btn",children:"\xd7"})]}),(0,xt.jsxs)("div",{className:"connection-status",children:[(0,xt.jsx)("span",{className:"status-indicator ".concat(c?"connected":"disconnected")}),(0,xt.jsx)("span",{className:"status-text",children:c?"Connected":"Disconnected"}),(0,xt.jsx)("button",{className:"refresh-btn",onClick:()=>{c&&s.id&&Jn.updateBookingStatus(s.id,s.status,{salonId:s.salonId,customerId:s.customerId,queuePosition:s.queuePosition,estimatedWaitTime:s.estimatedWaitTime})},disabled:!c,children:"\ud83d\udd04 Refresh"})]}),(0,xt.jsxs)("div",{className:"booking-updates-content",children:[(0,xt.jsxs)("div",{className:"booking-card",children:[(0,xt.jsxs)("div",{className:"booking-header",children:[(0,xt.jsxs)("div",{className:"booking-salon",children:[(0,xt.jsx)("h3",{children:s.salonName}),(0,xt.jsx)("p",{className:"booking-type",children:"queue"===s.type?"\ud83d\udc65 Queue Entry":"\ud83d\udcc5 Appointment"})]}),(0,xt.jsx)("div",{className:"booking-status",children:(0,xt.jsxs)("span",{className:"status-badge",style:{backgroundColor:(e=>{switch(e){case"confirmed":return"#28a745";case"in_progress":return"#007bff";case"waiting":return"#ffc107";case"in_queue":return"#17a2b8";case"completed":default:return"#6c757d";case"cancelled":return"#dc3545"}})(s.status)},children:[(e=>{switch(e){case"confirmed":return"\u2705";case"in_progress":return"\ud83d\udd04";case"waiting":return"\u23f3";case"in_queue":return"\ud83d\udeb6\u200d\u2642\ufe0f";case"completed":return"\u2728";case"cancelled":return"\u274c";default:return"\ud83d\udccb"}})(s.status)," ",s.status]})})]}),(0,xt.jsxs)("div",{className:"booking-details",children:[(0,xt.jsxs)("div",{className:"booking-info",children:[(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Customer:"}),(0,xt.jsx)("span",{className:"value",children:s.customerName})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Phone:"}),(0,xt.jsx)("span",{className:"value",children:s.customerPhone})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Booked:"}),(0,xt.jsx)("span",{className:"value",children:u(s.createdAt||new Date)})]}),"queue"===s.type&&(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsxs)("div",{className:"info-item queue-position",children:[(0,xt.jsx)("span",{className:"label",children:"Queue Position:"}),(0,xt.jsxs)("span",{className:"value queue-number",children:["#",l.position||s.queuePosition||"Updating..."]})]}),(0,xt.jsxs)("div",{className:"info-item queue-wait",children:[(0,xt.jsx)("span",{className:"label",children:"Est. Wait Time:"}),(0,xt.jsxs)("span",{className:"value",children:["~",l.estimatedWaitTime||s.estimatedWaitTime||15," minutes"]})]})]}),s.updatedAt&&s.updatedAt!==s.createdAt&&(0,xt.jsxs)("div",{className:"info-item last-updated",children:[(0,xt.jsx)("span",{className:"label",children:"Last Updated:"}),(0,xt.jsx)("span",{className:"value",children:u(s.updatedAt)})]})]}),(0,xt.jsxs)("div",{className:"booking-services",children:[(0,xt.jsx)("h4",{children:"Services:"}),(0,xt.jsx)("div",{className:"services-list",children:null===(t=n.selectedServices)||void 0===t?void 0:t.map((e,t)=>(0,xt.jsxs)("div",{className:"service-item",children:[(0,xt.jsx)("span",{className:"service-name",children:e.name}),(0,xt.jsxs)("span",{className:"service-price",children:["\u20b9",e.price]})]},t))})]}),(0,xt.jsx)("div",{className:"booking-total",children:(0,xt.jsxs)("strong",{children:["Total: \u20b9",n.totalAmount||(d=n.selectedServices,d&&Array.isArray(d)?d.reduce((e,t)=>e+(t.price||0),0):0)]})}),n.specialRequests&&(0,xt.jsxs)("div",{className:"booking-notes",children:[(0,xt.jsx)("h4",{children:"Special Requests:"}),(0,xt.jsx)("p",{children:n.specialRequests})]})]}),(0,xt.jsx)("div",{className:"booking-actions",children:n.paymentId&&(0,xt.jsxs)("div",{className:"payment-info",children:["\ud83d\udcb3 Payment ID: ",n.paymentId.slice(-8)]})})]}),(0,xt.jsxs)("div",{className:"real-time-updates",children:[(0,xt.jsx)("h3",{children:"\ud83d\udcca Real-time Status"}),(0,xt.jsxs)("div",{className:"updates-list",children:[(0,xt.jsxs)("div",{className:"update-item",children:[(0,xt.jsx)("div",{className:"update-icon",children:l.position?"\ud83d\udeb6\u200d\u2642\ufe0f":"\u23f3"}),(0,xt.jsxs)("div",{className:"update-content",children:[(0,xt.jsx)("h4",{children:"Queue Position"}),(0,xt.jsx)("p",{children:l.position?"You are #".concat(l.position," in line"):"Waiting for queue update..."})]})]}),(0,xt.jsxs)("div",{className:"update-item",children:[(0,xt.jsx)("div",{className:"update-icon",children:"\u23f1\ufe0f"}),(0,xt.jsxs)("div",{className:"update-content",children:[(0,xt.jsx)("h4",{children:"Estimated Wait Time"}),(0,xt.jsx)("p",{children:l.estimatedWaitTime?"~".concat(l.estimatedWaitTime," minutes"):"Calculating..."})]})]}),(0,xt.jsxs)("div",{className:"update-item",children:[(0,xt.jsx)("div",{className:"update-icon",children:c?"\ud83d\udfe2":"\ud83d\udd34"}),(0,xt.jsxs)("div",{className:"update-content",children:[(0,xt.jsx)("h4",{children:"Connection Status"}),(0,xt.jsx)("p",{children:c?"Connected to real-time updates":"Disconnected - trying to reconnect..."})]})]})]})]})]}),(0,xt.jsx)("div",{className:"booking-updates-footer",children:(0,xt.jsx)("p",{children:"\ud83d\udca1 This screen will automatically update as your booking status changes"})})]})});var d},fr=()=>{const[e,t]=(0,i.useState)(Jn.isSocketConnected()),[n,r]=(0,i.useState)(navigator.onLine),[s,o]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=()=>{const e=Jn.isSocketConnected();t(e),o(!e&&n)},i=()=>{t(!0),o(!1),wt.Ay.success("Connection restored!",{id:"connection-restored"})},s=()=>{t(!1),n&&o(!0)},a=()=>{r(!0),Jn.isSocketConnected()||o(!0)},l=()=>{r(!1),o(!0)};e(),Jn.socket&&(Jn.socket.on("connect",i),Jn.socket.on("disconnect",s)),window.addEventListener("online",a),window.addEventListener("offline",l);const c=setInterval(e,5e3);return()=>{Jn.socket&&(Jn.socket.off("connect",i),Jn.socket.off("disconnect",s)),window.removeEventListener("online",a),window.removeEventListener("offline",l),clearInterval(c)}},[n]);return null};function pr(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(null),[y,b]=(0,i.useState)(!1),[w,x]=(0,i.useState)("overview"),[S,k]=(0,i.useState)(!1),[_,E]=(0,i.useState)(null),[N,C]=(0,i.useState)(""),[T,A]=(0,i.useState)("distance"),[j,I]=(0,i.useState)("all"),[P,R]=(0,i.useState)("all"),[O,D]=(0,i.useState)("all"),[L,M]=(0,i.useState)(!1),[F,U]=(0,i.useState)([]),[z,B]=(0,i.useState)(!1),[V,q]=(0,i.useState)(null),[H,W]=(0,i.useState)(!1),[K,G]=(0,i.useState)(!1),[Q,J]=(0,i.useState)(!1),[Y,$]=(0,i.useState)(!1),[X,Z]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=[...s];if(N.trim()&&(e=e.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())||e.type.toLowerCase().includes(N.toLowerCase())||e.vicinity.toLowerCase().includes(N.toLowerCase())||e.services.some(e=>e.toLowerCase().includes(N.toLowerCase())))),"all"!==j&&(e=e.filter(e=>e.services.some(e=>e.toLowerCase().includes(j.toLowerCase())))),"all"!==P){const t=parseFloat(P);e=e.filter(e=>e.rating>=t)}if("all"!==O){const t=parseInt(O);e=e.filter(e=>e.price_level===t)}e.sort((e,t)=>{switch(T){case"distance":return e.distance-t.distance;case"rating":return t.rating-e.rating;case"price_low":return(e.price_level||2)-(t.price_level||2);case"price_high":return(t.price_level||2)-(e.price_level||2);case"queue":return e.queueLength-t.queueLength;case"name":return e.name.localeCompare(t.name);default:return 0}}),c(e)},[s,N,T,j,P,O]);const ee=()=>new Promise((e,t)=>{if(window.google&&window.google.maps&&window.google.maps.places)return console.log("\u2705 Google Maps already loaded"),void e();console.log("\ud83d\udd04 Loading Google Maps API...");const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyB-whEHfL1hCxfDTrgOUHiMv636vZX3rBs","&libraries=places&callback=initMap"),n.async=!0,n.defer=!0,window.initMap=()=>{console.log("\u2705 Google Maps API loaded successfully"),e()},n.onload=()=>{setTimeout(()=>{window.google&&window.google.maps&&(console.log("\u2705 Google Maps loaded (fallback)"),e())},1e3)},n.onerror=e=>{console.error("\u274c Failed to load Google Maps:",e),t(new Error("Failed to load Google Maps API"))},document.head.appendChild(n)}),te=async e=>{console.log("HARD SEARCH: Starting aggressive salon discovery near:",e),console.log("Location data received:",{lat:e.lat,lng:e.lng,address:e.address});try{console.log("\ud83d\udd04 Loading Google Maps API..."),await ee();let n=0;const r=100;for(;(!window.google||!window.google.maps||!window.google.maps.places)&&n<r;)await new Promise(e=>setTimeout(e,100)),n++;if(!window.google||!window.google.maps||!window.google.maps.places)throw new Error("Google Maps API failed to load. Check your API key and internet connection.");console.log("\u2705 Google Maps loaded, starting HARD SEARCH...");const i=document.createElement("div"),s=new window.google.maps.Map(i,{center:{lat:e.lat,lng:e.lng},zoom:15}),o=new window.google.maps.places.PlacesService(s);console.log("\ud83d\udd11 Testing Google Places API key...");try{await new Promise((t,n)=>{o.nearbySearch({location:new window.google.maps.LatLng(e.lat,e.lng),radius:1e3,type:"establishment"},(e,r)=>{console.log("\ud83d\udd11 API Key Test Status:",r),r===window.google.maps.places.PlacesServiceStatus.REQUEST_DENIED?n(new Error("\u274c Google Places API key is INVALID or RESTRICTED. Check your .env file and Google Console API key settings.")):r===window.google.maps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?n(new Error("\u274c Google Places API QUOTA EXCEEDED. You have hit the daily limit. Wait 24 hours or upgrade your plan.")):(console.log("\u2705 API key test successful - proceeding with HARD SEARCH"),t())})})}catch(t){throw t}let a=[];console.log("STRATEGY 1: Comprehensive text search for salons...");const l=[],c=(e.address||"").toLowerCase();console.log("Processing location:",c),(c.includes("patia")||c.includes("bhubaneswar"))&&l.push("Looks Salon Patia","Naturals Salon Bhubaneswar","Lakme Salon Bhubaneswar","VLCC Bhubaneswar","Jawed Habib Bhubaneswar","Green Trends Bhubaneswar","Bounce Salon Bhubaneswar","Enrich Salon Bhubaneswar","salon Patia Bhubaneswar","beauty parlour Patia","hair salon Jaydev Vihar","unisex salon Patia Square");const u=[...l,"salon ".concat(e.address),"beauty salon ".concat(e.address),"hair salon ".concat(e.address),"parlour ".concat(e.address),"barber ".concat(e.address),"spa ".concat(e.address),"salon near me","beauty parlour","hair cutting salon","unisex salon","ladies salon","gents salon","hair salon","beauty salon","barber shop","spa salon"];for(const t of u)try{console.log("Searching for: ".concat(t));const n=await new Promise((n,r)=>{const i={query:t,location:new window.google.maps.LatLng(e.lat,e.lng),radius:2e4};o.textSearch(i,(e,i)=>{console.log("".concat(t," search status: ").concat(i)),console.log("".concat(t," results: ").concat((null===e||void 0===e?void 0:e.length)||0)),i===window.google.maps.places.PlacesServiceStatus.OK?n(e||[]):i===window.google.maps.places.PlacesServiceStatus.ZERO_RESULTS?n([]):i===window.google.maps.places.PlacesServiceStatus.REQUEST_DENIED?(console.error("\u274c Places API request denied - check API key"),r(new Error("Places API request denied"))):(console.warn("".concat(t," search failed: ").concat(i)),n([]))})});n.length>0&&(console.log("\u2705 Found ".concat(n.length,' results for "').concat(t,'"')),a=a.concat(n)),await new Promise(e=>setTimeout(e,100))}catch(h){console.error('Text search failed for "'.concat(t,'":'),h)}console.log("STRATEGY 2: Comprehensive nearby search...");const d=[{type:"beauty_salon",radius:25e3,keyword:null},{type:"hair_care",radius:25e3,keyword:null},{type:"spa",radius:2e4,keyword:null},{type:"establishment",radius:15e3,keyword:"salon"},{type:"establishment",radius:15e3,keyword:"beauty"},{type:"establishment",radius:15e3,keyword:"parlour"},{type:"establishment",radius:15e3,keyword:"barber"},{type:"establishment",radius:15e3,keyword:"hair"}];for(const t of d)try{console.log("Nearby search: ".concat(t.type," (").concat(t.radius/1e3,"km)").concat(t.keyword?" - ".concat(t.keyword):""));const n=await new Promise((n,r)=>{const i={location:new window.google.maps.LatLng(e.lat,e.lng),radius:t.radius,type:t.type};t.keyword&&(i.keyword=t.keyword),o.nearbySearch(i,(e,r)=>{console.log("".concat(t.type).concat(t.keyword?" (".concat(t.keyword,")"):""," - Status: ").concat(r,", Results: ").concat((null===e||void 0===e?void 0:e.length)||0)),r===window.google.maps.places.PlacesServiceStatus.OK?n(e||[]):(r===window.google.maps.places.PlacesServiceStatus.ZERO_RESULTS||console.warn("".concat(t.type," search failed: ").concat(r)),n([]))})});n.length>0&&(console.log("\u2705 Found ".concat(n.length," results for ").concat(t.type).concat(t.keyword?" (".concat(t.keyword,")"):"")),a=a.concat(n)),await new Promise(e=>setTimeout(e,300))}catch(h){console.error("Nearby search failed for ".concat(t.type,":"),h)}if(a.length<10){console.log("STRATEGY 3: Broader area search...");const t=(e.address||"nearby area").split(",")[0].trim(),n=["salon ".concat(t),"beauty parlour ".concat(t),"hair salon ".concat(t),"barber shop ".concat(t),"spa ".concat(t),"unisex salon ".concat(t)];for(const r of n)try{console.log('Broad search: "'.concat(r,'"'));const t=await new Promise((t,n)=>{const i={query:r,location:new window.google.maps.LatLng(e.lat,e.lng),radius:5e4};o.textSearch(i,(e,n)=>{n===window.google.maps.places.PlacesServiceStatus.OK?t(e||[]):t([])})});t.length>0&&(console.log("\u2705 Broad search found ".concat(t.length,' results for "').concat(r,'"')),a=a.concat(t)),await new Promise(e=>setTimeout(e,400))}catch(h){console.error('Broad search failed for "'.concat(r,'":'),h)}}console.log("Processing ".concat(a.length," total results..."));const f=[],p=new Set;for(const e of a)if(!p.has(e.place_id)){p.add(e.place_id);const t=e.name.toLowerCase(),n=e.types?e.types.join(" ").toLowerCase():"",r=(e.vicinity||"").toLowerCase();(t.includes("salon")||t.includes("beauty")||t.includes("hair")||t.includes("parlour")||t.includes("parlor")||t.includes("spa")||t.includes("unisex")||t.includes("barber")||t.includes("cut")||t.includes("style")||t.includes("glamour")||t.includes("looks")||t.includes("makeover")||t.includes("trim")||t.includes("shave")||n.includes("beauty_salon")||n.includes("hair_care")||n.includes("spa")||r.includes("salon")||r.includes("beauty"))&&f.push(e)}if(console.log("\u2705 HARD SEARCH COMPLETE: Found ".concat(f.length," unique salon-related businesses")),f.length>0&&(console.log("HARD SEARCH RESULTS:"),f.slice(0,15).forEach((t,n)=>{const r=ne(e.lat,e.lng,t.geometry.location.lat(),t.geometry.location.lng());console.log("".concat(n+1,". ").concat(t.name," - ").concat(r.toFixed(1),"km - Rating: ").concat(t.rating||"N/A"))})),0===f.length)throw console.log("\u274c HARD SEARCH FOUND ZERO SALONS - Possible reasons:"),console.log("   \u2022 Google Places API quota exceeded (1000 requests/day limit)"),console.log("   \u2022 No salons registered in Google Maps for this specific area"),console.log("   \u2022 API key restrictions or billing issues"),console.log("   \u2022 Network connectivity problems"),console.log("   \u2022 Location coordinates invalid or not recognized"),console.log(""),console.log("TROUBLESHOOTING STEPS:"),console.log("   1. Check Google Console > APIs & Services > Quotas"),console.log("   2. Verify API key in .env file"),console.log('   3. Try a major city like "Mumbai" or "Delhi"'),console.log("   4. Check network connection"),console.log("   5. Wait 24 hours if quota exceeded"),new Error('HARD SEARCH: No salons found near "'.concat(e.address,'". This means either (1) Google Places API quota exceeded, (2) No salons registered on Google Maps in this area, or (3) API configuration issues. Try a major city or check API quota in Google Console.'));f.sort((t,n)=>{const r=ne(e.lat,e.lng,t.geometry.location.lat(),t.geometry.location.lng()),i=ne(e.lat,e.lng,n.geometry.location.lat(),n.geometry.location.lng());return Math.abs(r-i)<2?(n.rating||4)-(t.rating||4):r-i});const m=f.slice(0,50).map(t=>{const n=ne(e.lat,e.lng,t.geometry.location.lat(),t.geometry.location.lng());return{place_id:t.place_id,name:t.name,type:re(t),vicinity:t.vicinity||t.formatted_address,formatted_address:t.formatted_address||t.vicinity,geometry:{location:{lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}},rating:t.rating||4,user_ratings_total:t.user_ratings_total||Math.floor(50*Math.random())+10,price_level:t.price_level||2,opening_hours:t.opening_hours,photos:t.photos,types:t.types,distance:n,queueLength:Math.floor(8*Math.random())+1,waitTime:Math.floor(35*Math.random())+10,services:ie(re(t))}}).sort((e,t)=>e.distance-t.distance).slice(0,30);return console.log("\u2705 Returning ".concat(m.length," processed REAL salons")),m}catch(h){throw console.error("\u274c HARD SEARCH completely failed:",h),console.error("\u274c This could be due to:"),console.error("   \u2022 Google Places API quota exceeded"),console.error("   \u2022 API key restrictions or invalid key"),console.error("   \u2022 Network connectivity issues"),console.error("   \u2022 No salons registered in Google Maps for this area"),new Error("HARD SEARCH failed: ".concat(h.message,". Check console for details."))}},ne=(e,t,n,r)=>{const i=(n-e)*Math.PI/180,s=(r-t)*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},re=e=>{const t=e.name.toLowerCase(),n=e.types||[];return n.includes("hair_care")||t.includes("barber")?"Barber Shop":n.includes("spa")||t.includes("spa")?"Spa & Salon":t.includes("unisex")?"Unisex Salon":t.includes("ladies")||t.includes("women")?"Ladies Salon":t.includes("gents")||t.includes("men")?"Gents Salon":t.includes("parlor")||t.includes("parlour")?"Beauty Parlour":"Beauty Salon"},ie=e=>({"Barber Shop":["Haircut","Beard Trim","Shaving","Head Massage"],"Beauty Salon":["Haircut","Hair Styling","Facial","Waxing","Threading"],"Beauty Parlour":["Facial","Waxing","Threading","Manicure","Pedicure"],"Spa & Salon":["Haircut","Facial","Massage","Spa Treatment"],"Unisex Salon":["Haircut","Hair Styling","Facial","Threading"],"Ladies Salon":["Haircut","Hair Styling","Facial","Waxing"],"Gents Salon":["Haircut","Beard Styling","Hair Wash","Facial"]}[e]||["Haircut","Hair Styling"]),se=async()=>{d(!0),f(null);try{m("Getting your location...");const e=await new Promise((e,t)=>{navigator.geolocation?(console.log("Requesting location access..."),navigator.geolocation.getCurrentPosition(t=>{console.log("\u2705 Location obtained:",t.coords),e({lat:t.coords.latitude,lng:t.coords.longitude})},e=>{let n="Location access failed";switch(e.code){case e.PERMISSION_DENIED:n="Location access denied by user";break;case e.POSITION_UNAVAILABLE:n="Location information unavailable";break;case e.TIMEOUT:n="Location request timed out";break;default:n="Unknown location error"}console.error("\u274c Location error:",n),t(new Error(n))},{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})):t(new Error("Geolocation not supported"))});console.log("Location obtained:",e),m("Finding address...");let n="".concat(e.lat.toFixed(4),", ").concat(e.lng.toFixed(4));try{for(await ee();!window.google||!window.google.maps;)await new Promise(e=>setTimeout(e,100));const t=new window.google.maps.Geocoder,r=await new Promise((r,i)=>{t.geocode({location:{lat:e.lat,lng:e.lng}},(e,t)=>{"OK"===t&&e[0]?r(e[0].formatted_address):r(n)})});n=r}catch(h){console.log("Reverse geocoding failed, using coordinates")}t(e),r(n),m("Searching for nearby salons...");const i={lat:e.lat,lng:e.lng,address:n};console.log("Calling HARD SEARCH with current location:",i);const s=await te(i);if(!(s&&s.length>0))throw new Error("No salons found in your area. Try a different location.");a(s),console.log("\u2705 Successfully loaded ".concat(s.length," salons")),m(""),ae()}catch(h){console.error("\u274c Location detection failed:",h),f(h.message),m("")}finally{d(!1)}},oe=async e=>{d(!0),f(null);try{m("Finding location...");const n=await(async e=>{try{for(await ee();!window.google||!window.google.maps;)await new Promise(e=>setTimeout(e,100));const t=new window.google.maps.Geocoder;return new Promise((n,r)=>{t.geocode({address:e},(e,t)=>{if(console.log("Geocoding status:",t),console.log("Geocoding results:",e),"OK"===t&&e[0]){const t=e[0].geometry.location;n({lat:t.lat(),lng:t.lng(),formatted_address:e[0].formatted_address})}else r("ZERO_RESULTS"===t?new Error("Location not found. Please try a different address."):"REQUEST_DENIED"===t?new Error("Geocoding request denied. Please check your API key."):new Error("Failed to find location. Please try again."))})})}catch(h){throw new Error("Geocoding failed: "+h.message)}})(e);console.log("Geocoded location:",n),t({lat:n.lat,lng:n.lng}),r(n.formatted_address),m("Searching for nearby salons...");const i={lat:n.lat,lng:n.lng,address:n.formatted_address||e};console.log("Calling HARD SEARCH with:",i),console.log("About to call searchNearbyPlaces function...");const s=await te(i);if(console.log("HARD SEARCH returned:",s),console.log("Number of results:",s?s.length:0),!(s&&s.length>0))throw new Error("No salons found in this area. Try a different location.");a(s),console.log("\u2705 Successfully loaded ".concat(s.length," salons")),m(""),ae()}catch(h){console.error("\u274c Location search failed:",h),f(h.message),m("")}finally{d(!1)}},ae=()=>{try{const e=localStorage.getItem("userBookings");if(e){const t=JSON.parse(e);U(t)}}catch(h){console.error("Failed to load bookings:",h)}};return e?(0,xt.jsxs)("div",{className:"app",style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",color:"#ffffff"},children:[(0,xt.jsxs)("header",{className:"app-header",children:[(0,xt.jsxs)("div",{className:"header-brand",children:[(0,xt.jsx)("h1",{children:"Babuu"}),(0,xt.jsx)("p",{className:"tagline",children:"Groom kar de aapko?"})]}),(0,xt.jsxs)("div",{className:"location-info",children:[(0,xt.jsx)("span",{className:"location-icon"}),(0,xt.jsx)("span",{className:"location-text",children:n})]}),(0,xt.jsxs)("div",{className:"header-actions",children:[(0,xt.jsxs)("button",{onClick:()=>B(!0),className:"bookings-btn",children:["My Bookings (",F.length,")"]}),(0,xt.jsx)("button",{onClick:()=>t(null),className:"change-location-btn",children:"Change Location"}),(0,xt.jsx)(ft,{to:"/owner",className:"owner-link-header",children:"Owner Dashboard"})]})]}),(0,xt.jsxs)("div",{className:"search-filter-bar",children:[(0,xt.jsx)("div",{className:"search-section",children:(0,xt.jsx)("div",{className:"search-input-container",children:(0,xt.jsx)("input",{type:"text",placeholder:"\ud83d\udd0e Search salons, services, or areas...",value:N,onChange:e=>C(e.target.value),className:"search-input"})})}),(0,xt.jsxs)("div",{className:"filter-section",children:[(0,xt.jsxs)("button",{onClick:()=>M(!L),className:"filter-toggle-btn ".concat(L?"active":""),children:["Filters ",("all"!==j||"all"!==P||"all"!==O)&&"\u25cf"]}),(0,xt.jsxs)("select",{value:T,onChange:e=>A(e.target.value),className:"sort-select",children:[(0,xt.jsx)("option",{value:"distance",children:"Sort by Distance"}),(0,xt.jsx)("option",{value:"rating",children:"Sort by Rating"}),(0,xt.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,xt.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,xt.jsx)("option",{value:"queue",children:"Shortest Queue"}),(0,xt.jsx)("option",{value:"name",children:"Sort by Name"})]})]})]}),L&&(0,xt.jsx)("div",{className:"advanced-filters",children:(0,xt.jsxs)("div",{className:"filter-row",children:[(0,xt.jsxs)("div",{className:"filter-group",children:[(0,xt.jsx)("label",{children:"Service:"}),(0,xt.jsxs)("select",{value:j,onChange:e=>I(e.target.value),className:"filter-select",children:[(0,xt.jsx)("option",{value:"all",children:"All Services"}),(()=>{const e=new Set;return s.forEach(t=>{t.services.forEach(t=>e.add(t))}),Array.from(e).sort()})().map(e=>(0,xt.jsx)("option",{value:e,children:e},e))]})]}),(0,xt.jsxs)("div",{className:"filter-group",children:[(0,xt.jsx)("label",{children:"Rating:"}),(0,xt.jsxs)("select",{value:P,onChange:e=>R(e.target.value),className:"filter-select",children:[(0,xt.jsx)("option",{value:"all",children:"Any Rating"}),(0,xt.jsx)("option",{value:"4.5",children:"4.5+ Stars"}),(0,xt.jsx)("option",{value:"4.0",children:"4.0+ Stars"}),(0,xt.jsx)("option",{value:"3.5",children:"3.5+ Stars"}),(0,xt.jsx)("option",{value:"3.0",children:"3.0+ Stars"})]})]}),(0,xt.jsxs)("div",{className:"filter-group",children:[(0,xt.jsx)("label",{children:"Price Range:"}),(0,xt.jsxs)("select",{value:O,onChange:e=>D(e.target.value),className:"filter-select",children:[(0,xt.jsx)("option",{value:"all",children:"Any Price"}),(0,xt.jsx)("option",{value:"1",children:"Budget"}),(0,xt.jsx)("option",{value:"2",children:"Moderate"}),(0,xt.jsx)("option",{value:"3",children:"Premium"}),(0,xt.jsx)("option",{value:"4",children:"Luxury"})]})]}),(0,xt.jsx)("button",{onClick:()=>{C(""),A("distance"),I("all"),R("all"),D("all")},className:"clear-filters-btn",children:"Clear All"})]})}),(0,xt.jsxs)("main",{className:"app-main",children:[u&&(0,xt.jsxs)("div",{className:"search-loading",children:[(0,xt.jsx)("div",{className:"spinner"}),(0,xt.jsx)("p",{children:p})]}),(0,xt.jsx)("div",{className:"main-content",children:(0,xt.jsxs)("div",{className:"salon-list",children:[(0,xt.jsxs)("div",{className:"salon-list-header",children:[(0,xt.jsx)("h2",{children:N||"all"!==j||"all"!==P||"all"!==O?"Found ".concat(l.length," salons"):"Nearby Salons (".concat(s.length,")")}),0===l.length&&s.length>0&&(0,xt.jsx)("p",{className:"no-results",children:"No salons match your criteria. Try adjusting your filters."})]}),(l.length>0?l:s).map(e=>{var t,n;return(0,xt.jsxs)("div",{className:"salon-card",children:[(0,xt.jsxs)("div",{className:"salon-card-header",children:[(0,xt.jsx)("div",{className:"salon-avatar",children:(0,xt.jsx)("div",{className:"salon-logo",children:e.name.charAt(0)})}),(0,xt.jsxs)("div",{className:"salon-header-info",children:[(0,xt.jsx)("h3",{className:"salon-name",children:e.name}),(0,xt.jsxs)("div",{className:"salon-meta",children:[(0,xt.jsxs)("div",{className:"salon-rating",children:[(0,xt.jsx)("span",{className:"star-icon",children:"\u2605"}),(0,xt.jsx)("span",{className:"rating-value",children:e.rating}),(0,xt.jsxs)("span",{className:"distance-info",children:["\u2022 ",e.distance<1?"".concat(Math.round(1e3*e.distance),"m"):"".concat(e.distance.toFixed(1),"km")]})]}),(0,xt.jsxs)("div",{className:"salon-status ".concat(null!==(t=e.opening_hours)&&void 0!==t&&t.open_now?"open":"closed"),children:[(0,xt.jsx)("span",{className:"status-dot"}),(0,xt.jsx)("span",{children:null!==(n=e.opening_hours)&&void 0!==n&&n.open_now?"Open":"Closed"})]})]})]}),(0,xt.jsx)("div",{className:"wait-badge ".concat(e.queueLength<=2?"low":e.queueLength<=5?"medium":"high"),children:e.queueLength<=2?"Low":e.queueLength<=5?"Med":"High"})]}),(0,xt.jsxs)("div",{className:"salon-card-body",children:[(0,xt.jsxs)("div",{className:"salon-address",children:[(0,xt.jsx)("span",{className:"address-icon"}),(0,xt.jsx)("span",{className:"address-text",children:e.vicinity})]}),(0,xt.jsx)("div",{className:"live-queue-section",children:(0,xt.jsxs)("div",{className:"queue-header",children:[(0,xt.jsxs)("div",{className:"queue-left",children:[(0,xt.jsx)("span",{className:"queue-title",children:"Live Queue"}),(0,xt.jsxs)("div",{className:"queue-time",children:["~",15*e.queueLength," min wait"]})]}),(0,xt.jsxs)("div",{className:"queue-right",children:[(0,xt.jsxs)("span",{className:"queue-position",children:["#",e.queueLength+1," in queue"]}),(0,xt.jsx)("button",{className:"queue-join-btn",onClick:()=>(e=>{Z(e),G(!0)})(e),children:"Join Queue"})]})]})}),(0,xt.jsxs)("div",{className:"salon-services-preview",children:[(0,xt.jsx)("span",{className:"services-label",children:"Services:"}),(0,xt.jsx)("span",{className:"services-list",children:e.services.slice(0,3).join(", ")}),e.services.length>3&&(0,xt.jsxs)("span",{className:"services-more",children:["+",e.services.length-3," more"]})]})]}),(0,xt.jsxs)("div",{className:"salon-card-actions",children:[(0,xt.jsx)("button",{className:"action-btn primary-action",onClick:()=>(e=>{Z(e),J(!0)})(e),children:"Book Appointment"}),(0,xt.jsx)("button",{className:"info-action",onClick:()=>(e=>{Z(e),$(!0)})(e),children:"More Info"})]})]},e.place_id)})]})}),K&&X&&(0,xt.jsx)(cr,{salon:X,onClose:()=>{G(!1),Z(null)},onComplete:()=>{G(!1),Z(null)}}),Q&&X&&(0,xt.jsx)(ur,{salon:X,onClose:()=>{J(!1),Z(null)},onComplete:()=>{J(!1),Z(null)}}),Y&&X&&(0,xt.jsx)(dr,{salon:X,onClose:()=>{$(!1),Z(null)}}),y&&g&&(0,xt.jsx)(lr,{salon:g,onClose:()=>{b(!1),v(null)},onBookingComplete:e=>{U(t=>[e,...t]),b(!1),v(null)},initialTab:w}),S&&_&&(0,xt.jsx)(sr,{salon:_,services:(e=>{const t={"Beauty Salon":[{id:1,name:"Haircut & Styling",duration:45,price:500,description:"Professional haircut with styling"},{id:2,name:"Hair Wash & Blow Dry",duration:30,price:300,description:"Deep cleansing and styling"},{id:3,name:"Facial Treatment",duration:60,price:800,description:"Deep cleansing facial with mask"},{id:4,name:"Eyebrow Threading",duration:15,price:150,description:"Precise eyebrow shaping"},{id:5,name:"Manicure",duration:45,price:400,description:"Complete nail care and polish"},{id:6,name:"Pedicure",duration:60,price:600,description:"Foot care and nail polish"}],"Barber Shop":[{id:1,name:"Classic Haircut",duration:30,price:300,description:"Traditional men's haircut"},{id:2,name:"Beard Trim & Style",duration:20,price:200,description:"Professional beard grooming"},{id:3,name:"Hot Towel Shave",duration:30,price:350,description:"Traditional wet shave experience"},{id:4,name:"Hair Wash & Style",duration:25,price:250,description:"Shampoo and styling"},{id:5,name:"Mustache Trim",duration:10,price:100,description:"Precise mustache grooming"}],"Spa & Salon":[{id:1,name:"Luxury Haircut",duration:60,price:800,description:"Premium haircut with consultation"},{id:2,name:"Deep Tissue Massage",duration:90,price:1500,description:"Therapeutic full body massage"},{id:3,name:"Aromatherapy Facial",duration:75,price:1200,description:"Relaxing facial with essential oils"},{id:4,name:"Body Spa Package",duration:120,price:2500,description:"Complete body treatment"},{id:5,name:"Hair Spa Treatment",duration:90,price:1e3,description:"Deep conditioning hair treatment"}],"Unisex Salon":[{id:1,name:"Haircut (Men/Women)",duration:45,price:400,description:"Professional unisex haircut"},{id:2,name:"Hair Coloring",duration:120,price:1200,description:"Professional hair coloring service"},{id:3,name:"Facial Treatment",duration:60,price:700,description:"Suitable for all skin types"},{id:4,name:"Threading & Waxing",duration:30,price:300,description:"Hair removal services"},{id:5,name:"Bridal Package",duration:180,price:3e3,description:"Complete bridal makeover"}]};return t[e.type]||t["Beauty Salon"]})(_),onJoinQueue:e=>{console.log("Queue joined:",e),wt.Ay.success("Successfully joined queue at ".concat(_.name,"!"));const t={id:"queue_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),salonId:_.id,salonName:_.name,customerName:e.name,customerPhone:e.phone,customerEmail:e.email,selectedServices:e.selectedServices,totalAmount:e.totalAmount,totalDuration:e.totalDuration,type:"queue",status:"in_queue",paymentId:e.paymentId,createdAt:(new Date).toISOString(),queuePosition:_.queueLength+1,estimatedWaitTime:_.waitTime};U(e=>[t,...e]),q(t),k(!1),E(null),W(!0)},onClose:()=>{k(!1),E(null)}}),z&&(0,xt.jsx)(gr,{bookings:F,onClose:()=>B(!1),onUpdateBooking:(e,t)=>{try{const n=F.map(n=>n.id===e?(0,o.A)((0,o.A)({},n),{},{status:t,updatedAt:(new Date).toISOString()}):n);U(n),localStorage.setItem("userBookings",JSON.stringify(n))}catch(h){console.error("Failed to update booking:",h)}},salons:s}),H&&V&&(0,xt.jsx)(hr,{booking:V,onClose:()=>W(!1)})]})]}):(0,xt.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",color:"#ffffff"},children:[(0,xt.jsx)("div",{className:"app-nav",children:(0,xt.jsx)(ft,{to:"/owner",className:"owner-link",children:"Salon Owner? Manage Your Queue \u2192"})}),(0,xt.jsx)(St,{onLocationDetection:se,onLocationSearch:oe,loading:u,loadingStatus:p,error:h})]})}function mr(){const[e,t]=(0,i.useState)(null),n=e=>{t(e)};return e?(0,xt.jsx)(er,{ownerData:e,onLogout:()=>{t(null)}}):(0,xt.jsx)(kt,{onLogin:n})}function gr(e){let{bookings:t,onClose:n,onUpdateBooking:r,salons:s}=e;const[o,a]=(0,i.useState)("ongoing"),l=t.filter(e=>"confirmed"===e.status||"in_progress"===e.status||"waiting"===e.status||"in_queue"===e.status),c=t.filter(e=>"completed"===e.status||"cancelled"===e.status),u=e=>{const t=s.find(t=>t.place_id===e);return t?t.name:"Unknown Salon"},d=e=>{switch(e){case"confirmed":return"#28a745";case"in_progress":return"#007bff";case"waiting":return"#ffc107";case"in_queue":return"#17a2b8";case"completed":default:return"#6c757d";case"cancelled":return"#dc3545"}},h=e=>{switch(e){case"confirmed":return"\u2705";case"in_progress":return"\ud83d\udd04";case"waiting":return"\u23f3";case"in_queue":return"In Queue";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return"Booking"}},f=e=>{const t=new Date(e);return t.toLocaleDateString()+" at "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},p=e=>e&&Array.isArray(e)?e.reduce((e,t)=>e+(t.price||0),0):0;return(0,xt.jsx)("div",{className:"bookings-modal-overlay",children:(0,xt.jsxs)("div",{className:"bookings-modal",children:[(0,xt.jsxs)("div",{className:"bookings-modal-header",children:[(0,xt.jsx)("h2",{children:"\ud83d\udccb My Bookings"}),(0,xt.jsx)("button",{onClick:n,className:"close-modal-btn",children:"\xd7"})]}),(0,xt.jsxs)("div",{className:"bookings-tabs",children:[(0,xt.jsxs)("button",{className:"bookings-tab ".concat("ongoing"===o?"active":""),onClick:()=>a("ongoing"),children:["\ud83d\udd04 Ongoing (",l.length,")"]}),(0,xt.jsxs)("button",{className:"bookings-tab ".concat("completed"===o?"active":""),onClick:()=>a("completed"),children:["\u2728 History (",c.length,")"]})]}),(0,xt.jsxs)("div",{className:"bookings-content",children:["ongoing"===o&&(0,xt.jsx)("div",{className:"bookings-list",children:0===l.length?(0,xt.jsxs)("div",{className:"no-bookings",children:[(0,xt.jsx)("div",{className:"no-bookings-icon",children:"\ud83d\udcc5"}),(0,xt.jsx)("h3",{children:"No ongoing bookings"}),(0,xt.jsx)("p",{children:"Your current appointments and queue entries will appear here."})]}):l.map(e=>{var t;return(0,xt.jsxs)("div",{className:"booking-card",children:[(0,xt.jsxs)("div",{className:"booking-header",children:[(0,xt.jsxs)("div",{className:"booking-salon",children:[(0,xt.jsx)("h3",{children:u(e.salonId)}),(0,xt.jsx)("p",{className:"booking-type",children:"queue"===e.type?"\ud83d\udc65 Queue Entry":"\ud83d\udcc5 Appointment"})]}),(0,xt.jsx)("div",{className:"booking-status",children:(0,xt.jsxs)("span",{className:"status-badge",style:{backgroundColor:d(e.status)},children:[h(e.status)," ",e.status]})})]}),(0,xt.jsxs)("div",{className:"booking-details",children:[(0,xt.jsxs)("div",{className:"booking-info",children:[(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Customer:"}),(0,xt.jsx)("span",{className:"value",children:e.customerName})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Phone:"}),(0,xt.jsx)("span",{className:"value",children:e.customerPhone})]}),e.preferredTime&&(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Time:"}),(0,xt.jsx)("span",{className:"value",children:e.preferredTime})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Booked:"}),(0,xt.jsx)("span",{className:"value",children:f(e.createdAt)})]}),"queue"===e.type&&(0,xt.jsxs)(xt.Fragment,{children:[(0,xt.jsxs)("div",{className:"info-item queue-position",children:[(0,xt.jsx)("span",{className:"label",children:"Queue Position:"}),(0,xt.jsxs)("span",{className:"value queue-number",children:["#",e.queuePosition||"Updating..."]})]}),(0,xt.jsxs)("div",{className:"info-item queue-wait",children:[(0,xt.jsx)("span",{className:"label",children:"Est. Wait Time:"}),(0,xt.jsxs)("span",{className:"value",children:["~",e.estimatedWaitTime||15," minutes"]})]})]})]}),(0,xt.jsxs)("div",{className:"booking-services",children:[(0,xt.jsx)("h4",{children:"Services:"}),(0,xt.jsx)("div",{className:"services-list",children:null===(t=e.selectedServices)||void 0===t?void 0:t.map((e,t)=>(0,xt.jsxs)("div",{className:"service-item",children:[(0,xt.jsx)("span",{className:"service-name",children:e.name}),(0,xt.jsxs)("span",{className:"service-price",children:["\u20b9",e.price]})]},t))})]}),(0,xt.jsx)("div",{className:"booking-total",children:(0,xt.jsxs)("strong",{children:["Total: \u20b9",e.totalAmount||p(e.selectedServices)]})}),e.specialRequests&&(0,xt.jsxs)("div",{className:"booking-notes",children:[(0,xt.jsx)("h4",{children:"Special Requests:"}),(0,xt.jsx)("p",{children:e.specialRequests})]})]}),(0,xt.jsxs)("div",{className:"booking-actions",children:["confirmed"===e.status&&(0,xt.jsx)("button",{onClick:()=>r(e.id,"cancelled"),className:"cancel-booking-btn",children:"\u274c Cancel Booking"}),e.paymentId&&(0,xt.jsxs)("div",{className:"payment-info",children:["\ud83d\udcb3 Payment ID: ",e.paymentId.slice(-8)]})]})]},e.id)})}),"completed"===o&&(0,xt.jsx)("div",{className:"bookings-list",children:0===c.length?(0,xt.jsxs)("div",{className:"no-bookings",children:[(0,xt.jsx)("div",{className:"no-bookings-icon",children:"\ud83d\udcdc"}),(0,xt.jsx)("h3",{children:"No booking history"}),(0,xt.jsx)("p",{children:"Your completed and cancelled bookings will appear here."})]}):c.map(e=>{var t;return(0,xt.jsxs)("div",{className:"booking-card completed",children:[(0,xt.jsxs)("div",{className:"booking-header",children:[(0,xt.jsxs)("div",{className:"booking-salon",children:[(0,xt.jsx)("h3",{children:u(e.salonId)}),(0,xt.jsx)("p",{className:"booking-type",children:"queue"===e.type?"\ud83d\udc65 Queue Entry":"\ud83d\udcc5 Appointment"})]}),(0,xt.jsx)("div",{className:"booking-status",children:(0,xt.jsxs)("span",{className:"status-badge",style:{backgroundColor:d(e.status)},children:[h(e.status)," ",e.status]})})]}),(0,xt.jsxs)("div",{className:"booking-details",children:[(0,xt.jsxs)("div",{className:"booking-info",children:[(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Customer:"}),(0,xt.jsx)("span",{className:"value",children:e.customerName})]}),(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"Date:"}),(0,xt.jsx)("span",{className:"value",children:f(e.createdAt)})]}),e.updatedAt&&e.updatedAt!==e.createdAt&&(0,xt.jsxs)("div",{className:"info-item",children:[(0,xt.jsx)("span",{className:"label",children:"completed"===e.status?"Completed:":"Updated:"}),(0,xt.jsx)("span",{className:"value",children:f(e.updatedAt)})]})]}),(0,xt.jsxs)("div",{className:"booking-services",children:[(0,xt.jsx)("h4",{children:"Services:"}),(0,xt.jsx)("div",{className:"services-list",children:null===(t=e.selectedServices)||void 0===t?void 0:t.map((e,t)=>(0,xt.jsxs)("div",{className:"service-item",children:[(0,xt.jsx)("span",{className:"service-name",children:e.name}),(0,xt.jsxs)("span",{className:"service-price",children:["\u20b9",e.price]})]},t))})]}),(0,xt.jsx)("div",{className:"booking-total",children:(0,xt.jsxs)("strong",{children:["Total: \u20b9",e.totalAmount||p(e.selectedServices)]})}),e.paymentId&&(0,xt.jsxs)("div",{className:"payment-info",children:["\ud83d\udcb3 Payment ID: ",e.paymentId]})]}),(0,xt.jsx)("div",{className:"booking-actions",children:"completed"===e.status&&(0,xt.jsx)("button",{onClick:()=>{s.find(t=>t.place_id===e.salonId)&&n()},className:"rebook-btn",children:"\ud83d\udd04 Book Again"})})]},e.id)})})]})]})})}const vr=function(){const e="yashvardhan1211.github.io"===window.location.hostname?"/yvss":"",[t]=(0,i.useState)(()=>{const e=localStorage.getItem("userId");if(e)return e;const t="user_".concat(Math.random().toString(36).substr(2,9));return localStorage.setItem("userId",t),t});return(0,i.useEffect)(()=>(t&&Jn.connect(t,"customer"),()=>{Jn.disconnect()}),[t]),(0,xt.jsx)(dt,{basename:e,children:(0,xt.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%)",color:"#ffffff"},children:[(0,xt.jsx)(wt.l$,{position:"top-right"}),(0,xt.jsx)(fr,{}),(0,xt.jsxs)(Ie,{children:[(0,xt.jsx)(Ae,{path:"/",element:(0,xt.jsx)(pr,{})}),(0,xt.jsx)(Ae,{path:"/owner",element:(0,xt.jsx)(mr,{})})]})]})})},yr=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)})};s.createRoot(document.getElementById("root")).render((0,xt.jsx)(i.StrictMode,{children:(0,xt.jsx)(vr,{})})),yr()})();
//# sourceMappingURL=main.ed416961.js.map